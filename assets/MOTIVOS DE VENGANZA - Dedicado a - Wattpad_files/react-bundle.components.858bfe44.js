!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_"),require("moment")):"function"==typeof define&&define.amd?define(["_","moment"],t):"object"==typeof exports?exports.components=t(require("_"),require("moment")):(e.app=e.app||{},e.app.components=t(e._,e.moment))}(window,(function(e,t){return function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],m=0,d=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;return o.push([231,1]),n()}([,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u.a})),n.d(t,"g",(function(){return S})),n.d(t,"l",(function(){return m})),n.d(t,"o",(function(){return d.a})),n.d(t,"f",(function(){return p})),n.d(t,"m",(function(){return y})),n.d(t,"k",(function(){return w})),n.d(t,"j",(function(){return k})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return R})),n.d(t,"p",(function(){return N.b})),n.d(t,"i",(function(){return P})),n.d(t,"b",(function(){return U})),n.d(t,"n",(function(){return A})),n.d(t,"q",(function(){return I}));var r=n(0),a=n.n(r);var o=function(e){var t=e.isLoading,n=e.onSetDefault,a=Object(r.useRef)(!1),o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){a.current||t||(o.current(),a.current=!0),t&&(a.current=!1)}),[t,a])},i=n(1),s=n.n(i);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=t}),[t]),Object(r.useEffect)((function(){if(e){var t=function(t){e&&e.contains(t.target)||n.current(t.target)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}}),[e])}l.propTypes={handleClickOutside:s.a.func.isRequired,ref:s.a.object.isRequired};var c=l,u=n(158);var m=function(e){var t=e.onThreshold,n=e.direction,a=void 0===n?"down":n,o=e.threshold,i=void 0===o?0:o,s=Object(r.useRef)(),l=Object(r.useRef)(0);Object(r.useEffect)((function(){s.current=t}),[t]),Object(u.a)("scroll",(function(){var e=function(e){var t,n=window.pageYOffset||document.documentElement.scrollTop;return t=n>e.current?"down":"up",e.current=n>0?n:0,t}(l);("down"===a&&"down"===e&&window.innerHeight+window.scrollY>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight||0)-i||"up"===a&&"up"===e&&window.pageYOffset<=i)&&s.current()}))},d=n(83),f=n(58);function p(){return Object(r.useContext)(f.c)}function y(e){Object(r.useEffect)((function(){window.document.title=e}),[e])}function b(){return Object(r.useContext)(f.a)}var g=n(6),h=n(91),v=n(8),w=function(){var e=p(),t=Object(g.c)(),n=function(){return t(Object(v.b)())},r=function(t,n,r,o,i,s,l,c){return a.a.createElement(h.c,{reportType:t,triggerRef:c,requesterUsername:e.username,requesterEmail:e.email,reportId:{name:n,body:r,location:o,deepLink:i},hideModal:s,storyLanguage:l})},o=function(e,a,o,i,s,l){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7?arguments[7]:void 0,m=function(){var e;n(),null==u||null===(e=u.current)||void 0===e||e.focus()};t(Object(v.b)({hideClose:!0,disableScroll:!0,disableClose:!0,className:"report-modal ".concat(c),useGlobalModalContainer:!0,component:function(){return r(e,a,o,i,s,m,l,u)}}))};return{openReportStoryModal:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;o(h.b.STORY,n,t,e,a,r)},openReportCommentModal:function(e,t,n,r,a){o(h.b.COMMENT,e,t,n,r,null,"report-comment-modal",a)},openReportModal:o}},E=n(14),O=n.n(E),S=function(e){var t=e.hasMore,n=e.isDisabled,a=e.onLoadMore,o=e.scrollOffset,i=e.scrollableRef,s=null==i?void 0:i.current,l=O.a.throttle((function(){s.scrollHeight-s.scrollTop<=s.clientHeight+o&&t&&!n&&a()}),300);Object(r.useEffect)((function(){if(s)return s.addEventListener("scroll",l),function(){return s.removeEventListener("scroll",l)}}),[t,n,a])};function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){var e=C(Object(r.useState)(new URLSearchParams),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){n(new URLSearchParams(window.location.search))}),[]),t},N=n(162),_=n(41),P=function(){var e=Object(g.c)();return{handleClosePopover:function(t){var n;null===(n=t.current)||void 0===n||n.focus(),e(Object(_.a)())},handleOpenPopover:function(t,n,r,a){e(Object(_.c)({component:t,triggerRef:n,passthroughProps:a,contentClass:r}))}}},T=n(20),R=function(e){var t=Object(d.a)().trans,n=Object(g.c)(),a=U().openConfirmModal,o=Object(g.d)((function(e){return e.profileData.mutedUsers})),i=Object(r.useRef)(!0);Object(r.useEffect)((function(){if(i.current)i.current=!1;else if(e&&o&&o.length>0){var t=o[o.length-1].username;e(t)}}),[o]);return{openMuteUserModal:function(e,r){a({contentText:t("This account will not be able to follow you, send you messages, post on your profile or comment on your stories. This action can take 30 minutes to take effect."),title:t("Mute %s",e),confirmLabel:t("Mute"),declineLabel:t("Cancel"),onConfirmClick:function(){return function(e){n(Object(T.f)(e))}(e)},openTriggerRef:r})}}},x=n(62),A=function(){var e=Object(g.c)(),t=function(){return a.a.createElement(x.a,{nextUrl:window.location.href})};return{openSignupModal:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e(Object(v.b)({className:"signup-modal ".concat(n),disableScroll:!0,useGlobalModalContainer:!0,component:function(){return t()}}))}}},I=function(){var e=p(),t=A().openSignupModal;return{userNeedsVerification:function(){return e.username?!e.verified_email&&(wattpad.utils.showPleaseVerifyModal(),!0):(t("comments-signup-modal"),!0)}}},L=n(9),M=function(e){var t=e.title,n=e.triggerRef,o=e.contentText,i=e.confirmLabel,s=e.declineLabel,l=e.onConfirmClick,c=e.onDeclineClick,u=Object(d.a)().trans,m=Object(r.useRef)();return Object(N.b)(m.current,n.current),a.a.createElement("div",{className:"confirm-modal",ref:m},t&&a.a.createElement("h3",{className:"title"},t),o&&a.a.createElement("p",{className:"content-text"},o),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement(L.Button,{onClick:c,variant:L.ButtonVariant.SECONDARY},s||u("No")),a.a.createElement(L.Button,{onClick:l,variant:L.ButtonVariant.PRIMARY},i||u("Yes"))))};M.propTypes={onConfirmClick:s.a.func.isRequired,onDeclineClick:s.a.func.isRequired,title:s.a.string,triggerRef:s.a.object,contentText:s.a.string,confirmLabel:s.a.string,declineLabel:s.a.string};var D=M,U=function(){var e=Object(g.c)(),t=function(){return e(Object(v.b)())};return{openConfirmModal:function(n){var r=n.title,o=n.contentText,i=n.confirmLabel,s=n.declineLabel,l=n.onConfirmClick,c=n.openTriggerRef,u=function(){t(),l()},m=function(){var e;t(),null===(e=c.current)||void 0===e||e.focus()};e(Object(v.b)({hideClose:!0,useGlobalModalContainer:!0,className:"confirm-modal-container",component:function(){return function(e,t,n,r,o,i,s){return a.a.createElement(D,{title:e,contentText:t,confirmLabel:n,declineLabel:r,onConfirmClick:o,onDeclineClick:i,triggerRef:s})}(r,o,i,s,u,m,c)}}))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"l",(function(){return yt})),n.d(t,"c",(function(){return j.a})),n.d(t,"e",(function(){return ne.a})),n.d(t,"h",(function(){return ue})),n.d(t,"i",(function(){return de})),n.d(t,"m",(function(){return Ne.a})),n.d(t,"n",(function(){return Ue})),n.d(t,"p",(function(){return Ve})),n.d(t,"o",(function(){return Et})),n.d(t,"k",(function(){return O})),n.d(t,"q",(function(){return et.a})),n.d(t,"d",(function(){return te})),n.d(t,"r",(function(){return Xe})),n.d(t,"g",(function(){return it})),n.d(t,"b",(function(){return mt})),n.d(t,"f",(function(){return dt.a})),n.d(t,"j",(function(){return ft.a}));var r=n(6),a=n(648),o=n(1),i=n.n(o),s=n(44),l=n.n(s),c=n(4),u=n.n(c),m=n(0),d=n.n(m),f=n(2),p=n(41);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.popoverProps,n=e.closePopover,r=t.triggerRef,o=t.component,i=t.passthroughProps,s=void 0===i?{}:i,c=t.contentClass,p=v(Object(m.useState)(),2),y=p[0],b=p[1];return Object(f.p)(y,null==r?void 0:r.current,n),Object(f.a)(y,(function(e){r&&(e===r.current||r.current.contains(e)||n())})),r&&o?l.a.createPortal(d.a.createElement(a.a,h({innerRef:function(e){return b(e)},referenceElement:r.current,strategy:"fixed"},s),(function(e){var t=e.placement,r=e.ref,a=e.style,i=e.arrowProps;return d.a.createElement("div",{className:u()("react-popover-content",c),ref:r,style:a,"data-placement":t},o&&o({closePopover:n}),s.showArrow&&d.a.createElement("div",{className:"react-popover-arrow",ref:i.ref,style:i.style}))})),document.querySelector("#react-popover")):null}E.propTypes={popoverProps:i.a.shape({triggerRef:i.a.object,component:i.a.func,passthroughProps:i.a.object}).isRequired};var O=Object(r.b)((function(e){return{popoverProps:b({},e.popover.popoverProps)}}),{closePopover:p.a})(E),S=function(e){var t=e.avatar,n=e.username;return d.a.createElement("img",{src:t,"aria-hidden":"true",alt:n})};S.propTypes={avatar:i.a.string.isRequired,username:i.a.string.isRequired};var C=S,j=n(56);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,e);var t,n,r,a=P(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),A(R(t=a.call(this,e)),"onChange",(function(e){e.preventDefault(),t.props.onChange(e.target.value,t.props.id)})),A(R(t),"onBlur",(function(e){t.setState({hasBlurred:!0}),t.props.onBlur(e)})),t.state={hasBlurred:!1},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.labelText,r=e.type,a=e.required,o=e.value,i=e.pattern,s=e.onFocus,l=e.onInvalid,c=e.classes,m=e.placeholder,f=e.autoFocus,p=this.state.hasBlurred,y="float-label-container ".concat(c),b=u()({empty:!o,hasBlurred:p});return d.a.createElement("div",{className:y},d.a.createElement("input",{className:b,id:t,onChange:this.onChange,placeholder:m,pattern:i,type:r,required:a,value:o,onBlur:this.onBlur,onFocus:s,onInvalid:l,autoFocus:f}),d.a.createElement("label",{htmlFor:t},n))}}])&&N(t.prototype,n),r&&N(t,r),o}(d.a.Component);I.defaultProps={type:"text",required:!1,onChange:function(){},onBlur:function(){},onInvalid:function(){},onFocus:function(){},placeholder:"",classes:"",autoFocus:!1},I.propTypes={id:i.a.string.isRequired,labelText:i.a.string.isRequired,value:i.a.string.isRequired,type:i.a.string,pattern:i.a.string,onChange:i.a.func,onBlur:i.a.func,onInvalid:i.a.func,onFocus:i.a.func,classes:i.a.string,placeholder:i.a.string,required:i.a.bool,autoFocus:i.a.bool};var L=n(77);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V,H,z,$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,e);var t,n,r,a=B(o);function o(){return D(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return!1===this.props.isValid&&"month"!==this.props.name&&"day"!==this.props.name&&"year"!==this.props.name?d.a.createElement("div",{"aria-live":"assertive",className:"error-msg",role:"alert"},this.props.errorMessage):null}}])&&U(t.prototype,n),r&&U(t,r),o}(m.Component);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var a=X(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}V=$,H="propTypes",z={name:i.a.string,isValid:i.a.bool,errorMessage:i.a.string},H in V?Object.defineProperty(V,H,{value:z,enumerable:!0,configurable:!0,writable:!0}):V[H]=z;var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(n,e);var t=Z(n);function n(){var e;G(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return ee(Q(e=t.call.apply(t,[this].concat(a))),"render",(function(){var t,n,r=e.props,a=r.autofocus,o=r.className,i=r.errorMessage,s=r.form,l=r.hasValidation,c=r.inputType,m=r.isValid,f=r.label,p=r.name,y=r.title,b=r.alt_msg,g=r.inputRef,h=r.onBlur,v=r.onChange,w=r.showLabel,E=r.showVisibilityToggle,O="".concat(s,"-").concat(p),S=u()("form-group","has-feedback","".concat(p),(ee(t={},o,!!o),ee(t,"valid",!0===m),ee(t,"invalid",!1===m),t));return n="month"==p||"year"==p||"day"==p?b:y&&!m?i:y,d.a.createElement("div",{className:S,"data-attr":p},w&&d.a.createElement("span",{className:"form-label","aria-hidden":"true"},f),d.a.createElement("label",{className:"control-label sr-only",htmlFor:O,"aria-hidden":"true"},f),d.a.createElement(L.a,{inputType:c,name:p,id:O,alt:n,label:f,inputRef:g,placeholder:y,onBlur:h,onChange:v,autofocus:a,showVisibilityToggle:E}),l&&d.a.createElement($,{isValid:m,errorMessage:i,name:p}))})),e}return n}(m.Component);ee(te,"propTypes",{autofocus:i.a.bool,className:i.a.string,form:i.a.string,hasValidation:i.a.bool,inputType:i.a.string,isValid:i.a.bool,label:i.a.string,errorMessage:i.a.string,name:i.a.string,onBlur:i.a.func,onChange:i.a.func,showLabel:i.a.bool,showVisibilityToggle:i.a.bool,title:i.a.string,alt_msg:i.a.string,inputRef:i.a.object});var ne=n(10);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var a=ce(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(o,e);var t,n,r,a=se(o);function o(){return ae(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return d.a.createElement("ul",{className:"menu-options"},t.map((function(t){return d.a.createElement("li",{key:t.key},d.a.createElement(ne.a,{iconName:"fa-right",height:"16",color:"wp-neutral-1"}),"Browse"===e?d.a.createElement("a",{href:t.url,className:"on-navigate on-topic"},t.name):d.a.createElement("a",{href:t.url,className:"on-navigate"},t.name))})))}}])&&oe(t.prototype,n),r&&oe(t,r),o}(d.a.Component);ue.propTypes={headerName:i.a.string,options:i.a.array.isRequired};var me=d.a.forwardRef((function(e,t){return d.a.createElement("button",{ref:t,className:"btn btn-white dropdown-toggle profile-more-options","data-toggle":"dropdown","aria-controls":"profile-more-options","aria-expanded":"false","aria-label":"more options"},d.a.createElement(ne.a,{name:"more",size:"16",className:"more-icon"}))}));me.displayName="MoreOptions",me.propTypes={onClick:i.a.func};var de=me,fe=n(195);function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||we(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Se(e){var t=e.children,n=e.defaultSelectedItems,r=e.onChange,a=e.isLoading,o=Oe(e,["children","defaultSelectedItems","onChange","isLoading"]),i=ve(Object(m.useState)(n),2),s=i[0],l=i[1];function c(e){var t=s.filter((function(t){return t!==e}));l(t),r&&r(t)}return Object(f.c)({isLoading:a,onSetDefault:function(){l(n)}}),d.a.createElement(fe.a,pe({},o,{stateReducer:function(e,t){switch(t.type){case fe.a.stateChangeTypes.keyDownEnter:case fe.a.stateChangeTypes.clickItem:return ge(ge({},t),{},{highlightedIndex:e.highlightedIndex,isOpen:!0,inputValue:""});default:return t}},onChange:function(e){var t,n;s.includes(e)?c(e):(t=e,n=[].concat(ye(s),[t]),l([].concat(ye(s),[t])),r&&r(n))},selectedItem:null}),(function(e){return t(function(e){return ge({removeItem:c,selectedItems:s},e)}(e))}))}function Ce(e){var t=e.placeholder,n=e.itemToString,r=e.handleChange,a=e.getItems,o=e.defaultSelectedItems,i=e.disabled,s=e.isLoading,l=e.className,c=e.maxLimit,p=Object(f.o)().trans,y=Object(m.useRef)();return d.a.createElement(Se,{isLoading:s,defaultSelectedItems:o,onChange:r,itemToString:n},(function(e){var n,r=e.getInputProps,o=e.getToggleButtonProps,s=e.removeItem,m=e.isOpen,f=e.inputValue,b=e.selectedItems,g=e.getItemProps,h=e.toggleMenu;return d.a.createElement("div",{className:u()("multi-select-container",{disabled:i},l)},d.a.createElement("div",{className:u()("multi-select",{disabled:i||b.length>c}),role:"button",tabIndex:"0",style:{borderBottomRightRadius:m?0:6,borderBottomLeftRadius:m?0:6},onClick:function(){h(),!m&&y.current.focus()}},d.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",flex:1}},b.length>0?b.map((function(e){return d.a.createElement("div",{key:e.id,className:"multi-select-item-container"},d.a.createElement("div",{className:"multi-select-grid"},d.a.createElement("span",null,e.name),d.a.createElement("button",{type:"button",className:"multi-select-remove-btn",onClick:function(t){t.stopPropagation(),s(e),y.current.focus(),!m&&h()}},d.a.createElement(ne.a,{iconName:"fa-remove",height:"12",color:"wp-neutral-2"}))))})):m?"":t||p("Select items"),d.a.createElement("input",r({ref:y,onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),void e.stopPropagation();"Backspace"!==e.key||f||(s(b[b.length-1]),!m&&h())},className:"multi-select-search-input"}))),d.a.createElement("div",pe({className:"multi-select-toggle-btn"},o({onClick:function(e){e.stopPropagation()}})),d.a.createElement(ne.a,{iconName:m?"fa-up":"fa-down",height:"12",color:"wp-neutral-2"}))),d.a.createElement("div",{className:u()("multi-select-menu",{"is-open":m},{disabled:i||b.length>c})},m?0===(n=a(f).filter((function(e){return!b.find((function(t){return t.id===e.id}))}))).length?d.a.createElement("div",{className:"multi-select-menu-item disabled"},p("No options")):n.map((function(e,t){return d.a.createElement("div",pe({key:e.id,className:"multi-select-menu-item"},g({item:e,index:t})),e.name)})):null))}))}Se.propTypes={children:i.a.func,onChange:i.a.func,isLoading:i.a.bool,defaultSelectedItems:i.a.array},Ce.defaultProps={itemToString:function(e){return e?e.name:""},defaultSelectedItems:[]},Ce.propTypes={disabled:i.a.bool,isLoading:i.a.bool,itemToString:i.a.func.isRequired,handleChange:i.a.func.isRequired,placeholder:i.a.string,className:i.a.string,maxLimit:i.a.number,getItems:i.a.func.isRequired,defaultSelectedItems:i.a.array};n(139);var je={full:{url:"/img/premium-branding/premium-logo-full.png",aspectRatio:.1678},full_orange:{url:"/img/premium-branding/premium-logo-full-orange.png",aspectRatio:.1656},short:{url:"/img/premium-branding/premium-logo-short.png",aspectRatio:.4722},short_grey:{url:"/img/premium-branding/premium-logo-short-grey.png",aspectRatio:.4722},short_white:{url:"/img/premium-branding/premium-logo-short-white.png",aspectRatio:.4722},letter_grey:{url:"/img/premium-branding/premium-logo-letter-grey.png",aspectRatio:.8667}},ke=function(e){var t=e.width,n=e.variant,r=je[n];if(!r)throw new Error("Variant ".concat(n," unknown"));var a=r.url,o=r.aspectRatio*t;return d.a.createElement("img",{style:{height:"".concat(o,"px"),width:"".concat(t,"px")},src:a,alt:"wattpad premium logo"})};ke.propTypes={width:i.a.string.isRequired,variant:i.a.string.isRequired};var Ne=n(160);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var a=Le(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(o,e);var t,n,r,a=Ae(o);function o(){return Te(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"formatSocialShareVisible",value:function(e){return e?e.map((function(e){return d.a.createElement(De,Pe({},e,{isVisible:!0,key:e.name}))})):null}},{key:"formatSocialShareHidden",value:function(e){return e?d.a.createElement("div",{className:"button-group relative inline-block more"},d.a.createElement("button",{className:"btn btn-no-background dropdown-toggle btn-left-align","data-toggle":"dropdown"},d.a.createElement(ne.a,{iconName:"fa-more",height:"24",color:"wp-neutral-3"})),d.a.createElement("div",{className:"triangle"}),d.a.createElement("ul",{className:"dropdown-menu"},e.map((function(e){return d.a.createElement("li",{key:e.name},d.a.createElement(De,Pe({},e,{isVisible:!1,key:e.name})))})))):null}},{key:"render",value:function(){var e=this.props.socialShareVisible||this.props.socialLinks,t=this.props.socialShareHidden;return d.a.createElement("div",{className:"SocialSharing"},this.formatSocialShareVisible(e),this.formatSocialShareHidden(t))}}])&&Re(t.prototype,n),r&&Re(t,r),o}(m.Component);Me.propTypes={socialShareVisible:i.a.arrayOf(i.a.object),socialLinks:i.a.arrayOf(i.a.object),socialShareHidden:i.a.arrayOf(i.a.object)};var De=function(e){var t=e.name,n=e.href,r=e.icon,a=e.isVisible,o=e.nopopup,i=e.label,s=e.content,l=e.text,c=e.url,m=e.urlTemplate;return d.a.createElement("a",{"data-gtm-action":"share:".concat(t),rel:"nofollow noreferrer",className:u()("share-".concat(t),{"social-share":!o}),target:o?"":"_blank",href:n,"data-share-channel":t,"data-share-url":m,"data-url":c,"data-share-text":l,"data-share-content":s},d.a.createElement(ne.a,{iconName:r,height:a?"24":"20",color:a?"wp-neutral-5":"wp-neutral-2",className:u()({"pull-left":!a})}),a?"":i)};De.defaultProps={nopopup:!1,content:"",text:"",url:"",urlTemplate:""},De.propTypes={name:i.a.string.isRequired,href:i.a.string.isRequired,isVisible:i.a.bool.isRequired,icon:i.a.string.isRequired,label:i.a.string.isRequired,nopopup:i.a.bool,content:i.a.string,text:i.a.string,url:i.a.string,urlTemplate:i.a.string};var Ue=Me,qe=n(180);function Be(e){var t=e.username,n=e.isMutedByCurrentUser,r=e.isBlockedByCurrentUser,a=e.onMuteUser,o=e.onUnmuteUser,i=e.onBlockUser,s=e.onUnblockUser,l=e.onDeleteConversation,c=e.onReportUser,u=e.showBlockOption,m=e.showModerationOptions,p=Object(f.o)().trans,y=null!=n;return d.a.createElement("div",{className:"user-safety-operations"},m&&y&&!r&&d.a.createElement(Fe,{username:t,isMutedByCurrentUser:n,onMuteUser:function(){return a(t)},onUnmuteUser:function(){o(t)}}),m&&u&&void 0!==r&&d.a.createElement(We,{username:t,isBlockedByCurrentUser:r,onBlockUser:function(){return i(t)},onUnblockUser:function(){s(t)}}),c&&d.a.createElement("button",{onClick:c,className:"on-report user-safety-operation btn-no-background btn-left-icon","data-username":t},d.a.createElement(ne.a,{name:"report"}),p("Report")),l&&d.a.createElement("button",{onClick:l,className:"user-safety-operation btn-no-background btn-left-icon delete"},d.a.createElement(ne.a,{name:"trash"}),p("Delete Conversation")),d.a.createElement(qe.a,null))}function Fe(e){var t=e.isMutedByCurrentUser,n=e.onMuteUser,r=e.onUnmuteUser,a=e.username,o=Object(f.o)().trans;return d.a.createElement(d.a.Fragment,null,t?d.a.createElement("button",{onClick:r,className:"user-safety-operation btn-no-background btn-left-icon unmute"},d.a.createElement(ne.a,{name:"unmute"}),o("Unmute %s",a)):d.a.createElement("button",{onClick:n,className:"user-safety-operation btn-no-background btn-left-icon mute"},d.a.createElement(ne.a,{name:"mute"}),o("Mute %s",a)))}function We(e){var t=e.isBlockedByCurrentUser,n=e.onBlockUser,r=e.onUnblockUser,a=e.username,o=Object(f.o)().trans;return d.a.createElement(d.a.Fragment,null,t?d.a.createElement("button",{onClick:r,className:"user-safety-operation btn-no-background btn-left-icon unblock"},d.a.createElement(ne.a,{name:"block",strokeWidth:"0",viewBox:"16"}),o("Unblock %s",a)):d.a.createElement("button",{onClick:n,className:"user-safety-operation btn-no-background btn-left-icon block"},d.a.createElement(ne.a,{name:"block",strokeWidth:"0",viewBox:"16"}),o("Block %s",a)))}Be.propTypes={username:i.a.string.isRequired,onDeleteConversation:i.a.func,isMutedByCurrentUser:i.a.bool,isBlockedByCurrentUser:i.a.bool,onMuteUser:i.a.func,onUnmuteUser:i.a.func,onBlockUser:i.a.func,onUnblockUser:i.a.func,onReportUser:i.a.func,showBlockOption:i.a.any,showModerationOptions:i.a.bool},Fe.propTypes={username:i.a.string.isRequired,isMutedByCurrentUser:i.a.bool.isRequired,onMuteUser:i.a.func.isRequired,onUnmuteUser:i.a.func.isRequired},We.propTypes={username:i.a.string.isRequired,isBlockedByCurrentUser:i.a.bool.isRequired,onBlockUser:i.a.func.isRequired,onUnblockUser:i.a.func.isRequired};var Ve=Be;function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var a=Je(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?Ze(e):t}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(r,t);var n=Ge(r);function r(){var t;$e(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Qe(Ze(t=n.call.apply(n,[this].concat(o))),"state",{isValid:null,errorMessage:""}),Qe(Ze(t),"componentDidMount",(function(){t.props.validationModel&&(t.props.validationModel.on("attr:invalid",t.onInvalid,Ze(t)),t.props.validationModel.on("attr:valid",t.onValid,Ze(t)))})),Qe(Ze(t),"componentWillUnmount",(function(){t.props.validationModel&&(t.props.validationModel.off("attr:invalid"),t.props.validationModel.off("attr:valid"))})),Qe(Ze(t),"setAndValidate",(function(e){var n=t.props.validationModel;n.set(t.props.name,e.target.value),n.validate(t.props.name)})),Qe(Ze(t),"onInvalid",(function(e,n){e===t.props.name&&(t.setState({isValid:!1,errorMessage:n}),t.props.onInvalid&&t.props.onInvalid(n,e))})),Qe(Ze(t),"onValid",(function(e){e===t.props.name&&(t.setState({isValid:!0}),t.props.onValid&&t.props.onValid(e))})),Qe(Ze(t),"render",(function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(e,ze({},t.props,{hasValidation:!0,isValid:t.state.isValid,onBlur:function(e){var n,r;t.setAndValidate(e),null===(n=(r=t.props).onBlur)||void 0===n||n.call(r)},onChange:function(e){var n,r;t.props.validateOnChange&&t.setAndValidate(e),null===(n=(r=t.props).onChange)||void 0===n||n.call(r)},errorMessage:t.state.errorMessage})))})),t}return r}(m.Component),Qe(t,"propTypes",{name:i.a.string,validateOnChange:i.a.bool,validationModel:i.a.shape({on:i.a.func,off:i.a.func,set:i.a.func,validate:i.a.func}),onInvalid:i.a.func,onValid:i.a.func,onChange:i.a.func,onBlur:i.a.func}),n},et=n(161),tt=n(11);function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function it(e){var t,n=e.animationId,r=e.animationOptions,a=e.onAnimationLoad,o=ot(e,["animationId","animationOptions","onAnimationLoad"]),i=function(){var e=document.getElementById(n),t=window.bodymovin.loadAnimation(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({wrapper:e},r));t.addEventListener("DOMLoaded",(function(){a&&a(t),t.removeEventListener("DOMLoaded")}))};return t=function(){if(window.bodymovin)i();else{var e,t=document.getElementById("lottie-script");t||((e=document.createElement("script")).src="".concat(tt.a,"/js/lottie.js"),e.id="lottie-script",document.head.appendChild(e),t=e),t.addEventListener("load",(function e(){i(),t.removeEventListener("load",e,!1)}))}},Object(m.useEffect)(t,[]),d.a.createElement("div",nt({id:n},o))}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mt(e){var t=e.onChange,n=e.defaultValue,r=ut(e,["onChange","defaultValue"]),a=lt(Object(m.useState)(n||!1),2),o=a[0],i=a[1];return d.a.createElement("button",st({className:u()("react-checkbox btn-no-style",{checked:o}),onClick:function(e){e.stopPropagation(),e.preventDefault(),t(!o),i(!o)}},r),o&&d.a.createElement(ne.a,{name:"check",color:"wp-neutral-5",size:16}))}it.propTypes={animationId:i.a.string.isRequired,animationOptions:i.a.object.isRequired,onAnimationLoad:i.a.func},mt.defaultProps={onChange:function(){},defaultValue:!1},mt.propTypes={onChange:i.a.func,defaultValue:i.a.bool};var dt=n(106),ft=n(39),pt=function(e){var t=e.partId,n=e.storyId,r=e.storyTitle,a=e.author,o=e.language,i=Object(f.o)().trans,s=Object(f.k)().openReportStoryModal;return d.a.createElement("button",{className:"btn-option",onClick:function(){s(n,r,a,o,t)}},d.a.createElement(ne.a,{iconName:"fa-warning",color:"wp-neutral-2",height:"20",className:"pull-left"}),i("Report Story"))};pt.propTypes={partId:i.a.string.isRequired,storyId:i.a.string.isRequired,storyTitle:i.a.string,author:i.a.string,language:i.a.string};var yt=pt,bt=n(13),gt=n(5),ht=n(34),vt=n(88),wt=function(e){var t=e.className,n=e.currentPartIsBlocked,r=e.group,a=e.part,o=e.title,i=e.draft,s=e.readCount,l=e.voteCount,c=Object(f.o)(),m=c.ngettext,p=c.trans;if(!a)return null;var y=a.bonusPartMetadata,b=void 0===y?{}:y,g=a.wordCount,h=a.commentCount,v=b.bonusType,w=b.bonusTypeName,E=b.authorNote,O=b.chapterDescription,S=Object(gt.c)(Object(gt.l)(g));return d.a.createElement("div",{className:"bonus-part-header container"},d.a.createElement("div",{className:"row part-header"},d.a.createElement("div",{className:"col-sm-12 col-md-7 col-lg-8 col-md-offset-1 col-lg-offset-2"},d.a.createElement("header",{className:u()(t,"panel panel-bonus-header text-center")},!isNaN(v)&&d.a.createElement("div",{className:"bonus-type"},v===tt.c.EXCLUSIVE_CHAPTER&&d.a.createElement(ne.a,{className:"stats-label__icon exclusive-chapter-icon",name:"exclusiveChapter",size:22,color:"ds-base-2-60",fillColor:"ds-base-2-60",viewBox:22}),v===tt.c.WRITER_REVEAL&&d.a.createElement(ne.a,{className:"stats-label__icon writer-reveal-icon",name:"writerReveal",size:22,color:"ds-base-2-60",viewBox:22}),w),d.a.createElement("h1",{className:"h2 title"},o,i&&d.a.createElement("span",{className:"draft-tag"}," (",p("Draft"),")")),!i&&O&&d.a.createElement("div",{className:"chapter-description"},O),!i&&n&&d.a.createElement("div",{className:"bonus-part-stats"},d.a.createElement(vt.a,{statsItems:[{icon:"readTime",label:p("Time"),size:16,viewBox:16,hoursVal:S.hours,minutesVal:S.minutes},{icon:"commentStats",label:p("Comments"),size:16,viewBox:16,value:h}],className:"hidden-xxs",showTooltip:!0})),!i&&!n&&d.a.createElement("div",{className:"story-stats"},d.a.createElement("span",{className:"stat-item reads"},d.a.createElement("span",{className:"fa fa-view fa-wp-neutral-2"}),Object(ht.a)({value:Object(gt.b)(s),tooltip:Object(bt.sprintf)(m("%s Read","%s Reads",parseInt(s).toLocaleString()),parseInt(s).toLocaleString()),ariaHidden:!0})),d.a.createElement("span",{className:"stat-item votes"},d.a.createElement("span",{className:"fa fa-vote fa-wp-neutral-2"}),Object(ht.a)({value:Object(gt.b)(l),tooltip:Object(bt.sprintf)(m("%s Vote","%s Votes",parseInt(l).toLocaleString()),parseInt(l).toLocaleString()),ariaHidden:!0})),d.a.createElement("span",{className:"stat-item comments on-comments"},d.a.createElement("span",{className:"fa fa-comment fa-wp-neutral-2"}),d.a.createElement("button",{type:"button",className:"btn-link"},Object(ht.a)({value:h,tooltip:Object(bt.sprintf)(m("%s Comment","%s Comments",h),h),ariaHidden:!0})))),!i&&E&&v===tt.c.EXCLUSIVE_CHAPTER&&d.a.createElement("div",{className:"author-note"},d.a.createElement("div",{className:"author-header"},p("Author's Note"),d.a.createElement("div",{className:"author"},d.a.createElement("img",{className:"author-avatar on-hover","data-toggle":"tooltip","data-placement":"right",title:"Writer: ".concat(r.user.username),alt:"Writer: ".concat(r.user.username),src:Object(gt.s)(r.user.avatar,16)}),r.user.username)),d.a.createElement("div",{className:"note"},E)),d.a.createElement("div",{className:u()("divider",{"is-draft":i})})))))};wt.propTypes={className:i.a.string,id:i.a.number.isRequired,currentPartIsBlocked:i.a.bool,group:i.a.shape({user:i.a.shape({avatar:i.a.string.isRequired,username:i.a.string.isRequired})}),part:i.a.shape({bonusPartMetadata:i.a.shape({bonusType:i.a.number,bonusTypeName:i.a.string,authorNote:i.a.string,chapterDescription:i.a.string}),wordCount:i.a.number,commentCount:i.a.number}),title:i.a.string,draft:i.a.bool,readCount:i.a.number,voteCount:i.a.number};var Et=wt},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"o",(function(){return d.a})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return h})),n.d(t,"s",(function(){return V})),n.d(t,"t",(function(){return w})),n.d(t,"u",(function(){return f})),n.d(t,"w",(function(){return E})),n.d(t,"m",(function(){return O.a})),n.d(t,"n",(function(){return I})),n.d(t,"v",(function(){return L})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return D})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return q})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return F})),n.d(t,"h",(function(){return W}));var r=n(14),a=n.n(r),o=function(e){return-1==e?"-":e&&a.a.isNumber(e)?e>=99999999?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e5)/10+"M":e>=99999?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/100)/10+"K":e:0},i=function(e){return e.replace(/^((https?:)?\/\/)?[a-z-.]*[a-z-](:\d+)?(?=\/)/i,"")},s=n(30),l=n.n(s),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l()(e),r="MMM DD, YYYY hh:mmA";if(l()().diff(e,"hours")<24||t.fuzzyTime&&l()().diff(e,"days")<7){var a=t.dropSuffix||!1;return n.fromNow(a)}return t.fuzzyTime?r=l()().isSame(e,"year")?"MMM DD":"MMM DD, YYYY":t.fullDate&&(r="MMMM D, YYYY"),n.format(r)},u=function(e){return e.displayName||e.name||"Component"},m=function(e,t){var n=t.parts;return a.a.findIndex(n,(function(t){return t.id===e}))},d=n(76),f=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},p=function(e,t){var n,r=/((?![/.#])(?:^|\W))@([\S-]+)/gi,a=/(http(s)?:\/\/[A-Za-z0-9._~:/?#[\]@!$&'()*+,\-=]+)/gi,o=/(?:^|\W)#([^\s?/]+)/gi,i='$1<a class="on-user-mention" href="/user/$2">@$2</a>',s='<a href="$1" rel="nofollow" target="_blank">$1</a>',l=' <a href="/tags/$1" class="on-navigate">#$1</a>';switch((t=t||{}).hash&&t.hash.sanitization&&(t.sanitization=t.hash.sanitization),t.sanitization=t.sanitization||"sanitize",t.doTags=!1!==t.doTags,t.doUrl=!1!==t.doUrl&&"unsanitize"!==t.sanitization,t.doMention=!1!==t.doMention,t.sanitization){case"sanitize":e=f(e);break;case"unsanitize":e=(n=e)&&"string"==typeof n?n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'):n}return t.doMention&&(e=e.replace(r,i)),t.doUrl&&(e=e.replace(a,s)),t.doTags&&(e=e.replace(o,l)),e},y=n(47),b=function(e,t,n,r,o,i,s,l){var c,u=!!o&&o[0];return e&&t&&"string"==typeof t&&r&&isFinite(String(n))?(Object(y.a)(2.5,i,s,l)?(n*=3,u=!!o&&o[2],u=o?o[1]:o):Object(y.a)(1.5,i,s,l)&&(n*=2,u=!!o&&o[1]),(c=a.a.find(e,(function(e){return e+(!1!==u?Math.floor(e/u):0)>=n})))||(c=a.a.reduce(e,(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}))),t.replace(r,"$1"+c+"$3$4")):""},g=function(e,t){t&&isFinite(t)||(t=320),e=e.replace(/(\d+\.)(png|jpg|jpeg|gif)$/,".$1$2");return b([320,360,640,1920],e,t,/(^.*\/userbg\/[\w\-_]+\.)()(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,!1).replace("userbg","userbgs")},h=function(e){return new Promise((function(t){return setTimeout(t,e)}))},v=n(11),w=function(e,t,n,r,a){return b(v.d,e,t,/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,[20,14],n,r,a)},E=function(e,t,n,r){var a;return r=r||{},e?((a=(a=e.replace(/(<([^>]+)>)/gi,"")).replace(/^\s*\n/gm,"")).length>t&&(a=a.substr(0,t-1).replace(/[.,\- /!&?]+$/,"")+"..."),!0===n?p(a,r):a):""},O=n(226),S=n(0),C=n.n(S),j=n(58);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){var t,n,r,a,o;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(i,t);var n,r,a,o=R(i);function i(){return _(this,i),o.apply(this,arguments)}return n=i,(r=[{key:"render",value:function(){var t=this;return C.a.createElement(j.b.Consumer,null,(function(n){var r=n.trans,a=n.ngettext;return C.a.createElement(e,N({},t.props,{trans:r,ngettext:a}))}))}}])&&P(n.prototype,r),a&&P(n,a),i}(C.a.Component),r=t,a="displayName",o="".concat(u(e),"WithTrans"),a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,n};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect(),r=window.scrollY+n.y,a=r+t;window.scrollTo({top:a,behavior:"smooth"})}var M=function(e){return 1!==Math.sign(e)?0:Math.round(function(e){return e/v.p}(e)/v.g)},D=function(e){return 1!==Math.sign(e)?0:Math.round(e/v.g)},U=function(e){var t=Math.floor(e/60);return{hours:t,minutes:Math.floor(e-60*t)}},q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),B=function(e){return Object(y.a)(2.5)?Math.floor(e/3):Object(y.a)(1.5)?Math.floor(e/2):e},F=function(e,t){if(!e||isNaN(t))return"";var n=a.a.find(v.d,(function(e){return e>=t}));return e.replace(/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,"$1"+n+"$3$4")},W=function(e){if(!e)return"";var t="";return v.d.forEach((function(n){t+="".concat(F(e,n)," ").concat(n,"w,")})),t.slice(0,-1)},V=function(e,t){return"string"==typeof e&&e.length>0?b(v.b,e,t,/(^.*\/useravatar\/[\w\-_]+\.)([0-9]{1,3})(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,[24,17]):""}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(60);function a(e){return{type:r.c,modalProps:e}}function o(){return{type:r.a}}},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(6),u=n(233),m=n.n(u),d=n(92),f=n.n(d);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=v(i);function i(){return b(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;if(this.props.onClick)throw new Error("onClick event defined on an icon. Please wrap the icon with a button.");var t=this.props,n=t.iconName,r=t.name,o=t.height,i=t.color,s=t.className,c=(t.ff,t.size),u=t.strokeWidth,d=t.boxX,p=t.boxY,b=t.viewBox,g=t.fill,h=t.fillColor,v=t.title,w=t.passthroughProps;if(r){if(m.a[r]){var E="none";h?E=f.a[h]:g&&(E=f.a[i]);var O=v?"img":void 0;return a.a.createElement("svg",y({width:c,height:c,viewBox:"".concat(d," ").concat(p," ").concat(b," ").concat(b),fill:E,stroke:f.a[i],strokeWidth:u,"aria-hidden":!v,strokeLinecap:"round",strokeLinejoin:"round",className:s,role:O},w),v&&a.a.createElement("title",null,v),a.a.createElement("g",{dangerouslySetInnerHTML:{__html:m.a[r]}}))}throw"Icon ".concat(r," doesn't exist")}if(window.wattpad.utils.modernizr("fontface"))return a.a.createElement("span",y({className:l()("fa",n,"fa-".concat(i),s),"aria-hidden":"true",style:{fontSize:"".concat(o,"px")},ref:function(t){e.elementRef=t}},w));var S="/img/icons/".concat(i,"/").concat(n.substr(3),".png");return a.a.createElement("img",y({className:l()("fa",n,"fallback",s),style:{height:"".concat(o,"px"),width:"auto"},src:S,alt:"icon ".concat(n.substr(3)),ref:function(t){e.elementRef=t}},w))}}])&&g(t.prototype,n),r&&g(t,r),i}(r.PureComponent);O.defaultProps={className:"",ff:"",color:"wp-neutral-1",size:"14",height:"14",strokeWidth:"2",boxX:"0",boxY:"0",viewBox:"24"},O.propTypes={name:i.a.string,iconName:i.a.oneOf(["fa-alert","fa-archive","fa-attach","fa-badge-ambassador","fa-badge-blank","fa-badge-cc","fa-badge-heart","fa-badge-promoted","fa-badge-rating","fa-badge-verified","fa-bold","fa-buy","fa-camera","fa-caret","fa-categories","fa-centered","fa-check","fa-circle-empty","fa-circle-filled","fa-clock","fa-code","fa-comment","fa-comment-count","fa-copyright","fa-creative-commons","fa-dedicate","fa-double-image","fa-down","fa-down-small","fa-edit","fa-facebook","fa-facebook-official","fa-facebook-square","fa-flag","fa-follow","fa-following","fa-following-request","fa-format","fa-group","fa-home","fa-ic_reading_list","fa-image","fa-inbox","fa-info","fa-instagram","fa-italic","fa-justified","fa-left","fa-left-aligned","fa-left-small","fa-library","fa-link","fa-list","fa-list-add","fa-loading","fa-location","fa-lock","fa-mention","fa-menu","fa-minus","fa-mobile","fa-more","fa-mute","fa-pin","fa-pinterest","fa-pinterest-square","fa-plus","fa-public-domain","fa-ranking","fa-reading-list","fa-redo","fa-refresh","fa-remove","fa-remove-alt","fa-right","fa-right-aligned","fa-right-small","fa-search","fa-settings","fa-share","fa-single-image","fa-stats","fa-story","fa-trash","fa-tumblr","fa-tumblr-square","fa-twitter","fa-twitter-square","fa-underline","fa-undo","fa-unlock","fa-unmute","fa-up","fa-up-small","fa-user","fa-video","fa-view","fa-vote","fa-vote-alt","fa-warning","fa-website","fa-image-warning"]),color:i.a.oneOf(["wp-neutral-1","wp-neutral-2","wp-base-1-dark","wp-base-1-light","wp-base-2-dark","wp-error-1","wp-warning-01","wp-errorbackground","wp-neutral-2","wp-base-2-dark","wp-neutral-3","wp-lighterror","wp-lighterteal","wp-neutral-3","wp-neutral-3","wp-lightteal","wp-neutral-2","wp-neutral-3","wp-base-1","wp-neutral-2","wp-success","wp-base-2","wp-neutral-2","wp-base-1-dark","wp-neutral-5","ds-neutral-00-solid","ds-neutral-100","ds-base-4-accent","ds-alert","ds-neutral-80","ds-base-2-60","ds-success"]).isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),height:i.a.string.isRequired,className:i.a.string,ff:i.a.string,strokeWidth:i.a.string,boxX:i.a.oneOfType([i.a.string,i.a.number]),boxY:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),fill:i.a.bool,fillColor:i.a.string,passthroughProps:i.a.object,title:i.a.string};var S=Object(c.b)((function(e){return{ff:e.userData.ff}}),{})(O);t.a=S},function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"n",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"o",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"c",(function(){return h}));var r=1,a=["#eeeeee"],o=["#6f6f6f"],i=12,s=5,l=6,c="premium-theme",u={1:"olive",2:"plum",3:"watermelon",4:"blue",5:"water",6:"orange",7:"turquoise",8:"grey",9:"red",10:"purple",11:"royal",12:"denim"},m=[64,80,100,128,144,160,176,200,208,256,288,352,368,416,512],d=[24,32,42,64,128,256],f=5,p=230,y="//static.wattpad.com",b="//img.wattpad.com",g={INVALID:"",PAID_STORY:"paid_story",BONUS_CHAPTER:"paid_bonus"},h={EXCLUSIVE_CHAPTER:0,STORY_BRANCH:1,WRITER_REVEAL:2}},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"p",(function(){return a})),n.d(t,"s",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"t",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"o",(function(){return g})),n.d(t,"k",(function(){return h})),n.d(t,"q",(function(){return v})),n.d(t,"l",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"r",(function(){return O})),n.d(t,"u",(function(){return S}));var r="FETCH_HOME_MODULES",a="RECEIVE_SECTION_POSITION",o="SECTION_VIEWED",i="ERROR",s="CLEAR_ERROR",l="CALL_TRACKING_URLS",c="RECEIVE_CONTENT_SETTINGS",u="NO_CONTENT_SETTING_CHANGES",m="LOADING_CONTENT_SETTINGS",d="LOADING_CONTENT_SETTINGS_DONE",f="LOADING_HOME",p="LOADING_HOME_DONE",y="SHOW_LOADER",b="HIDE_LOADER",g="RECEIVE_READING_LISTS",h="LOADING_READING_LISTS",v="RECEIVE_STORIES_COLLECTIONS",w="LOADING_STORIES_COLLECTIONS",E="ADD_STORY_TO_COLLECTION",O="REMOVE_STORY_FROM_COLLECTION",S={fetchFailed:"FETCH_FAILED"}},,function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return w})),n.d(t,"a",(function(){return E}));var r,a=n(1),o=n.n(a),i=n(11);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="PAID_PART_CONFIG",c="".concat(l,"/REQUEST"),u="".concat(l,"/FETCH"),m="".concat(l,"/POST"),d="".concat(l,"/ERROR"),f="".concat(l,"/UPDATE"),p="".concat(l,"/VISIBILE"),y={isLoading:!0,isFormVisible:!1,data:{story_id:0,part_id:0,author_id:0,paid_model:i.j.BONUS_CHAPTER,author_note:"",chapter_description:"",bonus_type:i.c.EXCLUSIVE_CHAPTER,is_free_part:!1}},b=o.a.shape({story_id:o.a.number,part_id:o.a.number,author_id:o.a.number,paid_model:o.a.string,author_note:o.a.string,chapter_description:o.a.string,bonus_type:o.a.oneOf(Object.values(i.c)),is_free_part:o.a.bool}),g={DESCRIPTION:1,AUTHOR_NOTE:2},h=(s(r={},i.c.EXCLUSIVE_CHAPTER,[g.DESCRIPTION,g.AUTHOR_NOTE]),s(r,i.c.WRITER_REVEAL,[g.DESCRIPTION]),s(r,i.c.STORY_BRANCH,[g.DESCRIPTION]),r),v=function(){return{display:{type:{exclusiveChapter:"Exclusive Chapter",writerReveal:"Writer Reveal",storyBranch:"Story Branch"}},button:{text:"Configure",default:"Create Paid Part"}}},w=function(){return{title:"Choose a type of Paid Part",description:"What type of part are you publishing?",descriptionUrlText:"View Examples",partTypeSelector:{label:"Part Type Selector",name:"bonus_type",options:[{label:"Exclusive Chapter (15 coins)",value:i.c.EXCLUSIVE_CHAPTER},{label:"Writer Reveal (8 coins)",value:i.c.WRITER_REVEAL}]},errorMessages:{chapterDescription:"Part Description is required",authorNote:"Author's Note is required"},successMessage:"Success!",removeMessage:"This action will disable the paywall on this part. Continue?",removeText:"Disable paywall",cancelText:"Discard changes",saveText:"Save paid part"}},E=function(){return{chapterDescription:{title:"Part Description",description:"Tell your readers a little bit more about the new part!",textarea:{placeholder:"Enter your description...",name:"chapter_description"}},authorNote:{title:"Author's Note",description:"Entice your readers to purchase this part!",textarea:{placeholder:"Enter your author's note...",name:"author_note"}}}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return y}));var r=n(11),a="wp1",o=2e3,i=2200,s=400,l="set_wallet_balance",c="buying_content",u="bought_content",m="animation_step",d={DEFAULT:"default",COIN:"coin",DEDUCTING:"deducting",SUBTRACTING:"subtracting"},f=function(e){return[{title:e("Introducing Paid Stories"),content:e("Thank writers for creating the stories you love by monetarily supporting them."),imageUrl:"paid-content/lifting-hand.png"},{title:e("Continue exploring free stories"),content:e("Millions of stories on Wattpad will always be free to read. Promise."),imageUrl:"paid-content/free-stories.png"},{title:e("Be the first to support writers"),content:e("Unlocking Paid Stories with Coins supports your favorite writers"),imageUrl:"paid-content/currency.png",learnMoreLink:"https://www.wattpad.com/paidstories/"},{title:e("Premium subscribers get bonus Coins"),content:e("Only Wattpad Premium subscribers are rewarded with bonus Coins with every Wattpad Coin pack purchase"),imageUrl:"paid-content/treasure-chest.png",learnMoreLink:"https://premium.wattpad.com/",showToPremiumOnly:!0}]},p={Wattpad_Coins_9:{value:9,premium_value:15,illustration_url:"".concat(r.a,"/image/money_coin_package_1_240x240.png"),price:"0.99"},Wattpad_Coin_74:{value:74,premium_value:99,illustration_url:"".concat(r.a,"/image/money_coin_package_2_240x240.png"),featured:!0,price:"3.99"},Wattpad_Coin_244:{value:244,premium_value:325,illustration_url:"".concat(r.a,"/image/money_coin_package_3_240x240.png"),price:"8.99"},Wattpad_Coin_400:{value:400,premium_value:533,illustration_url:"".concat(r.a,"/image/money_coin_package_4_240x240.png"),price:"13.99"}},y={Premium_BonusCoins_15Pack:{value:15,non_premium_value:9,illustration_url:"".concat(r.a,"/image/money_coin_package_1_240x240.png"),price:"0.99"},Premium_BonusCoins_99Pack:{value:99,non_premium_value:74,illustration_url:"".concat(r.a,"/image/money_coin_package_2_240x240.png"),featured:!0,price:"3.99"},Premium_BonusCoins_325Pack:{value:325,non_premium_value:244,illustration_url:"".concat(r.a,"/image/money_coin_package_3_240x240.png"),price:"8.99"},Premium_BonusCoins_533Pack:{value:533,non_premium_value:400,illustration_url:"".concat(r.a,"/image/money_coin_package_4_240x240.png"),price:"13.99"}}},,function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return g}));var r=n(9),a=n(27),o=n(1),i=n.n(o),s=2,l=2,c="app:newComments:deeplinkOpened",u="app:newComments:deeplinkOrphan",m={STORY_PART:a.CommentsNamespaces.PARTS,REPLIES:a.CommentsNamespaces.COMMENTS,PARAGRAPH:a.CommentsNamespaces.PARAGRAPHS},d={staff:r.BadgeVariant.STAFF,ambassador:r.BadgeVariant.AMBASSADORS,verified:r.BadgeVariant.VERIFIED},f={AD_OFFSET_NUM:2,NUM_COMMENTS_SET:10},p=i.a.shape({userGeo:i.a.string,testGroups:i.a.any,deviceType:i.a.string,context:i.a.shape({user:i.a.object,story:i.a.shape({isAdExempt:i.a.bool,isBrandSafe:i.a.bool,isPaywalled:i.a.bool,rating:i.a.number}),storyPart:i.a.shape({id:i.a.number,brandSafetyLevel:i.a.number,brandSafetySource:i.a.string,language:i.a.shape({id:i.a.number}),rank:i.a.number,rating:i.a.number,totalViewCount:i.a.number})}),canDisplayAdvertisement:i.a.bool,shouldDelayAds:i.a.bool,shouldShowAds:i.a.object,placement:i.a.string}),y={CLASS:"comment-item-options-dropdown",PROPS:{placement:"bottom",showArrow:"true",modifiers:[{name:"offset",options:{offset:[-50,0]}},{name:"preventOverflow",options:{padding:{left:16,right:16}}}]}},b={block:"center",behavior:"smooth"},g=i.a.shape({commentId:i.a.string,commentData:i.a.object})},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d}));var r=n(21),a=function(e){return encodeURI(e).split(/%..|./).length-1},o=function(e){return{rule:function(e){return e.length>0},errorMessage:function(){return e("This field is required.")}}},i=function(e,t){return{rule:function(t){return a(t)<=e},errorMessage:function(){return t("This field has to contain less than %s characters.",e)}}},s=function(e,t){return{rule:function(t){return a(t)>=e},errorMessage:function(){return t("This field has to contain more than %s characters.",e)}}},l=function(e,t){return Object(r.d)(e).find((function(e){return e.key===t}))},c=function(e,t){var n;return null===(n=l(e,t))||void 0===n?void 0:n.value},u=function(e,t){var n;return(null===(n=l(e,t))||void 0===n?void 0:n.subgenres)||[]},m=function(e){return function(t){return!(t.onlyEnglish&&"en"!==e)}},d=function(e,t){var n,r={story_id:e,contest_submission:{award_category:t.award_category,language:t.language,mature_themes:t.mature_themes,sexual_content:"no_sexual_content",target_audience:t.target_audience,plot_details:t.plot_details,is_exclusive:t.is_exclusive,preferred_email:t.preferred_email,is_final_consent:t.is_final_consent}};return""!==(null===(n=t.subgenre)||void 0===n?void 0:n.trim())&&(r.contest_submission.subgenre=t.subgenre),t.mature_themes.includes("sex")&&(r.contest_submission.sexual_content=t.sexual_content),t.mature_themes.includes("other")&&(r.contest_submission.others={mature_themes:t.others.mature_themes}),r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return k}));var r=n(45),a=n(11);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="USER",m="".concat(u,"/SET_MUTED_USERS"),d="".concat(u,"/SET_BLOCKED_USERS"),f="".concat(u,"/MUTE"),p="".concat(u,"/UNMUTE"),y="".concat(u,"/BLOCK"),b="".concat(u,"/UNBLOCK"),g="".concat(u,"/ERROR"),h={mutedUsers:[],blockedUsers:[],muteListLoaded:!1,blockListLoaded:!1};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case m:return l(l({},e),{},{mutedUsers:t.mutedUsers,muteListLoaded:!0});case d:return l(l({},e),{},{blockedUsers:o(t.blockedUsers),blockListLoaded:!0});case f:return l(l({},e),{},{muteListLoaded:!1,mutedUsers:e.mutedUsers.concat([{username:t.name}])});case p:return l(l({},e),{},{muteListLoaded:!1,mutedUsers:e.mutedUsers.filter((function(e){return e.username!=t.name}))});case y:return l(l({},e),{},{blockListLoaded:!1,blockedUsers:e.blockedUsers.concat([{username:t.name}])});case b:return l(l({},e),{},{blockListLoaded:!1,blockedUsers:e.blockedUsers.filter((function(e){return e.username!=t.name}))});default:return e}}function w(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=ignore_user");return function(n){return Promise.resolve($.ajax({url:t,type:"POST"})).then((function(){n({type:f,name:e}),wattpad.utils.clearCommentLocalStorage(),wattpad.utils.showToast(wattpad.utils.trans("%s is now muted. You can unmute them at any time.",e),{type:"dismissable"})})).catch((function(e){var t;try{467===e.responseJSON.code&&(t=e.responseJSON.message)}catch(e){t=wattpad.utils.trans("There was an error muting this user. Please try again.")}throw wattpad.utils.showToast(t,{type:"dismissable"}),n({type:g}),e}))}}function E(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=unignore_user");return function(n){return Promise.resolve($.ajax({url:t,type:"POST"})).then((function(){n({type:p,name:e}),n({type:r.a,toastProps:{className:"unmute",body:wattpad.utils.trans("%s is now unmuted. You can mute them at any time.",e)}}),wattpad.utils.clearCommentLocalStorage()})).catch((function(e){var t;try{t=e.responseJSON.message}catch(e){t=wattpad.utils.trans("There was an error unmuting this user. Please try again.")}throw wattpad.utils.showToast(t,{type:"dismissable"}),n({type:g}),e}))}}function O(e){return function(t){return Promise.resolve($.ajax({type:"DELETE",url:"/v4/users/".concat(e,"/blocks")})).then((function(){t({type:b,name:e}),t({type:r.a,toastProps:{className:"unblock",body:wattpad.utils.trans("%s is now unblocked. You can block them at any time.",e)}}),wattpad.utils.clearCommentLocalStorage()})).catch((function(e){var n;try{n=e.responseJSON.message}catch(e){n=wattpad.utils.trans("There was an error unblocking this user. Please try again.")}throw wattpad.utils.showToast(n,{type:"dismissable"}),t({type:g}),e}))}}function S(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=get_ignored_web");return function(e,n){if(!n().profileData.muteListLoaded)return Promise.resolve($.ajax({url:t,type:"POST"})).then((function(t){e({type:m,mutedUsers:t.list.map((function(e){return{username:e.NAME,avatar:"".concat(a.h,"/useravatar/").concat(e.NAME,".jpg")}}))})})).catch((function(t){var n=t.responseJSON.message;throw wattpad.utils.showToast(n,{type:"dismissable"}),e({type:g}),t}))}}function C(e){var t="v4/users/".concat(e,"/blocks?get_all=true");return function(e,n){if(!n().profileData.blockListLoaded)return Promise.resolve($.ajax({url:t,type:"GET"})).then((function(t){e({type:d,blockedUsers:t.users.map((function(e){return{username:e.username,avatar:e.avatar}}))})})).catch((function(t){var n,r,a=null!=t&&null!==(n=t.responseJSON)&&void 0!==n&&n.message?null==t||null===(r=t.responseJSON)||void 0===r?void 0:r.message:wattpad.utils.trans("Something went wrong. Please try again");throw wattpad.utils.showToast(a,{type:"dismissable"}),e({type:g}),t}))}}function j(e,t){return"mute"===t?function(t){t({type:f,name:e})}:function(t){t({type:p,name:e})}}function k(e,t){return"block"===t?function(t){t({type:y,name:e})}:function(t){t({type:b,name:e})}}},function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"n",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return g}));var r={1:"https://www.wattpad.com/1229519119-the-2022-watty-awards-important-milestones",2:"https://www.wattpad.com/1231193319-les-wattys-2022-rep%C3%A8res-importants",3:"https://www.wattpad.com/1231200684-wattys-2022-date-importanti",4:"https://www.wattpad.com/1231213225-die-watty-awards-2022-wichtige-meilensteine",5:"https://www.wattpad.com/1231224345-los-premios-watty-2022-fechas-importantes",6:"https://www.wattpad.com/1231203611-pr%C3%AAmio-wattys-2022-datas-importantes",18:"https://www.wattpad.com/1230991990-ang-2022-watty-awards-mga-importanteng-milestone",20:"https://www.wattpad.com/1231220047-penghargaan-wattys-2022-tahapan-penting",23:"https://www.wattpad.com/1231197934-2022-watty-%C3%B6d%C3%BClleri-%C3%B6nemli-tarihler"},a={1:"https://www.wattpad.com/1229514157-the-2022-watty-awards-eligibility",2:"https://www.wattpad.com/1231191747-les-wattys-2022-admissibilit%C3%A9",3:"https://www.wattpad.com/1231196027-wattys-2022-criteri-di-idoneit%C3%A0",4:"https://www.wattpad.com/1231211090-die-watty-awards-2022-teilnahmebedingungen",5:"https://www.wattpad.com/1231223859-los-premios-watty-2022-elegibilidad",6:"https://www.wattpad.com/1231202510-pr%C3%AAmio-wattys-2022-elegibilidade",18:"https://www.wattpad.com/1230988479-ang-2022-watty-awards-eligibility",20:"https://www.wattpad.com/1231219135-penghargaan-wattys-2022-kelayakan",23:"https://www.wattpad.com/1231196861-2022-watty-%C3%B6d%C3%BClleri-ba%C5%9Fvuru-%C5%9Fartlar%C4%B1"},o={1:"https://drive.google.com/file/d/1xzmsUjk1DrLsmsTBJ5mh4vp3oBKk5xkZ/view?usp=sharing",2:"https://www.wattpad.com/1231194648-les-wattys-2022-questions-juridiques",3:"https://www.wattpad.com/1231203286-wattys-2022-aspetti-legali",4:"https://www.wattpad.com/1231213855-die-watty-awards-2022-rechtliche-dinge",5:"https://www.wattpad.com/1231224960-los-premios-watty-2022-asuntos-legales",6:"https://www.wattpad.com/1231204225-pr%C3%AAmio-wattys-2022-informa%C3%A7%C3%B5es-legais",18:"https://www.wattpad.com/1230995005-ang-2022-watty-awards-mga-legal-na-usapin",20:"https://www.wattpad.com/1231221492-penghargaan-wattys-2022-hal-hal-hukum",23:"https://www.wattpad.com/1231198642-2022-watty-%C3%B6d%C3%BClleri-yasal-esaslar"},i=new Date("19 Aug 2022 23:59:59 GMT-0400").getTime(),s=100,l=15e3,c=500,u=20,m=128,d=100,f=function(e){return[{key:"fanfiction",value:e("Fanfiction"),subgenres:[{key:"alternate_universe",value:e("Alternate Universe")},{key:"crossover",value:e("Crossover")},{key:"fix_fic",value:e("Fix Fic")},{key:"one_shots",value:e("One Shots")},{key:"real_person",value:e("Real Person")},{key:"self_insert",value:e("Self Insert")},{key:"shipping",value:e("Shipping")},{key:"slash_fic",value:e("Slash Fic")}]},{key:"fantasy",value:e("Fantasy"),subgenres:[{key:"fantasy_ancient_world",value:e("Ancient World")},{key:"epic",value:e("Epic")},{key:"fairy_tales_legends",value:e("Fairy Tales/Folk Tales/Legends & Mythology")},{key:"fantasy_creatures",value:e("Fantasy Creatures")},{key:"fantasy_litrpg",value:e("LitRPG")},{key:"magical_realism",value:e("Magical Realism")},{key:"fantasy_royalty",value:e("Royalty")},{key:"fantasy_slice_of_life",value:e("Slice of Life")},{key:"transmigration",value:e("Transmigration")},{key:"urban_fantasy",value:e("Urban Fantasy")},{key:"fantasy_war_military",value:e("War & Military")},{key:"witches_wizards",value:e("Witches & Wizards")},{key:"wuxia",value:e("Wuxia")}]},{key:"historical_fiction",value:e("Historical Fiction"),subgenres:[{key:"17th_century",value:e("17th Century")},{key:"18th_century",value:e("18th Century")},{key:"19th_century",value:e("19th Century")},{key:"20th_century",value:e("20th Century")},{key:"alternate_history",value:e("Alternate History")},{key:"historical_ancient_world",value:e("Ancient World")},{key:"dark_academia",value:e("Dark Academia")},{key:"medieval",value:e("Medieval")},{key:"regency",value:e("Regency")},{key:"time_slip",value:e("Time Slip")},{key:"victorian",value:e("Victorian")},{key:"historical_war_military",value:e("War & Military")}]},{key:"horror",value:e("Horror"),subgenres:[{key:"horror_apocalyptic_dystopian",value:e("Apocalyptic/Dystopian")},{key:"horror_fantasy_creatures",value:e("Fantasy Creatures")},{key:"gore_disturbing",value:e("Gore & Disturbing")},{key:"gothic",value:e("Gothic")},{key:"horror_murder",value:e("Murder")},{key:"horror_psychological",value:e("Psychological")},{key:"serial_killer",value:e("Serial Killer")},{key:"horror_zombies",value:e("Zombies")}]},{key:"mystery_thriller",value:e("Mystery / Thriller"),subgenres:[{key:"abuse_trauma",value:e("Abuse & Trauma")},{key:"adventure",value:e("Adventure")},{key:"amateur_sleuth",value:e("Amateur Sleuth")},{key:"assassin_espionage",value:e("Assassin & Espionage")},{key:"cozy",value:e("Cozy")},{key:"kidnapping",value:e("Kidnapping")},{key:"mystery_mafia",value:e("Mafia")},{key:"mystery_murder",value:e("Murder")},{key:"police_legal_procedural",value:e("Police & Legal Procedural")},{key:"mystery_psychological",value:e("Psychological")},{key:"mystery_war_military",value:e("War & Military")}]},{key:"new_adult",value:e("New Adult"),subgenres:[{key:"new_adult_billionaires_ceos",value:e("Billionaires and CEOs")},{key:"new_adult_body_positivity",value:e("Body Positivity")},{key:"new_adult_college_university",value:e("College/University")},{key:"new_adult_coming_of_age",value:e("Coming of Age")},{key:"new_adult_contract_relationship",value:e("Contract Relationship")},{key:"new_adult_disability_illness",value:e("Disability and Illness")},{key:"new_adult_family_life",value:e("Family Life")},{key:"new_adult_friendship",value:e("Friendship")},{key:"new_adult_marriage_divorce",value:e("Marriage & Divorce")},{key:"new_adult_mental_health",value:e("Mental Health")},{key:"personal_journey",value:e("Personal Journey")},{key:"new_adult_slice_of_life",value:e("Slice of Life")},{key:"new_adult_slow_burn",value:e("Slow Burn")},{key:"new_adult_social_issues",value:e("Social Issues")},{key:"new_adult_sports",value:e("Sports")},{key:"new_adult_tragedy",value:e("Tragedy")},{key:"new_adult_workplace",value:e("Workplace")}]},{key:"paranormal",value:e("Paranormal"),subgenres:[{key:"angels_demons",value:e("Angels and Demons")},{key:"paranormal_fantasy_creatures",value:e("Fantasy Creatures")},{key:"fated_mates",value:e("Fated Mates")},{key:"occult_supernatural",value:e("Occult & Supernatural")},{key:"shifters",value:e("Shifters")},{key:"paranormal_vampires",value:e("Vampires")},{key:"werewolves",value:e("Werewolves")}]},{key:"romance",value:e("Romance"),subgenres:[{key:"romance_billionaires_ceos",value:e("Billionaires and CEOs")},{key:"romance_college_university",value:e("College/University")},{key:"contemporary",value:e("Contemporary")},{key:"romance_contract_relationship",value:e("Contract Relationship")},{key:"dark_romance",value:e("Dark Romance")},{key:"enemies_to_lovers",value:e("Enemies to Lovers")},{key:"friends_to_lovers",value:e("Friends to Lovers")},{key:"happy_ending",value:e("Happy Ending")},{key:"romance_mafia",value:e("Mafia")},{key:"romance_marriage_divorce",value:e("Marriage & Divorce")},{key:"romantic_comedy",value:e("Romantic Comedy")},{key:"romance_royalty",value:e("Royalty")},{key:"romance_slice_of_life",value:e("Slice of Life")},{key:"romance_slow_burn",value:e("Slow Burn")},{key:"small_town",value:e("Small Town")},{key:"romance_sports",value:e("Sports")},{key:"romance_workplace",value:e("Workplace")}]},{key:"science_fiction",value:e("Science Fiction"),subgenres:[{key:"alien_contact",value:e("Alien Contact")},{key:"scifi_apocalyptic_dystopian",value:e("Apocalyptic/Dystopian")},{key:"artificial_intelligence",value:e("Artificial Intelligence")},{key:"scifi_litrpg",value:e("LitRPG")},{key:"scifi_slice_of_life",value:e("Slice of Life")},{key:"space_exploration",value:e("Space Exploration")},{key:"steampunk",value:e("Steampunk")},{key:"technological",value:e("Technological")},{key:"time_travel",value:e("Time Travel")},{key:"scifi_war_military",value:e("War & Military")}]},{key:"young_adult",value:e("Young Adult"),subgenres:[{key:"young_adult_body_positivity",value:e("Body Positivity")},{key:"young_adult_coming_of_age",value:e("Coming of Age")},{key:"young_adult_disability_illness",value:e("Disability and Illness")},{key:"young_adult_family_life",value:e("Family Life")},{key:"young_adult_friendship",value:e("Friendship")},{key:"young_adult_mental_health",value:e("Mental Health")},{key:"young_adult_romance",value:e("Romance")},{key:"young_adult_school_life",value:e("School Life")},{key:"young_adult_social_issues",value:e("Social Issues")},{key:"young_adult_tragedy",value:e("Tragedy")}]},{key:"wild_card",value:e("Wild Card"),subgenres:[]},{key:"sequels",value:e("Sequels"),onlyEnglish:!0,subgenres:[]}]},p=function(e){return[{code:"en",value:e("English")},{code:"fr",value:e("French")},{code:"tl",value:e("Filipino")},{code:"de",value:e("German")},{code:"id",value:e("Indonesian")},{code:"it",value:e("Italian")},{code:"pt",value:e("Portuguese")},{code:"es",value:e("Spanish")},{code:"tr",value:e("Turkish")}]},y=function(e){return[{key:"no_sexual_content",value:e("No sexual content")},{key:"steamy",value:e("Steamy")},{key:"fade_to_black",value:e("Fade to Black")},{key:"explicit_rare",value:e("Explicit Sex Rare")},{key:"explicit_common",value:e("Explicit Sex Common")}]},b=function(e){return[{key:"8-12",value:e("Middle Grade (8-12 years old)")},{key:"13-18",value:e("Young Adult (13-18 years old)")},{key:"18-24",value:e("New Adult (18-24 years old)")},{key:"25+",value:e("Adult (25+ years old)")}]},g=function(e,t){return[{key:"none",value:e("My story does not contain any mature themes")},{key:"sex",value:e(t?"Sexual Content":"Sex")},{key:"language",value:e("Explicit Language")},{key:"drug_use",value:e("Drug Use")},{key:"self-harm",value:e("Self-harm")},{key:"other",value:e("Other")}]}},function(e,t,n){"use strict";n.d(t,"d",(function(){return Pe})),n.d(t,"l",(function(){return Te})),n.d(t,"o",(function(){return Re})),n.d(t,"b",(function(){return xe})),n.d(t,"a",(function(){return Ae})),n.d(t,"i",(function(){return Ie})),n.d(t,"k",(function(){return Le})),n.d(t,"f",(function(){return Me})),n.d(t,"n",(function(){return De})),n.d(t,"h",(function(){return Ue})),n.d(t,"g",(function(){return qe})),n.d(t,"p",(function(){return Be})),n.d(t,"m",(function(){return Fe})),n.d(t,"e",(function(){return We})),n.d(t,"j",(function(){return Ve})),n.d(t,"c",(function(){return He}));var r=n(5),a=n(14),o=n.n(a),i=n(8),s=n(0),l=n.n(s),c=n(1),u=n.n(c),m=n(4),d=n.n(m),f=n(6);function p(e){var t=e.toggleState,n=e.onToggle,r=e.loading,a=e.disabled;return r?l.a.createElement("div",{className:d()("toggle",t),role:"switch","aria-checked":"on"===t?"true":"false"},l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"..."))):a?l.a.createElement("div",{className:d()("toggle",t,"disabled"),role:"switch","aria-checked":"on"===t?"true":"false"},l.a.createElement("div",{className:"switch"}),l.a.createElement("div",{className:"block-on"},l.a.createElement("span",{className:"label-on"},"ON")),l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"OFF"))):l.a.createElement("div",{className:d()("toggle",t),role:"switch",tabIndex:0,"aria-checked":"on"===t?"true":"false",onClick:n},l.a.createElement("div",{className:"switch"}),l.a.createElement("div",{className:"block-on"},l.a.createElement("span",{className:"label-on"},"ON")),l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"OFF")))}var y=n(40),b=n(3),g=n(85),h=n(2);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.excludedSuggestions,n=e.handleClick,r=e.inputTerm,a=Object(h.o)().trans,o=v(Object(s.useState)([]),2),i=o[0],c=o[1];return Object(s.useEffect)((function(){var e;e="/api/v3/autocomplete/tag?term=".concat(r),Promise.resolve($.ajax({url:e,type:"GET"})).then((function(e){var n=e.filter((function(e){return!t.includes(e)}));c(n)})).catch(c([]))}),[r,t]),l.a.createElement("div",{className:"suggested-tags"},l.a.createElement("div",{className:"title"},a("Suggested Tags")),l.a.createElement("div",{className:"tags"},i.map((function(e){return l.a.createElement("button",{key:e,onClick:function(){return n(e)}},"#",e)}))))}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var a=L(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}E.defaultProps={excludedSuggestions:[],handleClick:function(){},inputTerm:""},E.propTypes={excludedSuggestions:u.a.arrayOf(u.a.string),handleClick:u.a.func,inputTerm:u.a.string};var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,e);var t,n,r,a=x(o);function o(){var e;P(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(I(e=a.call.apply(a,[this].concat(n))),"state",{tags:e.props.tags,newTagName:"",warningText:"",disableInput:!1}),M(I(e),"editRef",l.a.createRef()),M(I(e),"unblockableTagsWarning",e.props.trans("Oops! This tag can't be blocked.")),M(I(e),"tagLimitWarning",e.props.trans("You have reached your blocked tags limit.")),M(I(e),"handleTagListUpdates",(function(t){isNaN(e.props.tagLimit)||(t.length>=e.props.tagLimit?e.setState(N(N({},e.state),{},{warningText:e.tagLimitWarning,disableInput:!0})):e.setState(N(N({},e.state),{},{warningText:"",disableInput:!1}))),e.setState({tags:t})})),M(I(e),"addTag",(function(t,n){if(e.props.unblockableTags&&e.props.unblockableTags.includes(e.state.newTagName))e.setState({warningText:e.unblockableTagsWarning});else{if(!n.some((function(e){return e.name===t}))&&t){var r={id:t,name:t,active:!0};e.handleTagListUpdates([].concat(C(n),[r]))}e.setState({newTagName:""})}})),M(I(e),"handleChanges",(function(t){if(13===t.keyCode||" "===t.nativeEvent.data||32===t.keyCode)e.addTag(e.state.newTagName.toLowerCase(),e.state.tags);else if(37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode&&40!==t.keyCode){var n=" "===t.target.value?"":t.target.value.toLowerCase();e.setState(N(N({},e.state),{},{newTagName:n,warningText:""}))}})),M(I(e),"removeTag",(function(t,n){if((e.props.removeOnTagClick||t.target.className.includes("remove")||13===t.keyCode)&&9!==t.keyCode&&16!==t.keyCode){var r=n,a=e.state.tags.filter((function(e){return e.name!==r}));e.handleTagListUpdates(a)}})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.tagLimit&&this.props.tags.length>=this.props.tagLimit&&this.setState(N(N({},this.state),{},{warningText:this.tagLimitWarning,disableInput:!0}))}},{key:"componentDidUpdate",value:function(e){this.props.tags!==e.tags&&this.handleTagListUpdates(this.props.tags),this.editRef&&this.props.visibleState!==e.visibleState&&this.editRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props.trans;return l.a.createElement("div",{className:d()("content-settings","edit-blocked-tags",{active:this.props.visibleState,hidden:!this.props.visibleState})},l.a.createElement("div",{className:"heading"},l.a.createElement("button",{className:"back",onClick:function(){return e.props.onReturn(e.state.tags)}},l.a.createElement(b.e,{name:"arrowLeft",size:"22"})),l.a.createElement("h2",null,t("Blocked Tags"))),l.a.createElement("hr",null),l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,t("Blocked Tags")),l.a.createElement("p",null,t("We will remove all stories that have the following tags from your Home recommendations."))),l.a.createElement("div",{className:"blocked-tags-list"},l.a.createElement("div",{className:"tags"},this.state.tags.map((function(t){return l.a.createElement(g.a,S({tabIndex:"-1",key:t.id},t,{clickHandler:function(t,n){return e.removeTag(t,n)}}))})))),l.a.createElement("input",{className:"input-field",type:"text",ref:this.editRef,onKeyDown:this.handleChanges,onChange:this.handleChanges,value:this.state.newTagName,placeholder:t("Separate tags with a space"),disabled:this.state.disableInput}),this.state.warningText&&l.a.createElement("div",{className:"warning"},l.a.createElement(b.e,{name:"warning-triangle",size:"22"}),l.a.createElement("p",null,this.state.warningText)),this.state.newTagName&&l.a.createElement(E,{handleClick:function(t){e.addTag(t,e.state.tags)},inputTerm:this.state.newTagName,excludedSuggestions:this.state.tags.map((function(e){return e.name}))}))}}])&&T(t.prototype,n),r&&T(t,r),o}(l.a.Component);M(D,"propTypes",{removeOnTagClick:u.a.bool,onReturn:u.a.func,tagLimit:u.a.number,tags:u.a.arrayOf(u.a.object).isRequired,toggleView:u.a.func,trans:u.a.func.isRequired,unblockableTags:u.a.arrayOf(u.a.string),visibleState:u.a.bool});var U=Object(r.n)(D),q=n(106);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var a=J(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(o,e);var t,n,r,a=G(o);function o(){var e;H(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(Z(e=a.call.apply(a,[this].concat(n))),"state",{showConfirmation:!0,matureToggle:null,overflowCount:0,showMature:null,showBlockedTags:null,editBlockedTagsView:!1,tags:null,newTagName:"",unblockableTags:null,tagLimit:null}),Q(Z(e),"tagRef",l.a.createRef()),Q(Z(e),"handleEsc",(function(t){27===t.keyCode&&(e.state.editBlockedTagsView?e.toggleView():(e.setState({showConfirmation:!1}),e.props.toggleModal()))})),Q(Z(e),"calculateOverflow",(function(){for(var t=e.tagRef.current.childNodes,n=t.length,r=n,a=0;a<n&&!(t[a].getBoundingClientRect().top>t[0].getBoundingClientRect().top);a++)r--;e.setState({overflowCount:r})})),Q(Z(e),"onToggle",(function(){var t="on"==e.state.matureToggle?"off":"on";e.setState(V(V({},e.state),{},{matureToggle:t}))})),Q(Z(e),"toggleView",(function(){e.setState(V(V({},e.state),{},{editBlockedTagsView:!e.state.editBlockedTagsView}))})),Q(Z(e),"getNewBlockedTags",(function(t){e.setState(V(V({},e.state),{},{editBlockedTagsView:!e.state.editBlockedTagsView,tags:t}),(function(){return e.calculateOverflow()}))})),Q(Z(e),"handleChanges",(function(t){var n=" "===t.target.value?"":t.target.value;e.setState(V(V({},e.state),{},{newTagName:n}))})),Q(Z(e),"handleApplyChanges",(function(){var t={},n=e.props.contentSettings&&e.props.contentSettings.includeMature,r=e.props.contentSettings?e.props.contentSettings.blockedTags:[],a="on"==e.state.matureToggle,o=e.state.tags.map((function(e){return e.name}));e.state.showMature&&n!==a&&(t.includeMature=a),e.state.showBlockedTags&&!_.isEqual(r,o)&&(t.blockedTags=o),e.props.saveContentSettings(t)})),Q(Z(e),"onCancel",(function(){e.setState({showConfirmation:!1},(function(){e.props.toggleModal()}))})),e}return t=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.contentSettings)return null;var n=void 0!==e.contentSettings.includeMature,r=e.contentSettings.includeMature?"on":"off",a=e.contentSettings.blockedTags,o=a?a.map((function(e){return{id:e,name:e,active:!0}})):[],i=void 0!==e.contentSettings.tagLimit,s=e.contentSettings.tagLimit,l=e.contentSettings.unblockableTags,c={};return null===t.showMature&&(c.showMature=n),null===t.showBlockedTags&&(c.showBlockedTags=i),null===t.matureToggle&&(c.matureToggle=r),null===t.tags&&(c.tags=o),null===t.tagLimit&&(c.tagLimit=s),null===t.unblockableTags&&(c.unblockableTags=l),0===Object.keys(c).length?null:c}}],(n=[{key:"componentDidMount",value:function(){this.props.getContentSettings(),document.addEventListener("keydown",this.handleEsc,!1),this.state.showBlockedTags&&this.calculateOverflow()}},{key:"componentWillUnmount",value:function(){this.state.showConfirmation&&"0"!==wattpad.utils.getCookie("cs_c")&&(this.props.openConfirmation(),wattpad.utils.setCookie("cs_c",0)),document.removeEventListener("keydown",this.handleEsc,!1)}},{key:"componentDidUpdate",value:function(e,t){this.state.showLoader&&e.contentSettingsLoading&!this.props.contentSettingsLoading&&this.setState({showLoader:!1}),this.state.showBlockedTags&&this.state.tags!==t.tags&&this.calculateOverflow()}},{key:"render",value:function(){var e=this.props.trans,t=this.state.tags?this.state.tags:[];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:d()("content-settings",{hidden:this.state.editBlockedTagsView,active:!this.state.editBlockedTagsView})},l.a.createElement("h2",null,e("Home Content Preferences")),l.a.createElement("hr",null),this.state.showMature&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section mature"},l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,e("Include Mature")),l.a.createElement("p",null,e("Mature stories contain adult content and themes. Turn this on if you want to see mature stories recommended to you in Home."))),l.a.createElement(p,{toggleState:this.state.matureToggle,onToggle:this.onToggle,disabled:this.props.contentSettingsLoading||this.props.homeLoading})),l.a.createElement("hr",null)),this.state.showBlockedTags&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section blocked-tags"},l.a.createElement("div",{className:"left-section"},l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,e("Blocked Tags")),l.a.createElement("p",null,e("We will remove all stories that have the following tags from your Home recommendations."))),l.a.createElement("div",{className:"blocked-tags-list"},l.a.createElement("div",{className:"tags",ref:this.tagRef},t.slice(0).reverse().map((function(e){return l.a.createElement(y.a,F({key:e.id,disableClick:!0},e))}))),this.state.overflowCount>0&&l.a.createElement("div",{className:"more"},"+ ",this.state.overflowCount," more"))),l.a.createElement("div",{className:"right-section"},l.a.createElement("button",{className:"edit-tags-button right-icon",onClick:this.toggleView},l.a.createElement("p",null,e("Edit Tags")),l.a.createElement(b.e,{name:"arrowRight",size:"22"})))),l.a.createElement("hr",null)),l.a.createElement("div",{className:"footer"},l.a.createElement("button",{className:"cancel",onClick:this.onCancel},e("Cancel")),this.props.contentSettingsLoading||this.props.homeLoading?l.a.createElement(q.a,null):l.a.createElement("button",{className:"btn-primary",disabled:!!this.props.contentSettingsLoading,onClick:this.handleApplyChanges},e("Apply Changes")))),l.a.createElement(U,{removeOnTagClick:!1,tagLimit:this.state.tagLimit,onReturn:this.getNewBlockedTags,tags:t,toggleView:this.toggleView,visibleState:this.state.editBlockedTagsView,unblockableTags:this.state.unblockableTags}))}}])&&z(t.prototype,n),r&&z(t,r),o}(l.a.Component);Q(X,"propTypes",{homeLoading:u.a.bool,contentSettings:u.a.object,contentSettingsLoading:u.a.bool,getContentSettings:u.a.func,openConfirmation:u.a.func,saveContentSettings:u.a.func,toggleModal:u.a.func.isRequired,trans:u.a.func.isRequired});var ee={toggleModal:i.b,saveContentSettings:De,getContentSettings:Me,openConfirmation:Ue},te=Object(r.n)(Object(f.b)((function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,error:t.error,contentSettings:t.contentSettings,contentSettingsLoading:t.contentSettingsLoading}}),ee)(X));function ne(e){var t=e.handleConfirmation,n=Object(h.o)().trans;return l.a.createElement("div",{className:"thanks-for-the-input"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:"/img/homepages/robot.svg",alt:""})),l.a.createElement("div",{className:"text"},l.a.createElement("h3",null,n("Thanks for the input!")),l.a.createElement("p",null,n("Our ingenious robots are busy plotting world domination, er, working on new story recommendations for you. Check back soon."))),l.a.createElement("div",{className:"confirmation"},l.a.createElement("button",{className:"btn-primary",onClick:t},n("Got it"))))}ne.defaultProps={handleConfirmation:function(){}},ne.propTypes={handleConfirmation:u.a.func};var re=n(71),ae=n(41),oe=n(127),ie=n(162);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var a=pe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=[{className:"open-book",name:"bookOpenBeta",size:"16",color:"ds-neutral-00-solid"},{className:"paid-story",name:"paidStory",size:"20",color:"ds-neutral-00-solid",strokeWidth:"0",fill:!0}],ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(i,e);var t,n,a,o=me(i);function i(){var e;le(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ye(fe(e=o.call.apply(o,[this].concat(n))),"state",{completed:e.props.story.completed,isMature:e.props.story.mature,numParts:e.props.story.numParts,isLibraryPopoverOpen:!1,firstTabFocus:null,lastTabFocus:null,focusableElements:[]}),ye(fe(e),"_isMounted",!1),ye(fe(e),"libraryButtonRef",l.a.createRef()),ye(fe(e),"modalRef",l.a.createRef()),ye(fe(e),"beforeModalRef",l.a.createRef()),ye(fe(e),"defaultCover",Object(r.g)(e.props.story.cover,268)),ye(fe(e),"handleKeyPress",(function(t){"Tab"===t.key&&e.state.firstTabFocus&&e.state.lastTabFocus&&(t.shiftKey?document.activeElement===e.state.firstTabFocus&&(t.preventDefault(),e.state.lastTabFocus.focus()):document.activeElement===e.state.lastTabFocus&&(t.preventDefault(),e.state.firstTabFocus.focus())),"Escape"===t.key&&(e.state.isLibraryPopoverOpen?(e.props.closePopover(),e.setState({isLibraryPopoverOpen:!1})):(e.beforeModalRef&&e.beforeModalRef.current.focus(),e.props.toggleModal()))})),ye(fe(e),"onRead",(function(){var t=e.props.story.firstPartId?"/".concat(e.props.story.firstPartId):"/story/".concat(e.props.story.id);app.router.navigate(t,{trigger:!0}),e.props.toggleModal()})),ye(fe(e),"onMoreDetails",(function(){var t="/story/".concat(e.props.story.id);app.router.navigate(t,{trigger:!0}),e.props.toggleModal()})),ye(fe(e),"handleLibraryClick",(function(t){t.preventDefault(),e.setState({isLibraryPopoverOpen:!0});e.props.openPopover({component:function(){return l.a.createElement(oe.a,{readingLists:e.props.readingLists,storyId:e.props.story.id,updateCollection:e.props.updateCollection,removeStoriesFromCollection:e.props.removeStoriesFromCollection,storiesCollections:e.props.storiesCollections[e.props.story.id],getReadingLists:e.props.getReadingLists,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds})},triggerRef:e.libraryButtonRef,passthroughProps:{modifiers:[{name:"preventOverflow",options:{boundary:e.modalRef.current}}],showArrow:"true"},contentClass:"react-popover-content--above-modal"})})),ye(fe(e),"handleCloseClick",(function(){e.props.toggleModal(),e.beforeModalRef&&e.beforeModalRef.current.focus()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.beforeModalRef.current=document.activeElement,window.addEventListener("keydown",this.handleKeyPress),this.props.readingLists||this.props.readingListsLoading||this.props.getReadingLists(),this.props.getCollectionsForStoryIds(this.props.story.id)}},{key:"componentDidUpdate",value:function(e,t){var n=t.focusableElements?t.focusableElements:[],r=this.modalRef.current?this.modalRef.current.querySelectorAll(ie.a):null;r=r?Array.prototype.slice.call(r):[],n.length===r.length&&r.every((function(e,t){return e===n[t]}))||0===r.length||(this.setState({firstTabFocus:r[0],lastTabFocus:r[r.length-1],focusableElements:r}),r[0].focus())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.trans;return l.a.createElement("div",{className:"story-preview-wrapper",ref:this.modalRef},l.a.createElement("div",{className:"cover"},l.a.createElement("img",{srcSet:"".concat(Object(r.g)(this.props.story.cover,288)," 1x, ").concat(Object(r.g)(this.props.story.cover,416)," 1.5x, ").concat(Object(r.g)(this.props.story.cover,512)," 2x"),src:this.defaultCover,alt:"".concat(this.props.story.title," cover")})),l.a.createElement("button",{className:"close",onClick:this.handleCloseClick},l.a.createElement(b.e,{name:"close",size:"24"})),l.a.createElement("div",{className:"story-info"},l.a.createElement("div",{className:"meta-header"},l.a.createElement("div",{className:"title-wrapper"},this.props.story.isPaid&&l.a.createElement(b.e,{name:"paidStory",className:"paid-stories-badge",size:"24",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}),l.a.createElement("div",{className:"title"},this.props.story.title)),l.a.createElement(re.a,{numParts:this.state.numParts,isMature:this.state.isMature,isCompleted:this.state.completed})),l.a.createElement("div",{className:"buttons-wrapper"},l.a.createElement("button",{className:"read btn-primary",onClick:this.onRead},l.a.createElement(b.e,be[+this.props.story.isPaid]),l.a.createElement("span",{className:"read-btn-text"},this.props.story.isPaid?e("Free preview"):e("Start reading"))),this.props.readingLists&&l.a.createElement("button",{className:"btn-primary add-to-library-btn",title:e("Add story to..."),"aria-label":e("Add story to..."),ref:this.libraryButtonRef,onClick:this.handleLibraryClick},l.a.createElement(b.e,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))),l.a.createElement("div",{className:"description"},Object(r.w)(this.props.story.description,400,!1)),l.a.createElement("div",{className:"more-details-wrapper"},l.a.createElement("button",{className:"more-details",onClick:this.onMoreDetails},e("More details"),l.a.createElement(b.e,{name:"chevRight",size:"24"})))))}}])&&ce(t.prototype,n),a&&ce(t,a),i}(l.a.Component);ye(ge,"propTypes",{story:u.a.object,readingLists:u.a.array,getReadingLists:u.a.func,readingListsLoading:u.a.bool,updateCollection:u.a.func,removeStoriesFromCollection:u.a.func,getCollectionsForStoryIds:u.a.func,storiesCollections:u.a.object,toggleModal:u.a.func,openPopover:u.a.func,closePopover:u.a.func,trans:u.a.func.isRequired,ngettext:u.a.func.isRequired});var he={getReadingLists:qe,updateCollection:Be,removeStoriesFromCollection:Fe,getCollectionsForStoryIds:We,toggleModal:i.b,openPopover:ae.c,closePopover:ae.a},ve=Object(r.n)(Object(f.b)((function(e){var t=e.homeSections;return{readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,removeStoriesFromCollection:t.removeStoriesFromCollection,storiesCollections:t.storiesCollections}}),he)(ge)),we=n(121),Ee=n(45);function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t=e.email,n=e.userId,r=e.username,a=e.daysBetweenReminders,o=e.verified,i=e.toggleModal,c=e.toggleToast,u=Object(h.o)().trans,m=Oe(Object(s.useState)("option1"),2),d=m[0],f=m[1],p=Oe(Object(s.useState)(!1),2),y=p[0],g=p[1],v=function(e){f(e.target.value)},w=function(e){var t,n,a;e.preventDefault(),"option1"==d?g(!0):"option2"==d&&(t="api/v3/users/"+r,n=Promise.resolve($.ajax({type:"PUT",url:t,data:{is_email_reverified:!0}})),a=u(o?"Thank you for confirming your email.":"Thank you, please check your email to confirm your verification."),n.then((function(){wattpad.utils.destroyCookie("dbrc_"+r),wattpad.utils.destroyCookie("cnsc_"+r),i(),c({className:"email-reverification-toast",body:a})})))},E=function(){var e=window.wattpad.utils.getCookie("dbrc_"+r),t=window.wattpad.utils.getCookie("cnsc_"+r);if(null==e&&wattpad.utils.setCookie("dbrc_"+r,1,a),null==t)wattpad.utils.setCookie("cnsc_"+r,1);else{var n=Number(t);wattpad.utils.setCookie("cnsc_"+r,n+1)}i(),c({className:"email-reverification-toast",body:u("We'll send you a reminder in 3 days")}),window.te.push("event","home","email_reverification","","skip",{username:r})};return y?l.a.createElement("div",{className:"change-email-modal-wrapper"},l.a.createElement("div",{className:"modal-body"},l.a.createElement(we.a,{isChangeEmailModal:!0,email:t,userId:n,isSuccess:!1,hideModal:E,dismissModal:function(){wattpad.utils.destroyCookie("dbrc_"+r),wattpad.utils.destroyCookie("cnsc_"+r),i()}})),l.a.createElement("button",{className:"btn-no-style back-btn",onClick:function(){g(!1)}},l.a.createElement(b.e,{iconName:"fa-left",color:"wp-neutral-1",className:"left-arrow-back"}),l.a.createElement("p",{className:"back-btn-label"},u("Back")))):l.a.createElement("div",{className:"email-reverification-modal-content"},l.a.createElement("button",{className:"btn-no-style",onClick:E,"aria-label":"Close modal"},l.a.createElement(b.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),l.a.createElement("header",{className:"email-reverification-heading"},l.a.createElement(b.c,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"137",className:"wp-logo"}),l.a.createElement("h1",{"aria-label":u("Please verify your email.")},u("Please verify your email."))),l.a.createElement("div",{className:"modal-content"},l.a.createElement("p",{className:"email-notes note"},u("In order to ensure continued access to your account, please check that the email below is correct and that you have access to it.")),l.a.createElement("p",{className:"email-notes question"},u("Do you want to keep the email below as your recovery contact?")),l.a.createElement("div",{className:"email-wrapper"},l.a.createElement("p",{className:"email-notes email-text"},t),!0==={"gmail.com":!0,"gmail.com.br":!0,"gmail.de":!0,"gmail.dk":!0,"gmail.fr":!0,"googlemail.com":!0}[t.split("@")[1]]&&l.a.createElement("p",{className:"email-notes gmail-note"},u("Note: If you are using a Gmail address with a period in it, the periods may not be displayed but emails will still reach you. "))),l.a.createElement("div",{className:"radio-wrapper"},l.a.createElement("form",null,l.a.createElement("div",{className:"radio-item"},l.a.createElement("input",{id:"option1",name:"options",type:"radio",value:"option1",checked:"option1"==d,"aria-label":u("I need to update my email"),onChange:v}),l.a.createElement("label",{htmlFor:"option1"},u("I need to update my email")),l.a.createElement("input",{id:"option2",name:"options",type:"radio",value:"option2",checked:"option2"==d,"aria-label":u("This is my current email"),onChange:v}),l.a.createElement("label",{htmlFor:"option2"},u("This is my current email"))),l.a.createElement("button",{className:"btn-primary btn-md btn-email-confirm",onClick:w,"aria-label":u("Confirm")},u("Confirm"))))))}Ce.propTypes={email:u.a.string.isRequired,userId:u.a.number.isRequired,username:u.a.string.isRequired,daysBetweenReminders:u.a.number.isRequired,verified:u.a.bool.isRequired,toggleModal:u.a.func,toggleToast:u.a.func};var je=Object(f.b)(null,{toggleModal:i.b,toggleToast:Ee.c})(Ce),ke=n(12),Ne=n(60);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t,n){return function(a){var o;if(a({type:ke.i}),Object(r.o)()){var i=!1;1==window.wattpad.utils.getCookie("hc")?i=!0:wattpad.utils.setCookie("hc",1),o=Promise.resolve($.get({url:"/v5/home",cache:i}))}else o=e.get("/v5/home",{},t,n);o.then((function(e){a({type:ke.e,sections:e.sections}),a(xe())})).catch((function(){a({type:ke.d,error:{errorType:ke.u.fetchFailed,errorMessage:"fetching home modules failed"}})})).finally((function(){a({type:ke.j}),a({type:ke.t})}))}}function Te(e,t,n,r){return{type:ke.p,info:{index:e,type:t,top:n,bottom:r}}}function Re(e){return{type:ke.s,index:e}}function xe(){return function(e){e({type:ke.c})}}function Ae(e){return function(t){o.a.each(e,(function(e){$.get(e)})),t({type:ke.b})}}function Ie(){return function(e){e(Object(i.b)({component:function(){return React.createElement(te,null)},className:"modal-contest",disableClose:!0,disableScroll:!0}))}}function Le(e){return function(t){t(Object(i.b)({component:function(){return React.createElement(ve,{story:e})},className:"modal-story-preview",disableClose:!0,hideClose:!0,disableScroll:!0}))}}function Me(){var e=wattpad.utils.currentUser().get("username"),t="/v5/users/".concat(e,"/content-settings");return function(e){e({type:ke.g}),Promise.resolve($.get(t)).then((function(t){e({type:ke.n,settings:t}),e({type:ke.h})})).catch((function(){e({type:ke.d,error:{errorType:ke.u.fetchError,errorMessage:"error fetching content settings"}})}))}}function De(e){if(0===Object.keys(e).length)return function(e){e({type:ke.m}),e({type:Ne.c})};var t,n,r=wattpad.utils.currentUser().get("username"),a="/v5/users/".concat(r,"/content-settings"),o="".concat(a,"/include-mature"),i="includeMature",s="".concat(a,"/blocked-tags"),l=[];function c(e){return Object.values(e)[0].then((function(t){return{setting:Object.keys(e)[0],promise:t,status:"resolved"}}),(function(t){return{setting:Object.keys(e)[0],promise:t,status:"rejected"}}))}return e.hasOwnProperty(i)&&(t=Promise.resolve($.ajax({url:o,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(_e({},i,e[i]))})),l.push(_e({},i,t))),e.hasOwnProperty("blockedTags")&&(n=Promise.resolve($.ajax({url:s,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(_e({},"blockedTags",e.blockedTags))})),l.push(_e({},"blockedTags",n))),function(e){e({type:ke.g}),Promise.all(l.map(c)).then((function(t){t.forEach((function(e){e.setting===i&&"resolved"===e.status&&window.te.push("event","content_settings",null,null,"update",{setting:"mature"})})),wattpad.utils.setCookie("hc",0),e({type:ke.f}),e(Me()),e(Pe()),e({type:Ne.c})}))}}function Ue(){return function(e){e(Object(i.b)({component:function(){return React.createElement(ne,{handleConfirmation:function(){e({type:Ne.c})}})},className:"modal-confirmation",hideClose:!0}))}}function qe(){var e=wattpad.utils.currentUser().get("username"),t="/api/v3/users/".concat(e,"/lists")+"?offset=0&limit=200&fields=lists(id%2Cname%2Cuser(name)%2CnumStories%2Cfeatured)%2Ctotal";return function(e){e({type:ke.k}),Promise.resolve($.get(t)).then((function(t){e({type:ke.o,lists:t.lists})})).catch((function(){wattpad.utils.showToast("Error: fetching reading lists failed",{type:"dismissable"})}))}}function Be(e,t){var n=wattpad.utils.currentUser().get("username"),r="/api/v3/lists/".concat(e,"/stories"),a="/api/v3/users/".concat(n,"/library?fields=stories(id)"),o="library"===e?a:r;return function(n){Promise.resolve($.post(o,{stories:t})).then((function(){n({type:ke.a,collectionId:e,storyId:t})})).catch((function(){wattpad.utils.showToast("Error: collection update failed",{type:"dismissable"})}))}}function Fe(e,t){var n=wattpad.utils.currentUser().get("username"),r="/api/v3/lists/".concat(e,"/stories/").concat(t),a="/api/v3/users/".concat(n,"/library/").concat(t),o="library"===e?a:r;return function(n){Promise.resolve($.ajax({url:o,type:"DELETE"})).then((function(){n({type:ke.r,collectionId:e,storyId:t})})).catch((function(){wattpad.utils.showToast("Error: removing stories from collection failed",{type:"dismissable"})}))}}function We(e){var t="/v4/stories/collections"+"?storyIds=".concat(e);return function(e){e({type:ke.l}),Promise.resolve($.get(t)).then((function(t){e({type:ke.q,collections:t.collections})})).catch((function(){wattpad.utils.showToast("Error: fetching stories collections failed",{type:"dismissable"})}))}}function Ve(e,t,n){return function(r){var a=wattpad.user,o=window.wattpad.utils.getCookie("dbrc_"+a.username),s=Number(window.wattpad.utils.getCookie("cnsc_"+a.username));(null==o||s>e)&&r(Object(i.b)({component:function(){return React.createElement(je,{email:a.email,userId:a.id,username:a.username,daysBetweenReminders:t,verified:n})},className:"email-reverification-modal",hideClose:!0}))}}function He(){return function(e){Promise.resolve($.get({url:"/api/v3/internal/current_user?fields=email_reverification_status,verified_email"})).then((function(t){var n=t.email_reverification_status,r=n.is_email_reverified,a=n.max_skips,o=n.days_between_reminders,i=t.verified_email;!r&&wattpad.testGroups.EMAIL_REVERIFICATION&&e(Ve(a,o,i))}))}}},,,,,,,,function(e,n){e.exports=t},,function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return y}));var r=n(2),a="STORY_PLANNER",o="".concat(a,"/REQUEST"),i="".concat(a,"/FETCH"),s="".concat(a,"/POST"),l="".concat(a,"/ERROR"),c="".concat(a,"/UPDATE"),u="".concat(a,"/VISIBILE"),m=function(){var e=Object(r.o)().trans;return{title:e("The Protagonist"),info:e("Stories have multiple characters, and many main characters. The Protagonist on the other hand is the leading character in your story. They are the most prominent figure in your story, who drives the plot and makes up most of the narrative. They are the character whose fate is most closely followed by your reader."),more:e("If youre struggling to figure out who your Protagonist is,"),learnMore:e("Learn More Here"),section1:{label:e("Your Protagonist's name"),name:"protagonist.name",limit:20,placeholder:e("Enter Name")},section2:{label:e("Other names for the Protagonist"),name:"protagonist.other_names",limit:50,placeholder:e("Separate Names By Commas")},section3:{name:"protagonist.pronoun",label:e("Protagonist's pronoun"),options:[{value:"he",name:e("He")},{value:"she",name:e("She")},{value:"they",name:e("They")}],placeholder:e("Select")},section4:{label:e("Protagonist's attributes"),name:"protagonist.attributes",limit:250,placeholder:e("Type and Select"),info:e("Up to 10 attributes. Include attributes like skin tone, ethnicity, gender selection, disabilities, hair, eyes, body type, and sexual orientation.")},section5:{label:e("The Protagonist tends to be:"),options:[{id:"protagonist.extrovert_introvert",sliderLabels:[e("Extroverted"),e("Introverted")]},{id:"protagonist.likeable",sliderLabels:[e("Unlikable"),e("Likable")]},{id:"protagonist.focus_past_future",sliderLabels:[e("Focused on Patterns in the Past"),e("Focused on Future Possibilities")]},{id:"protagonist.thinking_feeling",sliderLabels:[e("Uses Mind & Logic"),e("Uses Heart & Emotion")]},{id:"protagonist.decisive_improvise",sliderLabels:[e("Organized & Decisive Decision Making"),e("Improvised & Open Decision Making")]},{id:"protagonist.laidback_serious",sliderLabels:[e("Light & Laid Back Attitude"),e("Complex & Serious Attitude")]}]},section6:{label:e("How will the Protagonist's personality change by the end of the story?"),name:"protagonist.personality_change",options:[{name:e("Negative Personality Change"),value:-1},{name:e("No/Minimal Personality Change"),value:0},{name:e("Positive Personality Change"),value:1}],placeholder:e("Select")}}},d=function(){var e=Object(r.o)().trans;return{options:[e("Albino"),e("White skin tone"),e("Pale"),e("Olive skin tone"),e("Light brown skin tone"),e("Brown skin tone"),e("Dark brown skin tone"),e("Black skin tone"),e("Vitiligo"),e("Above Average"),e("Attractive"),e("Average"),e("Beautiful"),e("Cute"),e("Good Looking"),e("Gorgeous"),e("Handsome"),e("Hot"),e("Pretty"),e("Sexy"),e("Stunning"),e("Alpha"),e("Ambitious"),e("Arrogant"),e("Awkward"),e("Bad Boy"),e("Beta"),e("Boy next door"),e("Charming"),e("Clever"),e("Common sense"),e("Creep"),e("Cunning"),e("Dominant"),e("Educated"),e("Emotional"),e("Friendly"),e("Funny"),e("Geek"),e("Genius"),e("Girl next door"),e("Good Girl"),e("Jerk"),e("Kind"),e("Lazy"),e("Nerd"),e("Nice"),e("Not smart"),e("Omega"),e("Popular"),e("Sensitive"),e("Silly"),e("Smart"),e("Submissive"),e("Sweet"),e("Underdog"),e("Unpopular"),e("Wise"),e("Intelligent"),e("Passionate"),e("Actor"),e("Archaeologist"),e("Architect"),e("Artist"),e("Assassin"),e("Astronaut"),e("Athlete"),e("Author"),e("Babysitter"),e("Baker"),e("Barista"),e("Bartender"),e("Billionaire"),e("Bodyguard"),e("Boss"),e("Business person"),e("Butler"),e("Captain"),e("Cashier"),e("Celebrity"),e("CEO"),e("Chef"),e("Con Artist"),e("Criminal"),e("Dentist"),e("Detective"),e("Doctor"),e("Driver"),e("Editor"),e("Engineer"),e("Entrepreneur"),e("Executive"),e("Farmer"),e("Firefighter"),e("Flight Attendant"),e("Gamer"),e("Hunter"),e("Influencer"),e("Intern"),e("Journalist"),e("Knight"),e("Lawyer"),e("Lifeguard"),e("Lumberjack"),e("Magician"),e("Maid"),e("Massage Therapist"),e("Mechanic"),e("Millionaire"),e("Mobster"),e("Model"),e("Musician"),e("Nanny"),e("Novelist"),e("Nurse"),e("Photographer"),e("Pilot"),e("Police Officer"),e("Politician"),e("Popstar"),e("Prince"),e("Princess"),e("Prisoner"),e("Private Eye"),e("Professor"),e("Programmer"),e("Royalty"),e("Scientist"),e("Secretary"),e("Server"),e("Sex worker"),e("Singer"),e("Soldier"),e("Spy"),e("Student"),e("Superhero"),e("Teacher"),e("Therapist"),e("Traveler"),e("Waiter/Waitress"),e("Writer"),e("Alien"),e("Angel"),e("Animal"),e("Child"),e("Clown"),e("Cyborg"),e("Devil"),e("Dinosaur"),e("Elderly"),e("Elf"),e("Fairy"),e("Father"),e("Fey"),e("Ghost"),e("Infant"),e("Insect"),e("Machine"),e("Mermaid"),e("Mother"),e("Octopus"),e("Old"),e("Parent"),e("Pirate"),e("Plant"),e("Reaper"),e("Robot"),e("Spirit"),e("Succubus"),e("Supernatural"),e("Teenager"),e("Vampire"),e("Werewolf"),e("Witch"),e("Wizard"),e("Young"),e("Zombie"),e("African American"),e("Anglo Saxon"),e("Arab"),e("Asian"),e("Australasian"),e("Biracial"),e("Caribbean"),e("Caucasian"),e("Central American"),e("Central Asian"),e("East African"),e("East Asian"),e("Eastern European"),e("Eurasian"),e("European"),e("Fictional Ethnicity"),e("First Nations"),e("Hispanic"),e("Indigenous"),e("Jewish"),e("Latinx"),e("Levantine"),e("Mediterranean"),e("Melanesian"),e("Mesopotamian"),e("Middle Eastern"),e("Multiracial"),e("Multiple Ethnic Background"),e("Native"),e("Native American"),e("North African"),e("North American"),e("Northern East African"),e("Northwestern European"),e("Pacific Islander"),e("Scandinavian"),e("South American"),e("South Asian"),e("South East Asian"),e("South Pacific Islander"),e("South East African"),e("Southern European"),e("Sub Saharan African"),e("West African"),e("Western Asian"),e("Western European"),e("Visually Impaired"),e("Chronic illness or pain"),e("Hard of Hearing"),e("Mobility impairment"),e("Physical Illness"),e("Disease"),e("Wheelchair Person"),e("Learning disability"),e("Neurodiverse"),e("Autistic"),e("Depression"),e("Anxiety"),e("Mental Illness"),e("Trauma"),e("Paralyzed"),e("Paranoia"),e("Cancer"),e("Eating Disorder"),e("Amputee"),e("Memory Loss"),e("Has an Addiction"),e("Personality Disorder"),e("Deaf"),e("Able-bodied"),e("Neurotypical"),e("Straight (Fine/Thin) hair"),e("Straight (Medium) hair"),e("Straight (Coarse) hair"),e("Wavy (Fine/Thin) hair"),e("Wavy (Medium) hair"),e("Wavy (Coarse) hair"),e("Curly (Loose) hair"),e("Curly (Tight) hair"),e("Kinky (Soft) hair"),e("Kinky (Wiry) hair"),e("No hair"),e("Fur"),e("Natural Hair"),e("Afro"),e("Locks"),e("Long hair"),e("Medium hair"),e("Short hair"),e("Bald"),e("Buzz cut"),e("Auburn hair"),e("Chestnut brown hair"),e("Copper hair"),e("Dark brown hair"),e("Brown hair"),e("Ginger hair"),e("Golden blonde hair"),e("Grey hair"),e("Light blonde hair"),e("Light brown hair"),e("Light chestnut brown hair"),e("Medium blonde hair"),e("Medium brown hair"),e("Natural black hair"),e("Natural brown hair"),e("Strawberry blonde hair"),e("Titian hair"),e("White hair"),e("Red hair"),e("Orange hair"),e("Yellow hair"),e("Green hair"),e("Blue hair"),e("Purple hair"),e("Honey Blonde hair"),e("Caramel hair"),e("Brown eyes"),e("Blue eyes"),e("Hazel eyes"),e("Amber eyes"),e("Green eyes"),e("Gray eyes"),e("Red eyes"),e("Heterochromia"),e("White eyes"),e("Black eyes"),e("Violet eyes"),e("Orange eyes"),e("Yellow eyes"),e("Thin"),e("Athletic"),e("Curvy"),e("Voluptuous"),e("Muscular"),e("Overweight"),e("Underweight"),e("Average weight"),e("Male"),e("Female"),e("Agender"),e("Androgyne"),e("Androgynous"),e("Bigender"),e("Cis"),e("Cisgender"),e("Cisgender Female"),e("Cisgender Male"),e("Cisgender Man"),e("Cisgender Woman"),e("Female to Male"),e("FTM"),e("Gender Fluid"),e("Gender Nonconforming"),e("Gender Questioning"),e("Gender Variant"),e("Genderqueer"),e("Intersex"),e("Male to Female"),e("MTF"),e("Neutrois"),e("Non-binary"),e("Pangender"),e("Trans"),e("Trans Female"),e("Trans Male"),e("Trans Man"),e("Trans Person"),e("Trans Woman"),e("Transfeminine"),e("Transgender"),e("Transgender Female"),e("Transgender Male"),e("Transgender Man"),e("Transgender Person"),e("Transgender Woman"),e("Transmasculine"),e("Two-Spirit"),e("Gender Neutral"),e("Lesbian"),e("Gay"),e("Bisexual"),e("Pansexual"),e("Heterosexual"),e("Bicurious"),e("Questioning"),e("Queer"),e("Polysexual"),e("Androsexual"),e("Gynosexual"),e("Asexual")]}},f=function(){var e=Object(r.o)().trans;return{title:e("The Story Goal"),info:e("The Protagonists goal in the story is what is known as the Story Goal. A Story Goal is the foundation of every plot, which is why its critical to understand what your Protagonists main objective is in the story. The Story Goal can be physical or emotional."),section1:{name:"protagonist_goal.description",label:e("What is your Protagonist's ultimate goal in this story?"),limit:75},section2:{label:e("The goal is primarily:"),name:"protagonist_goal.physical_emotional",options:[{label:e("Physical"),value:0},{label:e("Emotional"),value:1}]},section3:{name:"protagonist_goal.type",label:e("The goal type is to:"),options:[[{name:e("Acquire"),value:"acquire"},{name:e("Explore"),value:"explore"},{name:e("Escape"),value:"escape"},{name:e("Find"),value:"find"},{name:e("Protect"),value:"protect"},{name:e("Survive"),value:"survive"}],[{name:e("Accept"),value:"accept"},{name:e("Appreciate"),value:"appreciate"},{name:e("Forget"),value:"forget"},{name:e("Learn"),value:"learn"},{name:e("Love"),value:"love"},{name:e("Self Actualize"),value:"self_actualize"}]],placeholder:e("Select")},section4:{label:e("To achieve the story goal the Protagonist has to . . ."),options:[{id:"protagonist_goal.change_themselves_surroundings",sliderLabels:[e("Change themselves"),e("Change their surroundings")]},{id:"protagonist_goal.explore_emotions_world",sliderLabels:[e("Explore their emotions"),e("Explore their world")]},{id:"protagonist_goal.navigate_familiar_unfamiliar",sliderLabels:[e("Navigates a familiar world"),e("Encounters an unfamiliar world")]},{id:"protagonist_goal.recall_past",sliderLabels:[e("Ignore the Past"),e("Recall the past")]},{id:"protagonist_goal.find_meaning",sliderLabels:[e("Reappreciate the current meaning"),e("Find a new meaning")]},{id:"protagonist_goal.take_keep",sliderLabels:[e("Take something away from the antagonist"),e("Keep something away from the antagonist")]}]}}},p=function(){var e=Object(r.o)().trans;return{title:e("The Story Outcome"),info:e("Ideally, every story has a planned outcome. This will help you set the arc of your story, and plan accordingly. The Story Outcome relates to the outcome the Protagonist is aiming to achieve. Knowing where you want to go with the story will help you pace your story and keep your narrative as tight as possible."),section1:{name:"protagonist_goal.outcome",label:e("What happens at the end of the story?"),limit:150},section2:{label:e("Will the Protagonist succeed in reaching the goal at the end of this story?"),name:"protagonist_goal.succeed",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section3:{label:e("How will the Protagonist feel about the outcome from achieving the goal?"),name:"protagonist_goal.outcome_feeling",options:[{label:e("Good"),value:1},{label:e("Bad"),value:0}]}}},y=function(){var e=Object(r.o)().trans;return{title:e("Story Opportunities on Wattpad"),info:e("Interested in submitting your story to the backlog of stories Wattpad reviews for opportunities like being featured, being part of the Paid Stories program, or being considered as a Wattpad Star Writer?"),section1:{name:"opportunity.interested",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section2:{label:e("What specific opportunities on Wattpad are you interested in for this story?"),name:"opportunity.types",options:[{label:e("Wattpad Paid Stories (make money from fans who pay for your story on Wattpad)"),value:"paid"},{label:e("Wattpad Publishing (be considered for publication by a major commercial publisher)"),value:"publishing"},{label:e("Wattpad Books (be published by Wattpad)"),value:"books"},{label:e("Wattpad Studios (be considered for adaptation into a television show or film)"),value:"entertain"},{label:e("All available opportunities with Wattpad"),value:"all"}]},section3:{label:e("What is your storys logline?"),name:"opportunity.logline",limit:150,about:e("A logline is a very short elevator pitch about your story that reviews the key elements of the story without giving too much away. Loglines aim to hook the reader into wanting to read more.")},section4:{label:e("How much have you written so far?"),name:"opportunity.story_progress",options:[{value:"in_progress",name:e("My Story is in Progress")},{value:"halfway",name:e("My Story is Halfway Done")},{value:"editing",name:e("My Story is Complete but being Edited")},{value:"complete",name:e("My Story is Complete")}],placeholder:e("Select")},notComplete:e("All fields in the Story Notes must be filled before submitting Story to Wattpad.\nYou can change and resubmit your Story Notes to Wattpad again at anytime.")}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(70),u=n(83),m=n(10);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={className:l.a.string,title:l.a.string,content:l.a.oneOfType([l.a.string,l.a.arrayOf(l.a.string)]),href:l.a.string,hrefText:l.a.string,closeText:l.a.string,isPrefilledTagPopover:l.a.bool},y=function(e){var t=e.className,n=e.title,o=e.content,s=e.href,l=e.hrefText,c=e.closeText,f=e.isPrefilledTagPopover,p=Object(u.a)().trans,y=Object(r.createRef)(),b=d(Object(r.useState)(!1),2),g=b[0],h=b[1];return Object(r.useEffect)((function(){y.current&&!g&&($(y.current).popover({template:'<div class="popover writer-tooltip" role="tooltip">\n            <div class="arrow"></div>\n              <h3 class="popover-title"></h3>\n            <div class="popover-content"></div></div>',title:n,html:!0,placement:"top",content:function(){return(Array.isArray(o)?o.map((function(e,t){return'<div class="'.concat(t>0?"additional":"main",'-content">').concat(e,"</div>")})).join(""):o)+'<div class="tooltip-footer">\n              '.concat(s?'<a href="'.concat(s,'" target="_blank">').concat(l||p("Learn More"),"</a>"):"",'\n              <button type="button" class="btn on-okay ').concat(f?"btn-link ":"btn-purple",'">').concat(f?"Got It":c||p("OK"),"</button>\n            </div>")}}).on("shown.bs.popover",(function(e){var t=$(e.target);$(document).on("click.closePopover",(function(e){0===$(e.target).parents(".popover").length&&t.popover("hide")}))})),h(!0))}),[y,g,h,n,o,s,l,c,f,p]),a.a.createElement("div",{className:i()("bs-popover-tooltip",t),ref:y},a.a.createElement("span",{"data-toggle":"popover",className:"popover-icon"},a.a.createElement(m.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})))};y.defaultProps={className:"",title:"",content:[],href:"",hrefText:"",closeText:"",isPrefilledTagPopover:!1},y.propTypes=p;var b=y,g=n(5),h=function(e){var t=e.label,n=e.labelClassName,r=e.tooltip,o=e.popover,s=e.onClickIcon;return t&&null===t.match(/^ *$/)?a.a.createElement("div",{className:i()("form-field-label",n)},a.a.createElement("label",null,t),r&&a.a.createElement(v,{tooltip:r}),o&&a.a.createElement("div",{className:"icon-container"},a.a.createElement(b,o)),s&&a.a.createElement(w,{onClick:s})):null};h.defaultProps={label:null,labelClassName:null,tooltip:null,popover:null,onClickIcon:null},h.propTypes={label:l.a.string,labelClassName:l.a.string,tooltip:l.a.string,popover:l.a.shape(p),onClickIcon:l.a.func};var v=function(e){var t=e.value,n=e.tooltip,r=e.showTooltip,o=void 0===r||r,i=e.ariaHidden,s=void 0!==i&&i;return a.a.createElement("div",{className:"icon-container","aria-hidden":s},a.a.createElement("div",{"data-tip":n,className:"tool-tip"},a.a.createElement("span",{className:"sr-only"},n),null!==t?a.a.createElement("span",{className:"stats-value","aria-hidden":!0},t):a.a.createElement(m.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})),g.a&&o&&a.a.createElement(c.a,{place:"top",type:"dark",effect:"solid"}))};v.defaultProps={tooltip:"",value:null},v.propTypes={tooltip:l.a.string,value:l.a.any,showTooltip:l.a.bool,ariaHidden:l.a.bool};var w=function(e){var t=e.onClick;return a.a.createElement("div",{className:"icon-container"},a.a.createElement("button",{onClick:t,className:"btn btn-no-style"},a.a.createElement(m.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})))};w.defaultProps={onClick:function(e){return e.preventDefault()}},w.propTypes={onClick:l.a.func};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===e||null!==e.match(/^ *$/)?null:a.a.createElement("div",{className:"about-form"},e)}},,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(4),c=n.n(l),u=function(e){var t=e.onChange,n=e.checked,r=e.value,o=e.children,i=e.contentId,l=e.name,u=e.disabled,m=e.required,d=e.id;return a.a.createElement("label",{className:c()("c-checkbox",{"label-active":n})},a.a.createElement("input",{type:"checkbox",id:d,onChange:function(e){t(e)},value:r,name:l,checked:n,disabled:u,required:m,"aria-labelledby":i}),a.a.createElement("div",{className:c()({checked:n})},n&&a.a.createElement(s.e,{name:"check",color:"wp-neutral-5",size:14,className:"check-icon"}),o&&a.a.createElement("div",{className:"c-checkbox__content",id:i,"aria-hidden":!0},o)))};u.defaultProps={onChange:function(){},checked:!1,disabled:!1},u.propTypes={onChange:i.a.func,checked:i.a.bool,value:i.a.any,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),contentId:i.a.string.isRequired,disabled:i.a.bool,required:i.a.bool,name:i.a.string,id:i.a.string},t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=f(i);function i(){return u(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t={backgroundColor:this.props.bgColor,color:this.props.color};return this.props.active&&(t={color:this.props.bgColor,backgroundColor:"#FFFFFF",borderColor:this.props.bgColor}),this.props.disableClick?a.a.createElement("div",{className:"tag-item",style:t},this.props.name):a.a.createElement("a",{className:l()("tag-item",{active:this.props.active}),style:t,onClick:function(t){return e.props.clickHandler(t,e.props.name)},href:this.props.link||"/stories/".concat(this.props.name)},this.props.name)}}])&&m(t.prototype,n),r&&m(t,r),i}(a.a.Component);b.defaultProps={clickHandler:function(){}},b.propTypes={clickHandler:i.a.func,bgColor:i.a.string,color:i.a.string,active:i.a.bool,name:i.a.string.isRequired,link:i.a.string,disableClick:i.a.bool}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m}));var i="".concat("POPOVER","/OPEN"),s="".concat("POPOVER","/CLOSE"),l={popoverProps:{}};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return a(a({},e),{},{popoverProps:t.popoverProps});case s:return a(a({},e),{},{popoverProps:{}});default:return e}}function u(e){return function(t,n){n().popover.popoverProps.triggerRef!==e.triggerRef?t({type:i,popoverProps:e}):t({type:s})}}function m(){return function(e){e({type:s})}}},,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var i="TOGGLE_TOAST_VISIBLE",s={toastProps:null};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return a(a({},e),{},{toastProps:e.toastProps?null:t.toastProps});default:return e}}function c(e){return{type:i,toastProps:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(83),l=n(4),c=n.n(l),u=n(6),m=n(45),d=function(e){var t=e.toggleToast,n=e.toastProps;n=n||{};var r=Object(s.a)().trans,o=n,i=o.className,l=o.body;if(l){var u=c()("toast",i);return a.a.createElement("div",{className:u},a.a.createElement("div",{className:"toast-content"},a.a.createElement("p",null,l),a.a.createElement("button",{className:"btn-no-background",onClick:t},r("OK"))))}return null};d.propTypes={toastProps:i.a.shape({body:i.a.string,className:i.a.string}),toggleToast:i.a.func};var f=Object(u.b)((function(e){return{toastProps:e.toast.toastProps}}),{toggleToast:m.c})(d)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=r||e,a=function e(t,n,a,o){var i=r?r.devicePixelRatio:n;if(!t)return i||(e(3)?3:e(2)?2:e(1.5)?1.5:e(1)?1:0);if(i&&i>0)return i>=t;var s=(r?r.matchMedia:a)||(r?r.msMatchMedia:o);return!!s&&(!!s(t="only all and (min--moz-device-pixel-ratio:"+t+")").matches||!!s(t.replace("-moz-","")).matches)}}).call(this,n(36))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),o=n(2),i=n(3);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t=s({},e),n=Object(o.o)().trans;return a.a.createElement(i.c,s({name:"/paid-content/coin-icon.svg",className:"coin-icon",alt:n("Coin")},t))}},,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=function(e){var t=e.name,n=e.title,r=e.className,o=e.id,i=e.height,c=e.width,u=l(e,["name","title","className","id","height","width"]);return a.a.createElement("img",s({src:"/img/".concat(t),alt:n,className:r,id:o,height:i,width:c},u))};c.propTypes={name:i.a.string,title:i.a.string,className:i.a.string,id:i.a.string,height:i.a.string,width:i.a.string},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3);function u(e){var t=e.variant,n=e.messageNode;return a.a.createElement("div",{className:l()("ds-alert",t)},a.a.createElement(c.e,{name:"warning",size:"24",color:"ds-alert"}),n)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t=e.text,n=e.variant,r=e.onClick,o=d(e,["text","variant","onClick"]);return a.a.createElement("button",m({className:l()("ds-button",n),onClick:r},o),t)}function p(e){return a.a.createElement("div",{className:l()("dscontainer",e.variant)},e.children)}function y(e){var t=e.text;return a.a.createElement("h2",{className:l()("ds-header",e.variant)},t)}u.propTypes={messageNode:i.a.node.isRequired,variant:i.a.string},u.defaultProps={variant:""},f.propTypes={text:i.a.string.isRequired,variant:i.a.string,onClick:i.a.func},f.defaultProps={variant:"",onClick:function(){}},p.propTypes={children:i.a.node,variant:i.a.string},p.defaultProps={variant:""},y.propTypes={text:i.a.string.isRequired,variant:i.a.string},y.defaultProps={variant:""}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i.a})),n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=a.a.createContext({trans:function(e){return e},ngettext:function(e){return e}}),i=n(159),s=a.a.createContext({})},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return k})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return P})),n.d(t,"f",(function(){return T}));var r=n(0),a=n.n(r),o=n(87),i=n(176),s=n(8);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,s,"next",e)}function s(e){u(o,r,a,i,s,"throw",e)}i(void 0)}))}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="CONTEST_FORM",b="".concat(y,"/REQUEST"),g="".concat(y,"/FETCH"),h="".concat(y,"/SET"),v="".concat(y,"/ERROR"),w="".concat(y,"/SUBMITTED_SET"),E="".concat(y,"/NEAR_ELIGIBLE_SET"),O="".concat(y,"/ADDED_WATTYS_TAG"),S={isLoading:!0,hasCheckedSubmission:!1,hasSubmitted:!1,isNearEligible:!1,hasAddedWattysTag:!1,user:"",cover:"",title:"",data:{story_id:null,contest_submission:{contest:"",wattys_submitted_time:0,language:"",award_category:"",subgenre:"",sexual_content:"",is_exclusive:!1,is_final_consent:!1,preferred_email:"",target_audience:"",mature_themes:[],others:{mature_themes:""},plot_details:{summary:"",logline:""}}}};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case b:return f(f({},e),{},{isLoading:!0});case g:var n,r=S.hasSubmitted;return t.data.contest&&(t.data.contest===window.wattpad.wattysActiveKey&&(n=t.data),n&&(r=!0)),f(f({},S),{},{isLoading:!1,hasCheckedSubmission:!0,hasSubmitted:r,data:{story_id:t.story_id||S.data.story_id,contest_submission:{award_category:t.data.award_category||S.data.contest_submission.award_category,subgenre:t.data.subgenre||S.data.contest_submission.subgenre,target_audience:t.data.target_audience||S.data.contest_submission.target_audience,mature_themes:t.data.mature_themes||S.data.contest_submission.mature_themes,plot_details:t.data.plot_details||S.data.contest_submission.plot_details,others:t.data.others||S.data.contest_submission.others,preferred_email:t.data.preferred_email||S.data.contest_submission.preferred_email,is_exclusive:t.data.is_exclusive||S.data.contest_submission.is_exclusive,is_final_consent:t.data.is_final_consent||S.data.contest_submission.is_final_consent,sexual_content:t.data.sexual_content||S.data.contest_submission.sexual_content,language:t.data.language||S.data.contest_submission.language}},language:t.storyData.language&&t.storyData.language.id,cover:t.storyData.cover,title:t.storyData.title,user:t.storyData.user.name});case h:return f(f({},e),{},{data:f(f({},e.data),{},{story_id:t.story_id,contest_submission:f(f({},e.data.contest_submission),t.data)}),isLoading:!1,hasCheckedSubmission:!0});case w:return f(f({},e),{},{isLoading:!1,hasCheckedSubmission:!0,hasSubmitted:t.status});case E:return f(f({},e),{},{isLoading:!1,isNearEligible:t.isNearEligible});case v:return f(f({},e),{},{isLoading:!1});case O:return f(f({},e),{},{hasAddedWattysTag:!0});default:return e}}function j(e){return function(){var t=m(regeneratorRuntime.mark((function t(n,r){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="/api/v3/stories/".concat(e,"?fields=cover,title,language,user"),!r().contestForm.hasSubmitted){t.next=8;break}return o="/v5/contests/".concat(window.wattpad.wattysActiveKey,"/story/").concat(e,"/"),r().contestForm.isLoading||n({type:b}),t.abrupt("return",Promise.all([Promise.resolve($.get(o)),Promise.resolve($.get(a))]).then((function(e){var t=l(e,2),r=t[0],a=t[1];n({type:g,data:r.contest_submission,story_id:r.story_id,storyData:a})})));case 8:return window.te.push("event","wattys","submission_form",null,"view",{storyid:parseInt(e)}),t.abrupt("return",Promise.resolve($.get(a)).then((function(e){n({type:g,data:S.data.contest_submission,story_id:e.story_id,storyData:e})})));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function k(e){return function(){var t=m(regeneratorRuntime.mark((function t(n,r){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/v3/stories/".concat(e,"?fields=cover,title,language,user"),o="/v5/contests/".concat(window.wattpad.wattysActiveKey,"/story/").concat(e,"/"),r().contestForm.isLoading||n({type:b}),t.abrupt("return",Promise.all([Promise.resolve($.get(o)),Promise.resolve($.get(a))]).then((function(e){var t=l(e,2),r=t[0],a=t[1];n({type:g,data:r.contest_submission,story_id:r.story_id,storyData:a})})));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function N(e,t){return function(){var n=m(regeneratorRuntime.mark((function n(r){var a,i,s,l,c,u,m,d,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="/v5/contests/".concat(window.wattpad.wattysActiveKey,"/submit"),i="/apiv2/editstorytags",s="/api/v3/stories/".concat(e,"?fields=tags,parts"),r({type:b}),n.prev=4,n.next=7,Promise.resolve($.ajax({url:a,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 7:window.te.push("event","wattys","submission_form",null,"submit",{storyid:parseInt(e)}),n.next=18;break;case 10:n.prev=10,n.t0=n.catch(4),l=wattpad.utils.trans("Sorry, something went wrong. Please try again.");try{400===n.t0.status&&("InvalidParam"===n.t0.responseJSON.error.error_type||"RequiredParamMissing"===n.t0.responseJSON.error.error_type)&&n.t0.responseJSON.error.fields.length>0?(l+=" [fields = ",n.t0.responseJSON.error.fields.forEach((function(e,t){l+=e+(t!==n.t0.responseJSON.error.fields.length-1?", ":"")})),l+="]"):401===n.t0.status&&"PermissionDenied"===n.t0.responseJSON.error.error_type&&(l+=wattpad.utils.trans("You do not have permission to modify this story"))}catch(e){}throw new window.app.views.ErrorToast({message:l},{type:"dismissable"}).render(),r({type:v}),n.t0;case 18:return r({type:h,story_id:t.story_id,data:{award_category:t.contest_submission.award_category,preferred_email:t.contest_submission.preferred_email,is_final_consent:t.contest_submission.is_final_consent}}),n.next=21,Promise.resolve($.get(s));case 21:if(c=n.sent,u=c.tags,m=c.parts,d=window.wattpad.wattysActiveKey,f=!1,!(-1===u.indexOf(d)&&m&&m.length>0)){n.next=37;break}return n.prev=27,n.next=30,Promise.resolve($.post(i,{request_type:"add",tag_value:d,story_id:m[0].id}));case 30:r(Object(o.a)({id:d,name:d,active:!0,className:"wattys-tag"})),r({type:O}),f=!0,n.next=37;break;case 35:n.prev=35,n.t1=n.catch(27);case 37:return r(P(!0)),n.abrupt("return",f);case 39:case"end":return n.stop()}}),n,null,[[4,10],[27,35]])})));return function(e){return n.apply(this,arguments)}}()}function _(e){return function(t){t(Object(s.b)({component:function(){return a.a.createElement(i.a,{closeModal:function(){return t(Object(s.b)())},storyId:e})},disableClose:!0,animate:!1,className:"modal-contest",disableScroll:!0}))}}function P(e){return function(t){t({type:w,status:e})}}function T(e){return function(t){t({type:E,isNearEligible:e})}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r="TOGGLE_MODAL_VISIBLE",a="OPEN_MODAL",o="CLOSE_MODAL"},,function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(178),l=n(177);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="signup",d="login",f=function(e){var t=e.focus,n=e.formType,r=e.msg,a=e.nextUrl,u=e.notice,f=e.subtitle,p=e.title,y=e.login,b=void 0!==y&&y,g=c(Object(o.useState)(b?d:m),2),h=g[0],v=g[1],w=function(){return v(h===d?m:d)};return h===m?i.a.createElement(s.a,{focus:t,formType:n,nextUrl:a,subtitle:f,title:p,toggleForm:w}):i.a.createElement(l.a,{focus:t,msg:r,nextUrl:a,notice:u,toggleForm:w})};f.propTypes={focus:a.a.bool,formType:a.a.string,login:a.a.bool,msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,signup:a.a.bool,signupFrom:a.a.string,subtitle:a.a.string,title:a.a.string},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=e.height,n=e.width,r=e.color,o=e.animation,i=e.circle,s=void 0!==i&&i,m=e.count,d=void 0===m?1:m,f=e.styles,p=e.className,y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:r,borderRadius:s?"50%":0,height:t,width:n},f),b=[],g=0;g<d;g++)b.push(a.a.createElement("div",{className:l()("skeleton",p,{pulse:o}),style:y,key:g}));return b}m.propTypes={height:i.a.oneOfType([i.a.number,i.a.string]),weight:i.a.oneOfType([i.a.number,i.a.string]),color:i.a.string,animation:i.a.bool,circle:i.a.bool,count:i.a.number,styles:i.a.object,className:i.a.string}},,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(13),l=n(2),c=n(10),u=n(40);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t=e.numParts,n=e.isMature,r=e.isCompleted,o=void 0!==r&&r,i=e.isPaid,d=void 0!==i&&i,f=e.paidIconPropsOverrides,p=void 0===f?{}:f,y=Object(l.o)(),b=y.trans,g=y.ngettext,h=d?b("Paid Story"):"",v=n?b("Mature"):"",w=t?Object(s.sprintf)(g("%s part","%s parts",t),t):"",E=o?"#1C6F65":"#8D5610",O=b(o?"Complete":"Ongoing"),S="".concat(h," ").concat(w," ").concat(O," ").concat(v);return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},S),a.a.createElement("div",{className:"icon-bar","aria-hidden":!0},d&&a.a.createElement(c.a,m({name:"paidStory",className:"paid-icon",size:"18",viewBox:"20",color:"ds-neutral-80",strokeWidth:"0",fill:!0},p)),t&&a.a.createElement("div",{className:"icon-parts"},a.a.createElement(c.a,{name:"parts",className:"icon"}),a.a.createElement("span",null,w)),a.a.createElement("div",{className:"completed"},a.a.createElement(u.a,{name:O,bgColor:E,color:"#ffffff",disableClick:!0})),n&&a.a.createElement("div",{className:"mature"},a.a.createElement(u.a,{name:v,bgColor:"#9E1D42",color:"#ffffff",disableClick:!0}))))};d.propTypes={numParts:i.a.number,isMature:i.a.bool,isCompleted:i.a.bool,isPaid:i.a.bool,paidIconPropsOverrides:i.a.object},t.a=d},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(14),a=n.n(r),o=o||e,i=function(){return!a.a.isUndefined(a.a.get(o,"wattpad.utils"))}}).call(this,n(36))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(4),s=n.n(i),l=n(1),c=n.n(l),u=n(30),m=n.n(u),d=n(139);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=e.inputType,n=e.name,i=e.id,l=e.onBlur,c=e.onFocus,u=e.onChange,p=e.autofocus,y=e.alt,b=e.inputRef,g=e.placeholder,h=e.showVisibilityToggle,v=e.addClassName,w=Object(o.o)().trans,E=s()("form-control",v,"enable","input-lg",{"custom-select":"select"===t,"custom-select-lg":"select"===t}),O=f(Object(r.useState)("password"),2),S=O[0],C=O[1];switch(t){case"select":return a.a.createElement("div",{className:"birthday-dropdowns"},a.a.createElement("select",{id:i,className:E,name:n,defaultValue:"",onBlur:l,onChange:u,"aria-label":y,ref:b,required:!0},function(e){var t,n,r=[],o=m()(),i=m()().subtract(100,"years");switch(e){case"day":t=1,n=31,r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Day"));break;case"month":t=0,n=11,r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Month"));break;case"year":t=i.year(),n=o.year(),r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Year"))}if("year"===e)for(var s=n;s>t;s--)r.push(Object(d.a)({value:s,label:s}));else for(var l=t;l<=n;l++){var c="month"===e?9:10,u="month"===e?l+1:l,f="month"===e?m()().month(l).format("MMM"):l;u=l<c?"0"+u:""+u,r.push(Object(d.a)({value:u,label:f}))}return r}(n)));case"password":return a.a.createElement("div",{className:"password-container"},a.a.createElement("input",{type:S,id:i,className:E,name:n,placeholder:g,autoFocus:p,onBlur:l,onFocus:c,onChange:u,ref:b,"aria-label":y,required:!0}),h&&a.a.createElement("button",{type:"button",className:"password-show btn-no-background","aria-label":w("text"===S?"Hide password":"Show password"),onClick:function(e){e.preventDefault(),e.stopPropagation(),C("text"===S?"password":"text")}},w("text"===S?"Hide":"Show")));default:return a.a.createElement("input",{type:t,id:i,className:E,name:n,placeholder:g,autoFocus:p,onBlur:l,"aria-label":y,ref:b,required:!0})}};y.propTypes={inputType:c.a.string,name:c.a.string,id:c.a.string,label:c.a.string,onBlur:c.a.func,onFocus:c.a.func,onChange:c.a.func,autofocus:c.a.bool,showVisibilityToggle:c.a.bool,alt:c.a.string,inputRef:c.a.object,placeholder:c.a.string,addClassName:c.a.string};t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return C}));var r=n(20);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="CONVERSATION",u="".concat(c,"/POST_MESSAGE_REQUESTED"),m="".concat(c,"/POST_MESSAGE"),d="".concat(c,"/LOAD_REQUESTED"),f="".concat(c,"/LOAD_MORE_REQUESTED"),p="".concat(c,"/LOAD"),y="".concat(c,"/RESET"),b="".concat(c,"/DELETE_REQUESTED"),g="".concat(c,"/DELETE"),h={isActive:!1,isLoading:!0,isLoadingMore:!1,isDeleting:!1,isPosting:!1,messages:[],badges:[],scrollToMessageId:-1,total:0,offset:0,isEmailVerified:!1,isMutingCurrentUser:!1,isMutedByCurrentUser:!1,isBlockedByCurrentUser:!1};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:return s(s({},e),{},{badges:[],messages:[],offset:0,total:0,scrollToMessageId:-1,isActive:!1,isLoading:!0,isMutingCurrentUser:!1,isMutedByCurrentUser:!1,isBlockedByCurrentUser:!1});case f:return s(s({},e),{},{isLoadingMore:!0});case p:var n,o=[].concat(a(t.messages.slice().reverse()),a(e.messages));return n=t.isLoadMore?e.messages[0].id:o.length>0?o[o.length-1].id:-1,s(s({},e),{},{isLoading:!1,isLoadingMore:!1,isActive:t.isActive,scrollToMessageId:n,messages:o,badges:t.badges||[],offset:e.offset+t.messages.length,total:t.total,isEmailVerified:wattpad.utils.currentUser().get("verified_email"),isMutingCurrentUser:t.isMutingCurrentUser,isMutedByCurrentUser:t.isMutedByCurrentUser,isBlockedByCurrentUser:t.isBlockedByCurrentUser});case g:case y:return s({},h);case b:return s(s({},e),{},{isDeleting:!0});case u:return s(s({},e),{},{isPosting:!0});case m:return s(s({},e),{},{isPosting:!1,messages:[].concat(a(e.messages),[t.message]),scrollToMessageId:t.message?t.message.id:-1,offset:e.offset+1,total:e.total+1});case r.b:return s(s({},e),{},{isMutedByCurrentUser:!0});case r.c:return s(s({},e),{},{isMutedByCurrentUser:!1});case r.a:return s(s({},e),{},{isLoading:!1});default:return e}}var w=function(){return wattpad.utils.currentUser().get("username")};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="/api/v3/users/".concat(w(),"/inbox/").concat(e,"?offset=").concat(t);return function(e){var r=Promise.resolve($.get(n)),a=t>0;return e(a?{type:f}:{type:d}),r.then((function(t){e({type:p,messages:t.messages,badges:t.badges,isActive:t.isActive,total:t.total,isLoadMore:a,isMutingCurrentUser:t.isBlockingCurrentUser,isMutedByCurrentUser:t.safety.isMuted,isBlockedByCurrentUser:t.safety.isBlocked})})).catch((function(){return e({type:p,messages:[],total:0})}))}}function O(e,t){var n=w(),r="/api/v3/users/".concat(n,"/inbox/").concat(e);return function(a){var o={sender:n,recipient:e,body:t.body},i=Promise.resolve($.post(r,o));return a({type:u}),i.then((function(e){return a({type:m,message:e})})).catch((function(){new window.app.views.ErrorToast({message:wattpad.utils.trans("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()}))}}function S(e){var t=w();return function(n,r){var a=function(e,t){return e().conversation.isActive?0!==(n=e().conversation.messages).length?n[0].id:null:function(e,t){var n=e.find((function(e){return e.user.name===t}));return null==n||null==n.recentMessage?null:n.recentMessage.id}(e().threads.threads,t);var n}(r,e);":purged:"==e.substring(0,8)&&(e=e.replace(":purged:",""));var o="/api/v3/users/".concat(t,"/inbox/").concat(e)+(null!==a?"?message_id=".concat(a):""),i=Promise.resolve($.ajax({url:o,type:"DELETE"}));return n({type:b}),i.finally((function(){return n({type:g})}))}}function C(){return function(e){e({type:y})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(14),a=n.n(r),o=n(5),i=n(16);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/v5/users/".concat(e,"/wallet");return function(e,r){return r().wallet.fetched&&!t?Promise.resolve():Promise.resolve($.get(n)).then((function(t){var n=a.a.find(t,{id:i.d});n&&e({type:i.i,amount:n.amount})})).catch((function(e){console.log("Failed to fetch wallet balance",e)}))}}function l(e,t){return function(n){return n({type:i.b,price:e,partId:t}),n({type:i.k,step:i.l.COIN}),setTimeout((function(){n({type:i.k,step:i.l.DEDUCTING})}),i.c),Object(o.r)(i.e)}}function c(){return function(e){return e({type:i.k,step:i.l.SUBTRACTING}),Object(o.r)(i.j)}}function u(){return function(e){return e({type:i.k,step:i.l.COIN}),setTimeout((function(){e({type:i.a})}),i.c),Object(o.r)(i.c)}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(160),u=n(34);function m(e){var t=e.label,n=e.info,r=e.about,o=e.name,i=e.placeholder,s=e.value,m=e.characterLimit,d=e.hideCharacterLimit,f=e.minRows,p=e.maxRows,y=e.textareaLineHeight,b=e.onChange,g=e.labelClassName,h=e.className,v=e.textareaClassName;return a.a.createElement("div",{className:l()("form-field",h)},Object(u.c)({label:t,labelClassName:g,tooltip:n}),Object(u.b)(r),a.a.createElement(c.a,{value:s||"",name:o,placeholder:i,onChange:function(e){m&&(e.target.value=e.target.value.substr(0,m)),b(e)},characterLimit:m,hideCharacterLimit:d,minRows:f,maxRows:p,textareaLineHeight:y,className:l()("planner-textarea",v)}))}m.defaultProps={value:"",minRows:1,maxRows:10,textareaLineHeight:26,onChange:function(){}},m.propTypes={label:i.a.string,info:i.a.string,about:i.a.string,name:i.a.string,placeholder:i.a.string,value:i.a.string,characterLimit:i.a.number,hideCharacterLimit:i.a.bool,minRows:i.a.number.isRequired,maxRows:i.a.number.isRequired,textareaLineHeight:i.a.number.isRequired,onChange:i.a.func.isRequired,labelClassName:i.a.string,className:i.a.string,textareaClassName:i.a.string},t.a=m},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(58);function o(){return Object(r.useContext)(a.b)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function(e){var t,n,r=e.username,o=e.onUnmute,i=e.toggleModal,c=Object(s.o)().trans,u=c("This account will now be able to follow you, send you messages, post on your profile and comment on your stories. This action can take 30 minutes to take effect.");return void 0!==("undefined"==typeof window?"undefined":l(window))&&(t=document.querySelector(".unmute-modal"),n=document.querySelector(".unmute-button")),Object(s.p)(t,n,i),a.a.createElement("div",{className:"mute-modal-content"},a.a.createElement("h3",{className:"mute-modal-title"},c("Unmute %s",r)),a.a.createElement("p",null,u),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-mute",onClick:i},c("Cancel")),a.a.createElement("button",{className:"btn-primary btn-md",onClick:function(){i(),o&&o(r)}},c("Unmute"))))};c.defaultProps={onUnmute:function(){},toggleModal:function(){}},c.propTypes={username:i.a.string.isRequired,trans:i.a.func,onUnmute:i.a.func,toggleModal:i.a.func,buttonRef:i.a.object},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,o=p(i);function i(){return m(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t="wattys-tag"===this.props.className?"wp-neutral-5":"wp-neutral-2";return l.a.createElement("a",{className:a()("tag-item with-icon",{active:this.props.active},this.props.className),onClick:function(t){return e.props.clickHandler(t,e.props.name)},href:this.props.link},l.a.createElement("span",null,this.props.name),this.props.active?this.props.noRemoveIcon?null:l.a.createElement(c.e,{iconName:"fa-remove",height:"12",color:t}):l.a.createElement(c.e,{iconName:"fa-plus",height:"12",color:t}))}}])&&d(t.prototype,n),r&&d(t,r),i}(l.a.Component);g.defaultProps={clickHandler:function(){}},g.propTypes={active:i.a.bool,noRemoveIcon:i.a.bool,className:i.a.string,name:i.a.string.isRequired,clickHandler:i.a.func,link:i.a.string}},,function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return y}));var l="".concat("STORY_TAGS","/SET"),c="".concat("STORY_TAGS","/ADD"),u="".concat("STORY_TAGS","/REMOVE"),m={tags:[]};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return i(i({},e),t.tags);case c:return i(i({},e),{},{tags:[].concat(r(e.tags),[t.tag])});case u:var n=e.tags.findIndex((function(e){return e.name===t.tag}));return i(i({},e),{},{tags:[].concat(r(e.tags.slice(0,n)),r(e.tags.slice(n+1)))});default:return e}}function f(e){return function(t){t({type:c,tag:e})}}function p(e){return function(t){t({type:l,tags:e})}}function y(e){return function(t){t({type:u,tag:e})}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(34),m=n(5);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e,t){var n="";return 0===e&&t<5&&(n="<5 mins"),e>0&&(n="".concat(e,"h ")),(e>0||t>=5)&&(n+="".concat(t,"m")),n},p=function(e){var t=e.icon,n=e.label,r=e.size,o=e.viewBox,i=e.value,s=e.hoursVal,l=e.minutesVal,d=e.showTooltip;return a.a.createElement("li",{className:"stats-item"},a.a.createElement("div",{className:"stats-label"},a.a.createElement(c.e,{className:"stats-label__icon",name:t,size:r,strokeWidth:"0",fillColor:"ds-neutral-80",viewBox:o,"aria-hidden":!0}),a.a.createElement("span",{className:"stats-label__text","aria-hidden":!0},n)),"readTime"!==t?null!==i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},"".concat(n," ").concat(parseInt(i).toLocaleString())),Object(u.a)({value:Object(m.b)(i),tooltip:parseInt(i).toLocaleString(),showTooltip:d,ariaHidden:!0})):a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},"".concat(n," ").concat(f(s,l))),Object(u.a)({value:f(s,l),tooltip:"".concat(s," hours, ").concat(l," minutes"),showTooltip:d,ariaHidden:!0})))};p.propTypes={icon:i.a.string.isRequired,label:i.a.string.isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.number,hoursVal:i.a.number,minutesVal:i.a.number,showTooltip:i.a.bool};var y=function(e){var t=e.className,n=e.statsItems,r=e.showTooltip;return n&&n.length>0&&a.a.createElement("ul",{className:l()("new-story-stats",t)},n.map((function(e){return a.a.createElement(p,d({},e,{key:"".concat(e.label),showTooltip:r}))})))};y.defaultProps={statsItems:[]},y.propTypes={className:i.a.string,statsItems:i.a.arrayOf(i.a.shape({icon:i.a.string.isRequired,label:i.a.string.isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.any,hoursVal:i.a.number,minutesVal:i.a.number})),showTooltip:i.a.bool},t.a=y},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(346),c=n.n(l),u=n(347),m=n.n(u),d=n(77),f=n(4),p=n.n(f),y=n(14);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t,n,o,i=e.name,l=e.username,u=e.validatePassword,f=Object(s.o)().trans,h=g(Object(r.useState)(""),2),v=h[0],w=h[1],E=g(Object(r.useState)(""),2),O=E[0],S=E[1],C=g(Object(r.useState)(),2),j=C[0],k=C[1],N=g(Object(r.useState)(!1),2),_=N[0],P=N[1],T=g(Object(r.useState)(""),2),R=T[0],x=T[1],A=g(Object(r.useState)(!1),2),I=A[0],L=A[1],M=g(Object(r.useState)(),2),D=M[0],U=M[1],q=g(Object(r.useState)(!1),2),B=q[0],F=q[1],W=g(Object(r.useState)(!1),2),V=W[0],H=W[1],z=g(Object(r.useState)(!1),2),$=z[0],Y=z[1],G=f("Passwords do not match."),K=f("Great, passwords match!"),Z=f("Passwords match but do not meet the requirements."),J=f("Your password doesn't meet the requirements.");Object(r.useEffect)((function(){c()().then((function(e){k(e)}))}),[]),Object(r.useEffect)((function(){u($&&V)}),[$,V,u]),Object(r.useEffect)((function(){te(O,v)}),[V,te,O,v]);var Q=function(e,t){H(e),x(e?t:J)},X=function(e){w(e)},ee=Object(r.useMemo)((function(){return Object(y.debounce)(X,500)}),[]);Object(r.useEffect)((function(){var e=g(i?i.split(" "):[void 0,void 0],2),t=e[0],n=e[1],r=v.length>=6&&v.length<=20;v?function(e,t,n,r){return m()(e,t,n,r).then((function(e){return e}))}(t,n,l,v).then((function(e){Q("INVALID"!==e.strength,e.displayText)})).catch((function(){Q(r)})).finally((function(){L(!0)})):(Q(!1),L(!1))}),[v,l]),Object(r.useEffect)((function(){return ee.cancel()}),[ee]);var te=Object(r.useCallback)((function(e,t){var n=e===t&&""!=e;F(e),n&&V?(Y(!0),U(K)):(Y(!1),U(n&&!V?Z:G))}),[Z,K,G,V]);return a.a.createElement("div",{className:"password-fields"},a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("div",{className:p()("field-container",{"has-msg":_&&j||I&&R})},a.a.createElement("label",{className:"control-label",htmlFor:"new_password"},f("New Password")),a.a.createElement(d.a,{inputType:"password",placeholder:f("New Password"),name:"new_password",id:"new_password",alt:"".concat(f("New Password")," ").concat(I&&R?R:""),onBlur:function(){return P(!1)},onChange:function(e){return ee(e.target.value)},onFocus:function(){return P(!0)},showVisibilityToggle:!0,addClassName:p()("password-field",(t={},b(t,"valid",v&&V),b(t,"invalid",v&&!V),t))}),a.a.createElement("div",{"aria-live":"assertive"},I&&R&&a.a.createElement("div",{className:"field-message password-strength"},R)),a.a.createElement("div",{"aria-live":"polite"},_&&j&&a.a.createElement("div",{className:"field-message password-rules"},a.a.createElement("div",{className:"intro-text"},null==j?void 0:j.rulesIntroText),a.a.createElement("ul",null,null==j||null===(n=j.rules)||void 0===n?void 0:n.map((function(e,t){return a.a.createElement("li",{key:t},e)})))))),a.a.createElement("div",{className:p()("field-container",{"has-msg":!!B})},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_password"},f("Confirm Password")),a.a.createElement(d.a,{inputType:"password",placeholder:f("Confirm Password"),name:"confirm_password",id:"confirm_password",alt:"".concat(f("Confirm Password")," ").concat(B&&D?D:""),onChange:function(e){return S(e.target.value)},onFocus:function(e){return S(e.target.value)},showVisibilityToggle:!0,addClassName:p()("password-field",(o={},b(o,"valid",O&&$),b(o,"invalid",O&&!$),o))}),a.a.createElement("div",{"aria-live":"assertive"},B&&a.a.createElement("div",{className:"field-message match-message"},D)))))};v.propTypes={name:i.a.string,username:i.a.string,validatePassword:i.a.func},t.a=v},function(e,t,n){"use strict";e.exports=function(e){switch(e){case 16:case 17:case 31:case 48:return!0;default:return!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return U}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2),c=n(4),u=n.n(c);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.username,n=e.email,o=e.setPayloadUsername,i=e.setPayloadEmail,s=e.submitReport,c=Object(l.o)().trans,d=m(Object(r.useState)("pending"),2),f=d[0],y=d[1],b=m(Object(r.useState)("pending"),2),g=b[0],h=b[1],v=m(Object(r.useState)(""),2),w=v[0],E=v[1],O=m(Object(r.useState)(""),2),S=O[0],C=O[1],j=m(Object(r.useState)(!0),2),k=j[0],N=j[1],_=function(e){wattpad.utils.stopEvent(e);var t=e.target.value;if("name"==e.target.name)o(t);else if("email"==e.target.name){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)&&t?N(!0):N(!1),i(t)}},P=function(e,t,n){"name"==e?(E(t),y(n)):(C(t),h(n))},T=function(e){wattpad.utils.stopEvent(e);var t=e.target.value,n=e.target.name;if(t)"email"!=n||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?P(n,"","check"):P(n,c("The email address is invalid."),"warning");else{var r=c("name"==n?"Name is required.":"Email is required.");P(n,r,"warning")}},R=function(e){wattpad.utils.stopEvent(e),"name"==e.target.name?(y("pending"),E("")):(h("pending"),C(""))},x=u()({"fa-warning":"warning"==f,"fa-check":"warning"!=f}),A=u()({"fa-warning":"warning"==g,"fa-check":"warning"!=g});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-body contact-info-body"},a.a.createElement("p",null,c("Please leave your contact information so that we may reach you.")),a.a.createElement("form",null,a.a.createElement(p,{payloadInput:t,inputId:"contact-name",inputName:"name",placeholder:c("Name"),onChange:_,onBlur:T,onFocus:R,validIcon:f,iconClassName:x,contactInfoError:w}),a.a.createElement(p,{payloadInput:n,inputId:"contact-email",inputName:"email",placeholder:c("Email"),onChange:_,onBlur:T,onFocus:R,validIcon:g,iconClassName:A,contactInfoError:S}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:s,disabled:!t||!n||!k},c("Submit Report"))))}function p(e){var t=e.payloadInput,n=e.inputId,r=e.inputName,o=e.placeholder,i=e.onChange,l=e.onBlur,c=e.onFocus,m=e.validIcon,d=e.iconClassName,f=e.contactInfoError;return t||(t=""),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{id:n,className:u()("contact-input",n),name:r,value:t,placeholder:o,onChange:i,onBlur:l,onFocus:c}),"pending"!=m&&a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.e,{iconName:d,height:"18",className:"form-control-feedback"})),f&&a.a.createElement("p",{className:"contact-error-message"},f))}p.propTypes={payloadInput:i.a.string,inputId:i.a.string,inputName:i.a.string,placeholder:i.a.string,onChange:i.a.func,onBlur:i.a.func,onFocus:i.a.func,validIcon:i.a.string,iconClassName:i.a.string,contactInfoError:i.a.string},f.propTypes={username:i.a.string,email:i.a.string,setPayloadUsername:i.a.func,setPayloadUEmail:i.a.func,onClickPrev:i.a.func,submitReport:i.a.func};var y=f,b=n(6),g=n(20);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.requesterUsername,n=e.reportedUsername,o=e.muteCopies,i=e.submitReport,c=e.hideModal,u=e.onModalRef,m=e.showToast,d=e.initializeMutedUsers,f=e.muteUser,p=Object(l.o)().trans,y=o[2].title,v=o[2].extras.selectedStateText,w=o[0].title,E=o[0].subtitle,O=o[1].title,S=h(Object(r.useState)(y),2),C=S[0],j=S[1],k=Object(b.d)((function(e){return e.profileData.mutedUsers}));Object(r.useEffect)((function(){Promise.all([Promise.resolve(i()),Promise.resolve(d(t))]).then((function(){var e=k.some((function(e){return e.username==n}));j(e?v:y)}))}),[]);return a.a.createElement("div",{className:"report-modal-thank-you",ref:u},a.a.createElement("header",{className:"modal-header thank-you"},a.a.createElement("div",{className:"shield-icon"},a.a.createElement(s.e,{name:"shieldCheck",size:"27",strokeWidth:"0",boxX:"0",boxY:"0",viewBox:"27"})),a.a.createElement("h3",{className:"thank-you-title"},w),a.a.createElement("button",{className:"on-close",onClick:c},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"}))),a.a.createElement("div",{className:"modal-body"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:E}}),a.a.createElement("div",{className:"line-divider"}),a.a.createElement("p",{className:"mute-note"},O),a.a.createElement("button",{className:"mute-btn btn-secondary",onClick:function(e){e.preventDefault();var t=C==y,r=t?"ignore_user":"unignore_user",a=t?g.b:g.c,o=p(t?"%s is now muted. You can unmute them at any time.":"%s is now unmuted. You can mute them at any time.",n);return Promise.resolve($.ajax({url:"/apiv2/ignoreuser?id=".concat(n,"&action=").concat(r),type:"POST"})).then((function(){f(a,n),j(t?v:y),m(o)})).catch((function(e){var t;throw t=a==g.b?e.responseJSON&&467==e.responseJSON.code?e.responseJSON.message:p("There was an error muting this user. Please try again."):p("There was an error unmuting this user. Please try again."),m(t),e}))}},C)))}w.propTypes={requesterUsername:i.a.string.isRequired,reportedUsername:i.a.string.isRequired,muteCopies:i.a.array.isRequired,submitReport:i.a.func.isRequired,hideModal:i.a.func.isRequired,onModalRef:i.a.func,showToast:i.a.func,muteUser:i.a.func,initializeMutedUsers:i.a.func};var E=Object(b.b)(null,{initializeMutedUsers:g.e,muteUser:function(e,t){return{type:e,name:t}}})(w),O=n(56);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=/.*\bwattpad.com\/story\/\b(\d+)(.*)?/,k=function(e){var t=Object(l.o)().trans,n=S(Object(r.useState)(""),2),o=n[0],i=n[1],s=S(Object(r.useState)(""),2),c=s[0],m=s[1],d=S(Object(r.useState)(""),2),f=d[0],p=d[1],y=S(Object(r.useState)(!1),2),b=y[0],g=y[1],h=function(e){m(""),i(""),p(e)},v=function(e){var n=function(e){var t=j.exec(e);if(t&&t.length>1)return t[1]}(e);n?function(e){var t="/api/v3/stories/".concat(e,"?fields=title");return $.get(t)}(n).done((function(e){e&&e.title?(p(""),i(n),m(e.title)):h(t("Invalid story URL"))})).fail((function(){return h(t("Invalid story URL"))})):h(t("Invalid story URL"))},w=function(e){var n=e.target.value;n?v(n):h(t("The original URL is required"))},E=function(){(function(e,t){var n="/v5/infringement/story/".concat(e,"/copyright/report?original_story_id=").concat(t);return $.ajax({url:n,type:"POST",data:JSON.stringify(""),dataType:"json",headers:{"Content-Type":"application/json"}})})(e.storyId,o).done((function(){g(!0),e.onReportSubmitted()})).fail((function(){var e,n;null===(e=wattpad)||void 0===e||null===(n=e.utils)||void 0===n||n.showToast(t("Something went wrong. Please try again"))}))};Object(r.useEffect)(e.onContentChanged,[b,c]);return b?a.a.createElement("div",{className:"original-success"},a.a.createElement(O.a,{name:"shared/report-original-success.svg",title:"Report original success",width:"140",className:"success-img","aria-hidden":"true"}),a.a.createElement("h4",{className:"reason-note"},t("The original owner has been notified.")),a.a.createElement("h5",{className:"reason-note"},a.a.createElement("br",null),t("The author of %s has been notified about the story %s. They will receive a notification to review the story and act accordingly.",c,e.storyTitle),a.a.createElement("br",null),a.a.createElement("br",null),t("You will not receive an update on the case but thank you for doing all that you can to prevent copyright infringement on Wattpad."))):a.a.createElement("div",{className:"modal-body"},a.a.createElement("h6",{className:"reason-note text-left"},t("The best way to resolve a case of copyright infringement is to alert the original copyright owner of the work to submit a DMCA report."),a.a.createElement("br",null),a.a.createElement("br",null),t("Please provide us the original story so that we can alert the original owner to file a copyright report.")),a.a.createElement("div",{className:"body-content"},a.a.createElement("label",{className:"control-label",htmlFor:"originalUrl"},t("Please provide the URL of the original work:")),a.a.createElement("div",{className:"reason-comment"},a.a.createElement("textarea",{id:"originalUrl",className:u()("form-control details-input",{error:!!f}),placeholder:t("Paste the URL"),onChange:w})),f&&a.a.createElement("div",{"aria-live":"assertive"},a.a.createElement("div",{className:"field-message"},f))),a.a.createElement("div",{className:"alert-message"},t("By alerting the original author, you are confident that this is a case of copyright and it needs the authors attention.")),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:E,disabled:!c},t("Alert"))))};k.propTypes={storyId:i.a.string.isRequired,storyTitle:i.a.string.isRequired,onContentChanged:i.a.func.isRequired,onReportSubmitted:i.a.func.isRequired};var N=k,_=function(e){var t,n,r=e.item,o=e.textDescription,i=e.onChangeReportComment,c=e.reportDetails,u=e.onClickNext,m=e.buildUrl,d=Object(l.f)(),f=function(e){return a.a.createElement("div",{className:"report-reason",key:e.id},a.a.createElement("label",{className:"reason-label",htmlFor:"reason-".concat(e.id)},a.a.createElement("div",{className:"reason-text-container"},a.a.createElement("input",{className:"reason-title",type:"button",id:"reason-".concat(e.id),name:"report-reason-option",value:e.title,onClick:u}),a.a.createElement("p",{className:"reason-subtitle"},e.subtitle)),a.a.createElement("span",{className:"reason-right-icon",tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-right",height:"13"}))))};switch(r.type){case D.TEXT:return f(r);case D.EDIT_TEXT:return n=o,a.a.createElement("div",{className:"reason-comment"},a.a.createElement("textarea",{className:"form-control details-input",placeholder:n,value:c,onChange:i}));case D.URL:return function(e){return a.a.createElement("a",{key:e.id,className:"report-reason",href:m(e.extras.url)},a.a.createElement("label",{className:"reason-label",htmlFor:"reason-".concat(e.id)},a.a.createElement("div",{className:"reason-text-container"},a.a.createElement("div",{className:"reason-title"},e.title),a.a.createElement("p",{className:"reason-subtitle"},e.subtitle)),a.a.createElement("span",{className:"reason-right-icon",tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-right",height:"13"}))))}(r);case D.PAGE:return null!=d&&d.username&&"report_story_copyright_infringement"===(null===(t=r.extras)||void 0===t?void 0:t.page)?f(r):null;default:return null}};_.propTypes={item:i.a.object,textDescription:i.a.string,onChangeReportComment:i.a.func.isRequired,reportDetails:i.a.string,onClickNext:i.a.func.isRequired,buildUrl:i.a.func.isRequired};var P,T=_,R=function(e,t){return function(n){return n.toLowerCase().includes("help/dmca")?function(e,t){var n=new URLSearchParams;return e.location&&n.append("storyId",e.location),e.deepLink&&n.append("partId",e.deepLink),e.name&&n.append("reportedUser",e.name),n.append("language",t),"/help/dmca?".concat(n.toString())}(e,t):n}};function x(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={TEXT:"text",EDIT_TEXT:"editText",URL:"url",PAGE:"page"},U={USER:"user",PRIVATE_MESSAGE:"private-message",COMMENT:"comment",STORY:"story",PUBLIC_MESSAGE:"public-message",MEDIA:"media"},q=(M(P={},U.USER,1),M(P,U.PRIVATE_MESSAGE,2),M(P,U.COMMENT,3),M(P,U.STORY,4),M(P,U.PUBLIC_MESSAGE,5),M(P,U.MEDIA,193),P),B=function(e){var t=e.reportType,n=e.requesterUsername,o=e.requesterEmail,i=e.reportId,c=e.hideModal,u=e.triggerRef,m=e.showErrorToast,d=e.storyLanguage,f=Object(l.o)().trans,p=Object(r.useRef)(),b=A(Object(r.useState)(""),2),g=b[0],h=b[1],v=A(Object(r.useState)(null),2),w=v[0],O=v[1],S=A(Object(r.useState)(null),2),C=S[0],j=S[1],k=A(Object(r.useState)(null),2),_=k[0],P=k[1],I=A(Object(r.useState)(""),2),L=I[0],M=I[1],B=A(Object(r.useState)(-1),2),F=B[0],W=B[1],V=A(Object(r.useState)(!1),2),H=V[0],z=V[1],Y=A(Object(r.useState)(""),2),G=Y[0],K=Y[1],Z=A(Object(r.useState)(""),2),J=Z[0],Q=Z[1],X=A(Object(r.useState)([]),2),ee=X[0],te=X[1],ne=A(Object(r.useState)(""),2),re=ne[0],ae=ne[1],oe=A(Object(r.useState)(!1),2),ie=oe[0],se=oe[1],le=A(Object(r.useState)(!1),2),ce=le[0],ue=le[1],me=A(Object(r.useState)(!1),2),de=me[0],fe=me[1],pe=A(Object(r.useState)(),2),ye=pe[0],be=pe[1],ge=A(Object(r.useState)(!1),2),he=ge[0],ve=ge[1],we=A(Object(r.useState)(n),2),Ee=we[0],Oe=we[1],Se=A(Object(r.useState)(o),2),Ce=Se[0],je=Se[1],ke=A(Object(r.useState)(!1),2),Ne=ke[0],_e=ke[1],Pe=f("An error has occurred. We're sorry about that!"),Te=Object(l.p)(ye,null==u?void 0:u.current,c).updateTabStops;Object(r.useEffect)((function(){var e,n=parseInt(null===(e=window.app)||void 0===e?void 0:e.get("language"),10),r="/v4/support/tree?lang=".concat(n);Promise.resolve($.ajax({type:"GET",url:r})).then((function(e){var n=e.flows.find((function(e){return e.id===q[t]}));h(n.title),O(n),j(n.ticketFormId),P(n.ticketSubject)})).catch((function(){c(),m(Pe)}))}),[t]),Object(r.useEffect)(Te,[w,Ce,Ee,he]);var Re=Object(r.useCallback)((function(e){return be(e)}),[]),xe=function(e){if(e.preventDefault(),ce)n?(De(),se(!1)):Le();else{se(!0),te([].concat(x(ee),[w]));var r=w.items.find((function(t){return t.title===e.target.value}));if(r&&r.zendeskString&&(W(r.zendeskFields[0]),K(r.zendeskString),z(r.zendeskFields.includes(360041074311))),null!=r&&r.zendeskFields&&r.zendeskFields.includes(21523158)&&Q(r.zendeskString),177===r.id)Me(r.next.items);else if(r.type===D.PAGE)O(r);else{var a,o=r.next;if("text"===r.type)if(t===U.STORY)fe(!1),ae("");else fe(!0),ae((null===(a=r.next)||void 0===a?void 0:a.header)||""),o.header=r.title;ue(o.items&&o.items[0]&&!!o.items[0].submittable),O(o)}}},Ae=function(){if(he)ve(!1);else{1===ee.length&&se(!1);var e=x(ee);O(e.pop()),te(e),ue(!1),fe(!1),M(""),K("")}},Ie=function(e){M(e.target.value),Te()},Le=function(){fe(!1),ve(!0)},Me=function(e){O(e),_e(!0)},De=function(){he&&(ve(!1),se(!1));var e="",n="",r=void 0,a=window.location.origin;switch(t){case U.USER:e="".concat(L,"\n\nReported User's Profile: https://www.wattpad.com/user/").concat(i.name,"\n\n"),n="user",r="user_account_conduct";break;case U.PRIVATE_MESSAGE:e="".concat(L,"\n\nReported User's Profile: https://www.wattpad.com/user/").concat(i.name,"\n\n"),n="private_message",r="private_message_conduct";break;case U.COMMENT:e="".concat(L,"\n")+"\n---\n"+"Comment Author: ".concat(i.name,"\n")+"Comment Location: ".concat(i.location,"\n")+"Comment Body: ".concat(i.body,"\n")+"Comment DeepLink: ".concat(i.deepLink),n="comment",r="story_comment_conduct";break;case U.PUBLIC_MESSAGE:e="".concat(L,"\n")+"\n---\n"+"Message Author: ".concat(i.name,"\n")+"Message Location: ".concat(i.location,"\n")+"Message Body: ".concat(i.body,"\n"),n="public_message",r="public_message_conduct";break;case U.STORY:e="".concat(L,"\n")+"\n---\nType of Content: Story\n"+(i.deepLink?"Reported Story Part: ".concat(a,"/").concat(i.deepLink,"\n"):"")+"Reported Story: ".concat(a,"/story/").concat(i.location,"\n")+"Reported User's Profile: ".concat(a,"/user/").concat(i.name,"\n")+"Reported Group ID: ".concat(i.location,"\n"),n="story"}var o=d?{id:22592474,value:d}:{id:22708584,value:wattpad.utils.getCookie("locale")||"en_US"},s={requester:{name:Ee,email:Ce},comment:e,ticket_form_id:C,username:i.name,reportType:n,reason:G,subject:_||g,custom_fields:[o,{id:21519886,value:"mobile"===wattpad.utils.getDeviceType()?"mobile_web":"web"}]};t===U.STORY&&(s.id=i.location),H&&r&&s.custom_fields.push({id:360041074311,value:r}),F&&G&&s.custom_fields.push({id:F,value:G}),J!==G&&s.custom_fields.push({id:21523158,value:J}),Promise.resolve($.ajax({type:"POST",url:"/v4/support/tickets/",data:s})).then((function(){var e;Ne||(O(w.items[0].next),fe(!1),null===(e=p.current)||void 0===e||e.focus())})).catch((function(){c(),m(Pe)}))},Ue=function(){return he?a.a.createElement(y,{username:Ee,email:Ce,setPayloadUsername:Oe,setPayloadEmail:je,onClickPrev:Ae,submitReport:De}):w.type===D.PAGE?function(){var e;switch(null===(e=w.extras)||void 0===e?void 0:e.page){case"report_story_copyright_infringement":return a.a.createElement(N,{storyId:i.location,storyTitle:i.body,onContentChanged:Te,onReportSubmitted:function(){var e;se(!1),null===(e=p.current)||void 0===e||e.focus()}});default:return null}}():a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-body"},de?a.a.createElement("h6",{className:"reason-title"},f("Reason:")+" ",a.a.createElement("strong",null,w.header)):a.a.createElement("h6",{className:"reason-note"},w.header),a.a.createElement("form",null,a.a.createElement("div",{className:"modal-body-content"},!w.isFinal&&w.items.map((function(e){return a.a.createElement(T,{key:e.id,item:e,textDescription:re,onChangeReportComment:Ie,reportDetails:L,onClickNext:xe,buildUrl:R(i,d)})}))))),ce&&!w.isFinal&&a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:xe,disabled:!L},f("Submit Report"))))};return Ne?a.a.createElement(E,{requesterUsername:n,reportedUsername:i.name,muteCopies:w,submitReport:De,hideModal:c,onModalRef:Re,showToast:m}):w?a.a.createElement("div",{className:"report-modal",ref:Re},a.a.createElement("header",{className:"modal-header"},a.a.createElement("h3",{className:"modal-title"},g),ie&&a.a.createElement("button",{className:"prev-btn",onClick:Ae},a.a.createElement(s.e,{iconName:"fa-left",height:"16",color:"wp-neutral-2"})),a.a.createElement("button",{className:"on-close",onClick:c,ref:p},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"}))),Ue()):null};B.propTypes={reportType:i.a.string.isRequired,requesterUsername:i.a.string,requesterEmail:i.a.string,reportId:i.a.shape({name:i.a.string.isRequired,location:i.a.string,body:i.a.string,deepLink:i.a.string}).isRequired,hideModal:i.a.func.isRequired,triggerRef:i.a.object,showErrorToast:i.a.func,storyLanguage:i.a.string};t.c=B},function(e,t){e.exports={"wp-base-1":"#ff6122","wp-base-1-light":"#ff7b3c","wp-base-1-dark":"#e64809","wp-base-1-60":"#A93E19","wp-base-2":"#00b2b2","wp-base-2-light":"#1acccc","wp-base-2-dark":"#009999","wp-neutral-1":"#222222","wp-neutral-2":"#6f6f6f","wp-neutral-3":"#eeeeee","wp-neutral-4":"#fafafa","wp-neutral-new-4":"rgba(18, 18, 18, 0.12)","wp-neutral-5":"#ffffff","wp-error-1":"#ff3f12","wp-warning-01":"#ffc922","facebook-1":"#3b5998","twitter-1":"#55acee","pinterest-1":"#bd081c","tumblr-1":"#35465c","google-1":"#db4437","google-2":"#1e6cd6","wp-ambassador-profile":"#df6400","wp-lightteal":"#c3d8dc","wp-lighterteal":"#eaf0f4","wp-lighterror":"#faada1","wp-errorbackground":"#ff6d55","wp-focus-blue":"#00a0d9","wp-button-red":"#e94a2c","wp-button-green":"#01b05a","wp-wattys-tag":"#322864","ds-neutral-00-solid":"#fff","ds-neutral-100":"#121212","ds-base-4-accent":"#e81249","ds-base-2-60":"#3b19a9","ds-base-1-60":"#a93e19","ds-alert":"#e00000","ds-success":"#00854e","ds-neutral-80":"rgba(18, 18, 18, 0.64)","ds-neutral-40":"rgba(18, 18, 18, 0.12)"}},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(34);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t,n=e.info,o=e.label,i=e.placeholder,s=e.selected,d=e.selectClassName,p=e.disabled,y=e.dropdownOptions,b=e.onChange,g=e.onFocus,h=e.onBlur,v=e.onClickIcon,w=e.className,E=e.labelClassName,O=e.ariaLabel,S=f(e,["info","label","placeholder","selected","selectClassName","disabled","dropdownOptions","onChange","onFocus","onBlur","onClickIcon","className","labelClassName","ariaLabel"]),C=m(Object(r.useState)(),2),j=C[0],k=C[1],N=function(e){b(e)},_=y.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.name)})),P=function(){k(!0),g()},T=function(){k(!1),h()};return a.a.createElement("div",{className:l()("form-field",w)},Object(c.c)({label:o,labelClassName:E,tooltip:n,onClickIcon:v}),a.a.createElement("select",u({value:(t=y.find((function(e){return e.value.toString()===s})),t?t.value:i),onChange:function(e){return N(e)},onFocus:function(e){return P()},onBlur:function(e){return T()},className:l()("select-form-field",d,{focus:j}),id:"select-form-component",disabled:p,"aria-label":O},S),"(value !== placeholder &&"," ",a.a.createElement("option",{hidden:!0,disabled:!0,value:i},i),")",_))}p.defaultProps={placeholder:"Select",disabled:!1,onChange:function(){},onFocus:function(){},onBlur:function(){},onClickIcon:null},p.propTypes={dropdownOptions:i.a.array.isRequired,onChange:i.a.func.isRequired,onFocus:i.a.func,onBlur:i.a.func,onClickIcon:i.a.func,selected:i.a.string,selectClassName:i.a.string,disabled:i.a.bool,className:i.a.string,label:i.a.string,labelClassName:i.a.string,info:i.a.string,placeholder:i.a.string,ariaLabel:i.a.string},t.a=p},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(56);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){return a.a.createElement(s.a,{name:"/icons/spinner-black.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"})}function m(e){var t=e.isLoading,n=e.className,o=e.children,i=e.customLoader,s=void 0===i?a.a.createElement(u,null):i,c=e.showLoaderAfter,m=l(Object(r.useState)(!1),2),d=m[0],f=m[1],p=Object(r.useRef)(null);return Object(r.useEffect)((function(){t?p.current=setTimeout((function(){!d&&f(!0)}),c):(p.current&&clearTimeout(p.current),d&&f(!1))}),[t,d,c]),t?d&&a.a.createElement("div",{className:n},s):o()}m.propTypes={isLoading:i.a.bool.isRequired,children:i.a.any.isRequired,customLoader:i.a.any,showLoaderAfter:i.a.number},m.defaultProps={showLoaderAfter:500}},,function(e,t,n){"use strict";var r=n(6),a=n(13),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),m=n(3),d=n(8),f=n(5),p=n(16),y=n(79),b=n(159),g=n(51),h=n(2);function v(e){var t=e.children,n=e.toggleModal,r=Object(h.o)().trans;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"top-buttons-container"},u.a.createElement(I,{allowOpenCoinShop:!1,disabled:!0}),u.a.createElement("button",{className:"btn-no-style",onClick:n,title:r("Close Coin Shop")},u.a.createElement(m.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"}))),u.a.createElement("div",{className:"coins-modal-body"},t))}function w(e){var t=e.numCoins,n=e.previousBalance,r=e.toggleModal,a=Object(h.o)().trans,o=t+n;return u.a.createElement(v,{toggleModal:r},u.a.createElement("div",{className:"coin-purchase-confirmation"},u.a.createElement("h3",null,a("Wallet locked and loaded")," "),u.a.createElement("div",{className:"wallet-calculation"},u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Previous balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",n)),u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Coins added")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",t)),u.a.createElement("div",{className:"calculation-row new-balance"},u.a.createElement("span",null,a("New balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",o))),u.a.createElement("button",{className:"btn-primary",onClick:r},a("Complete"))))}v.propTypes={children:l.a.node.isRequired,toggleModal:l.a.func.isRequired},w.propTypes={numCoins:l.a.number.isRequired,previousBalance:l.a.number.isRequired,toggleModal:l.a.func.isRequired};var E=Object(r.b)((function(e){return{previousBalance:e.wallet.amount}}),{toggleModal:d.b})(w);function O(e){var t=e.toggleModal,n=Object(h.o)().trans,r=wattpad.utils.getCurrentUserAttr("isPremium"),a=r?p.g:p.f,o=function(e){t(),setTimeout((function(){t({component:function(){return u.a.createElement(E,{numCoins:e})},className:"coins-modal-container",hideClose:!0})}),500)};return u.a.createElement(v,{toggleModal:t},u.a.createElement("div",{className:"coin-shop"},u.a.createElement("div",{className:"shop-explanation"},u.a.createElement("h3",null,n("Coin Shop")),u.a.createElement("div",{className:"coin-package-purchase-details"},u.a.createElement("p",null,n("Select a Coin package below.")),u.a.createElement("p",null,n("Taxes will be added at checkout."))),!r&&u.a.createElement("p",{className:"premium-benefit"},u.a.createElement(m.e,{name:"zap",className:"zap-icon",size:"16",color:"wp-neutral-1",fill:!0})," ",n("Premium members get up to 66%% more Coins"))),Object.values(a).map((function(e){return u.a.createElement(S,{key:e.value,isPremium:r,value:e.value,premiumValue:e.premium_value,nonPremiumValue:e.non_premium_value,price:e.price,illustrationUrl:e.illustration_url,featured:e.featured,onSelectPack:o})}))))}function S(e){var t=e.isPremium,n=e.value,r=e.premiumValue,a=e.nonPremiumValue,o=e.price,i=e.illustrationUrl,s=e.featured,l=e.onSelectPack,c=Object(h.o)().trans,d=r-n;return u.a.createElement("button",{className:"coin-pack btn-no-style",onClick:function(){return l(n)}},u.a.createElement("img",{src:i,alt:c("%s Coin Pack",n),height:"75",width:"75",className:"pack-image"}),u.a.createElement("div",{className:"pack-body"},u.a.createElement("div",null,s&&u.a.createElement("span",{className:"most-popular"},c("Most Popular")),u.a.createElement("div",{className:"coins-in-pack"},u.a.createElement("h4",null,c("%s Coins",n)),t&&u.a.createElement("span",{className:"non-premium-value"},c("%s Coins",a))),u.a.createElement("div",{className:"premium-status"},t?c("Premium"):c("+ %s with Premium",d)," ",u.a.createElement(m.e,{name:"zap",className:"zap-icon",size:"10",color:"wp-neutral-2",fill:!0}))),u.a.createElement("div",{className:"pack-price"},"$",o)))}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O.propTypes={toggleModal:l.a.func.isRequired},S.propTypes={isPremium:l.a.bool.isRequired,value:l.a.number.isRequired,premiumValue:l.a.number,nonPremiumValue:l.a.number,price:l.a.string.isRequired,illustrationUrl:l.a.string.isRequired,featured:l.a.bool,onSelectPack:l.a.func.isRequired};var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(s,e);var t,n,r,o=_(s);function s(){var e;j(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(T(e=o.call.apply(o,[this].concat(n))),"onWalletClick",(function(){wattpad.testGroups.WEB_COIN_PURCHASING?(0,e.props.toggleModal)({component:function(e){var t=e.toggleModal;return u.a.createElement(O,{toggleModal:t})},className:"coins-modal-container",hideClose:!0}):e.props.onWalletClick()})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.context;e.username&&this.props.fetchWalletBalance(e.username)}},{key:"render",value:function(){var e,t,n=this.props,r=n.wallet,o=n.purchase,s=n.trans,l=n.ngettext,c=n.disabled,d=r.amount,y=r.animationStep,b=r.fetched,h=o.amountSpent,v=this.context,w=i()("wallet");return y===p.l.COIN?(w=i()("coin-solo",w),u.a.createElement("button",{className:w},u.a.createElement(g.a,null))):y===p.l.DEDUCTING?(w=i()("deducting",w),u.a.createElement("button",{className:w},u.a.createElement("div",{className:"deducting-icon"},u.a.createElement(m.c,{name:"/icons/spinner.svg",className:"fa-spin",alt:s("Spinner"),height:"24",width:"24"})),u.a.createElement("span",{className:"num-coins"},s("Deducting")))):y===p.l.SUBTRACTING?(w=i()("subtracting",w),e=o.buyingPart?l("-%s Coin for next part","-%s Coins for next part",h):l("-%s Coin for story","-%s Coins for story",h),e=Object(a.sprintf)(e,h),u.a.createElement("button",{className:w},u.a.createElement("div",{className:"coin-container"},u.a.createElement(g.a,null)),u.a.createElement("span",{className:"num-coins"},e))):(t=v.username?b?d<1e4?d:Object(f.b)(d):"-":0,w=i()("default",w),u.a.createElement("button",{onClick:this.onWalletClick,className:w,disabled:c,title:s("Wallet with %s Coins",d)},u.a.createElement(g.a,null),u.a.createElement("span",{className:"num-coins divider-right"},t),!c&&u.a.createElement("div",{className:"get-coins"},u.a.createElement(m.e,{iconName:"fa-plus",height:"12",color:"wp-neutral-1"}))))}}])&&k(t.prototype,n),r&&k(t,r),s}(u.a.Component);x(A,"propTypes",{wallet:l.a.shape({amount:l.a.number.isRequired,animationStep:l.a.string.isRequired,fetched:l.a.bool.isRequired}).isRequired,purchase:l.a.shape({amountSpent:l.a.number.isRequired,buyingPart:l.a.bool}).isRequired,trans:l.a.func.isRequired,ngettext:l.a.func.isRequired,onWalletClick:l.a.func,toggleModal:l.a.func,fetchWalletBalance:l.a.func.isRequired,disabled:l.a.bool}),x(A,"defaultProps",{disabled:!1}),x(A,"contextType",b.a);var I=t.a=Object(r.b)((function(e){return{wallet:e.wallet,purchase:e.purchase}}),{toggleModal:d.b,fetchWalletBalance:y.a})(Object(f.n)(A))},function(e,t,n){"use strict";var r=n(72),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(3),c=n(143),u=n(90),m=n.n(u),d=n(2),f=n(47);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.sectionType,n=e.stories,a=e.index,o=e.windowWidth,u=e.wasSeen,g=e.storiesToShow,h=void 0===g?5:g,v=e.storyWidth,w=void 0===v?88:v,E=e.page,O=e.onStoryClick,S=e.clickTrackingUrls,C=e.callTrackingUrls,j=!1;o<=960&&(h=2.5,j=!0,o<575&&(Object(f.a)(2.5)?w=Math.floor(35):Object(f.a)(1.5)&&(w=Math.floor(52.5))));var k=m()(parseInt(Object(d.f)().language,10)),N=b(Object(i.useState)([]),2),_=N[0],P=N[1];Object(i.useEffect)((function(){if(u){var e=Math.min(Math.round(h),n.length);n.slice(0,e).map((function(e,n){"story_details"===E?window.te.push("event","story",null,null,"view",{storyid:e.id,page:"story_details",type:"similar_stories",source:"story_details"}):T(e.id,e.sources,a,n,t)})),P([].concat(y(_),y(n.slice(0,e).map((function(e,t){return t})))))}}),[u]);var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:E,algo_source:t,position:n,offset:r,type:a})};return null!==n&&0!==n.length?s.a.createElement("div",{className:"story-carousel"},s.a.createElement("div",k?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.a.createElement(r.a,{dragging:!1,afterSlide:u?function(e){var r=Math.min(e+Math.round(h),n.length);n.slice(e,r).map((function(n,r){_.includes(e+r)||("story_details"===E?window.te.push("event","story",null,null,"view",{storyid:n.id,page:"story_details",type:"similar_stories",source:"story_details"}):T(n.id,n.sources,a,e+r,t))})),P([].concat(y(_),y(n.slice(e,r).map((function(t,n){return e+n})))))}:function(){},enableKeyboardControls:!0,frameOverflow:j?"visible":"hidden",heightMode:"max",slidesToShow:h,slidesToScroll:"auto",initialHeight:"1",renderCenterRightControls:5===h&&n.length>5?function(e){return function(e,t,n){return e!==n-h||k?s.a.createElement("button",{className:"next-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===h&&n.length>5?function(e){return function(e,t){return 0!==e||k?s.a.createElement("button",{className:"prev-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null,wrapAround:k},n.map((function(e,n){if(e.id&&e.cover)return s.a.createElement(c.a,p({},e,{sectionType:t,index:a,offset:n,width:w,key:"".concat(e.id,"-").concat(n),page:E,onStoryClick:O,storyData:e,clickTrackingUrls:S,callTrackingUrls:C}))}))))):null};v.defaultProps={onStoryClick:null},v.propTypes={sectionType:o.a.string.isRequired,stories:o.a.array.isRequired,index:o.a.number,wasSeen:o.a.bool,windowWidth:o.a.number,storiesToShow:o.a.number,storyWidth:o.a.number,page:o.a.string,onStoryClick:o.a.func,clickTrackingUrls:o.a.array,callTrackingUrls:o.a.func},t.a=v},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(34);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t=e.info,n=e.label,o=e.name,i=e.options,s=e.value,d=e.onChange,p=e.className,y=e.labelClassName,b=e.position,g=e.disabled,h=f(e,["info","label","name","options","value","onChange","className","labelClassName","position","disabled"]),v=function(e){return o+"-"+e},w=m(Object(r.useState)(""),2),E=w[0],O=w[1],S=m(Object(r.useState)(),2),C=S[0],j=S[1];Object(r.useEffect)((function(){var e=i.find((function(e){return e.value===s}));O(e?o+"-"+e.label:"")}),[s,O,i,o]);var k=function(e){O(e.target.id),d(e)},N=i.map((function(e){return a.a.createElement("div",{key:e.value,className:l()(p,"radio-button")},a.a.createElement("input",u({type:"radio",id:v(e.label),value:e.value,checked:E===v(e.label),onChange:k,className:l()({focus:C}),onFocus:function(){return j(!0)},onBlur:function(){return j(!1)},name:o,disabled:g},h)),a.a.createElement("label",{id:"radio-label",htmlFor:v(e.label)},e.label))}));return a.a.createElement("div",{className:"form-field radio-button-container"},Object(c.c)({label:n,labelClassName:y,tooltip:t}),a.a.createElement("div",{className:"radio-button-group"},"horizontal"===b?a.a.createElement("div",{className:"horizontal-group"},N):a.a.createElement("fieldset",{id:o},N)))}p.defaultProps={onChange:function(){},name:""},p.propTypes={label:i.a.string,name:i.a.string.isRequired,options:i.a.array.isRequired,info:i.a.string,onChange:i.a.func.isRequired,className:i.a.string,labelClassName:i.a.string,position:i.a.string,value:i.a.number,disabled:i.a.bool},t.a=p},,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e){var t,n,r=e.username,o=e.toggleModal,i=e.muteUser,s=Object(c.o)().trans,m=s("This account will not be able to follow you, send you messages, post on your profile or comment on your stories. This action can take 30 minutes to take effect."),d=l()("btn-primary",{"on-mute-user":void 0===i});return void 0!==("undefined"==typeof window?"undefined":u(window))&&(t=document.querySelector(".mute-modal"),n=document.querySelector(".dropdown-toggle")),Object(c.p)(t,n,o),a.a.createElement("div",{className:"mute-modal-content"},a.a.createElement("h3",{className:"mute-modal-title"},s("Mute %s",r)),a.a.createElement("p",null,m),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-mute",onClick:o},s("Cancel")),a.a.createElement("button",{className:d,onClick:function(){o(),i&&i(r)}},s("Mute"))))};m.propTypes={username:i.a.string.isRequired,toggleModal:i.a.func.isRequired,muteUser:i.a.func,buttonRef:i.a.object},t.a=m},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function(e){var t,n,r=e.username,o=e.onUnblock,i=e.toggleModal,c=Object(s.o)().trans,u=c("This account will now be able to follow you, send you messages, post on your profile, and read and comment on your stories. This action can take 30 minutes to take effect.");return void 0!==("undefined"==typeof window?"undefined":l(window))&&(t=document.querySelector(".unblock-modal"),n=document.querySelector(".unblock-button")),Object(s.p)(t,n,i),a.a.createElement("div",{className:"block-modal-content"},a.a.createElement("h3",{className:"block-modal-title"},c("Unblock %s",r)),a.a.createElement("p",null,u),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-block",onClick:i},c("Cancel")),a.a.createElement("button",{className:"btn-primary btn-md",onClick:function(){i(),o&&o(r)}},c("Unblock"))))};c.defaultProps={onUnblock:function(){},toggleModal:function(){}},c.propTypes={username:i.a.string.isRequired,trans:i.a.func,onUnblock:i.a.func,toggleModal:i.a.func},t.a=c},function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(3),u=n(5),m=n(2),d=n(120),f=function(e){var t,n=Object(m.o)().trans,r=Object(m.e)(),o=e.profileType,i=e.backgroundUrl,s=e.username,f=e.name,y=e.highlight_colour,b=e.numFollowers,g=e.avatar,h=e.numStoriesPublished,v=e.numLists,w=e.onUnmute,E=e.onUnblock,O=e.className,S=e.isMobile,C=e.blockUser;return t=i?{backgroundImage:"url( '".concat(Object(u.q)(i,1920),"' )")}:{backgroundColor:y},l.a.createElement("div",{id:"profile-header",className:a()("profile-layout profile-header",O)},l.a.createElement("header",{style:t,className:"background background-lg"},l.a.createElement("div",{className:"avatar avatar-profile center-block"},g?l.a.createElement(c.a,{avatar:g,username:s}):l.a.createElement(c.c,{name:"avatar/empty.png",width:"96",height:"96"})),l.a.createElement("h1",{className:"profile-name h3","aria-label":n("%s's profile",f||s)},f||s),l.a.createElement("div",{className:"restricted-state"},"mute"===o&&w&&l.a.createElement("button",{className:"unmute-button",onClick:w},n("Unmute")),r.BLOCK_MVP&&"block"===o&&E&&l.a.createElement("button",{className:"unblock-button",onClick:E},n("Unblock")),S&&r.BLOCK_MVP&&l.a.createElement("div",{className:"button-group inline-block relative"},l.a.createElement(d.a,{username:s,isMuted:"mute"===o,isBlocked:"block"===o,unblockUser:E,unmuteUser:w,blockUser:C,isRestrictedProfile:!0,showModerationOptions:!0}))),l.a.createElement(p,{numStoriesPublished:h,numFollowers:b,numLists:v})))},p=function(e){var t=e.numStoriesPublished,n=e.numFollowers,r=e.numLists,a=Object(m.o)().ngettext;return l.a.createElement("div",{className:"row header-metadata"},l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==t?Object(u.b)(t):"-"),l.a.createElement("p",null,a("Work","Works",t||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==r?r:"-"),l.a.createElement("p",null,a("Reading List","Reading Lists",r||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",{className:"followers-count"},void 0!==n?Object(u.b)(n):"-"),l.a.createElement("p",null,a("Follower","Followers",n||0))))};f.propTypes={profileType:i.a.string,username:i.a.string,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,onUnmute:i.a.func,onUnblock:i.a.func,className:i.a.string,isMobile:i.a.bool,blockUser:i.a.func},f.defaultProps={avatar:"",username:""},p.propTypes={numStoriesPublished:i.a.number,numFollowers:i.a.number,numLists:i.a.number},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(3),c=n(8),u=n(117),m=n(168),d=n(2),f=n(10),p=function(e){var t=e.username,n=e.unmuteUser,o=e.unblockUser,i=e.blockUser,s=e.toggleModal,c=e.isMuted,p=e.isBlocked,y=e.isRestrictedProfile,b=e.isAmbassador,g=e.isSysAdmin,h=e.onCloseAccount,v=e.showModerationOptions,w=e.onTimeout,E=Object(d.e)(),O=Object(r.useRef)(null),S=Object(d.o)().trans;return a.a.createElement("div",null,a.a.createElement(l.i,{ref:O}),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(l.p,{showBlockOption:E.BLOCK_MVP,showModerationOptions:v,username:t,isLoading:!1,isMutedByCurrentUser:c,isBlockedByCurrentUser:p,onMuteUser:function(){var e={username:t,toggleModal:s,buttonRef:O.current},n=function(){return a.a.createElement(u.a,e)};n.displayName="MuteModal",s({type:"mute",className:"mute-modal",hideClose:!0,component:n})},onUnmuteUser:n,onBlockUser:function(){var e={username:t,toggleModal:s,buttonRef:O.current};i&&(e.blockUser=i);var n=function(){return a.a.createElement(m.a,e)};n.displayName="BlockModal",s({type:"block",className:"block-modal",hideClose:!0,component:n})},onUnblockUser:o,onReportUser:function(){}}),a.a.createElement("div",{className:"user-safety-operations moderation-options"},a.a.createElement("a",{className:"user-safety-operation btn-no-background btn-left-icon",href:"https://policies.wattpad.com/",target:"_blank",rel:"noopener noreferrer",tabIndex:"0"},a.a.createElement(f.a,{name:"link"}),a.a.createElement("span",{className:"option"},S("Wattpad Policies")))),(b||g)&&E.BLOCK_MVP&&a.a.createElement("div",{className:"user-safety-operations moderation-options"},a.a.createElement("button",{onClick:function(){h&&h()},"data-toggle":"modal","data-target":"#userClose","data-gtm":"profile|close_account",className:"user-safety-operation btn-no-background btn-left-icon "},a.a.createElement(f.a,{name:"closeAccount",strokeWidth:"0",viewBox:"16"}),a.a.createElement("span",{className:"option"},S("Close Account")," ")),a.a.createElement("button",{onClick:function(){w&&w()},"data-toggle":"modal","data-target":"#userTimeout","data-gtm":"profile|time_out",className:"user-safety-operation btn-no-background btn-left-icon "},a.a.createElement(f.a,{name:"timeout",strokeWidth:"0"}),a.a.createElement("span",{className:"option"},S("Time-out"))))),!y&&a.a.createElement(l.q,null))};p.propTypes={username:s.a.string.isRequired,toggleModal:s.a.func,isMuted:s.a.bool,isBlocked:s.a.bool,mutedUsers:s.a.array,unmuteUser:s.a.func,blockUser:s.a.func,unblockUser:s.a.func,isRestrictedProfile:s.a.bool,isAmbassador:s.a.bool,isSysAdmin:s.a.bool,onCloseAccount:s.a.func,onTimeout:s.a.func,showModerationOptions:s.a.bool};var y=Object(o.b)(null,{toggleModal:c.b})(p);t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2),c=n(4),u=n.n(c);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.email,n=e.userId,o=e.hideModal,i=e.onEmailChanged,c=e.onUpdateEmail,d=Object(l.o)().trans,f=m(Object(r.useState)("password"),2),p=f[0],y=f[1],b=m(Object(r.useState)(""),2),g=b[0],h=b[1],v=m(Object(r.useState)("pending"),2),w=v[0],E=v[1],O=m(Object(r.useState)(!0),2),S=O[0],C=O[1],j=m(Object(r.useState)(!0),2),k=j[0],N=j[1],_=m(Object(r.useState)(!0),2),P=_[0],T=_[1],R=m(Object(r.useState)(""),2),x=R[0],A=R[1],I=m(Object(r.useState)(""),2),L=I[0],M=I[1],D=m(Object(r.useState)(""),2),U=D[0],q=D[1],B=m(Object(r.useState)(!0),2),F=B[0],W=B[1],V=function(e){e.preventDefault(),e.stopPropagation(),y("text"===p?"password":"text")},H=function(e){wattpad.utils.stopEvent(e),o()},z=d("You registered your account with %s. If this is incorrect, you can change your email here.",t),Y=u()("form-control input-bg enable change-email-input",{invalid:!F});return a.a.createElement("div",{id:"change-email-modal",className:"change-email-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:H,"aria-label":d("Close"),tabIndex:"0"},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("h1",null,d("Change email")),a.a.createElement("p",{className:"modal-message"},z.split(t)[0],a.a.createElement("strong",null,t),z.split(t)[1]),a.a.createElement("form",{className:"on-form-submit",onSubmit:function(e){if(wattpad.utils.stopEvent(e),h(""),!U){var t=e.target.id.value,n=e.target.email.value,r=e.target.confirm_email.value,a=e.target.password.value;n==r?Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuseremail",data:{id:t,email:n,confirm_email:r,password:a}})).then((function(){i(n),c&&c(n)})).catch((function(e){h(e.responseJSON.message)})):h(d("Please ensure the email fields match."))}},onChange:function(e){wattpad.utils.stopEvent(e);var t=e.target.name,n=!e.target.value;"email"==t?(C(n),n&&A("")):"confirm_email"==t?N(n):"password"==t&&T(n)}},a.a.createElement("input",{type:"hidden",name:"id",value:n}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"new_email"},d("New Email")),a.a.createElement("input",{id:"new_email",className:Y,name:"email",type:"email",defaultValue:"",onBlur:function(e){wattpad.utils.stopEvent(e);var t=e.target.value;t?Promise.resolve($.ajax("/api/v3/users/validate",{data:{email:t}})).then((function(){W(!0),q(""),E("check"),A(t)})).catch((function(e){W(!1),q(e.responseJSON.message),E("warning")})):(W(!1),q(d("Email is required.")),E("warning"))},onFocus:function(e){e.preventDefault(),W(!0),q(""),M(""),E("pending")}}),"check"==w?a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-check",height:"18",className:"form-control-feedback"})):"warning"==w&&a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-warning",height:"18",className:"form-control-feedback"})),U&&a.a.createElement("p",{className:"user-error-message"},U)),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_email"},d("Confirm New Email")),a.a.createElement("input",{id:"confirm_email",className:"form-control input-bg enable change-email-input",name:"confirm_email",type:"text",defaultValue:"",onBlur:function(e){var t=e.target.value;M(""!=x&&x!=t?d("Please ensure the email fields match."):"")}}),L&&a.a.createElement("p",{className:"user-error-message"},L)),a.a.createElement("div",{className:"form-group has-feedback password"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},d("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-bg enable change-email-input",name:"password",defaultValue:"",type:p}),a.a.createElement("span",{onClick:V,onKeyDown:V,role:"button",tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},d("Forgot your password?")),g&&a.a.createElement("div",{className:"server-error-message"},a.a.createElement(s.e,{iconName:"fa-warning",height:"22",className:"warning-icon"}),a.a.createElement("p",{className:"server-error-text"},g)),a.a.createElement("input",{type:"submit",className:"btn-primary btn-md btn-save",value:d("Change email"),disabled:S||k||P||!F||""!=L}),a.a.createElement("button",{className:"btn-secondary btn-md btn-cancel",onClick:H},d("Cancel"))))}f.propTypes={email:i.a.string.isRequired,userId:i.a.number.isRequired,hideModal:i.a.func,onEmailChanged:i.a.func.isRequired,onUpdateEmail:i.a.func};var p=n(182);function y(e){var t=e.email,n=e.isSuccess,r=e.hideModal,o=e.onClickResendEmail,i=e.onClickChangeEmail,c=Object(l.o)().trans,u=function(e){wattpad.utils.stopEvent(e),r()},m=c("Please check your email %s to complete sign-up.",t)+" "+c(n?"After you click the link in your email, you'll be able to:":"Please try again or change your email.");return a.a.createElement("div",{className:"sent-email-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:u,"aria-label":c("Close"),tabIndex:"0"},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),n?a.a.createElement("h1",null,c("Email sent")):a.a.createElement("h1",null,c("Problem reaching email :(")),a.a.createElement("div",{className:"modal-content"},a.a.createElement("p",null,m.split(t)[0],a.a.createElement("strong",null,t),m.split(t)[1]),n&&a.a.createElement(p.a,null),a.a.createElement("div",{className:"button-wrapper"},a.a.createElement("form",null,n?a.a.createElement("button",{className:"btn-secondary btn-md btn-dismiss",onClick:u,"aria-label":c("Dismiss")},c("Dismiss")):a.a.createElement("div",null,a.a.createElement("button",{className:"btn-primary btn-md btn-change-email",onClick:i,"aria-label":c("Change email")},c("Change email")),a.a.createElement("button",{className:"btn-secondary btn-md btn-resend-email",onClick:o,"aria-label":c("Resend email")},c("Resend email")))))))}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.isChangeEmailModal,n=e.email,o=e.userId,i=e.isSuccess,s=e.hideModal,l=e.dismissModal,c=e.onUpdateEmail,u=b(Object(r.useState)(t),2),m=u[0],d=u[1],p=b(Object(r.useState)(i),2),g=p[0],h=p[1],v=b(Object(r.useState)(null),2),w=v[0],E=v[1],O=function(e){wattpad.utils.stopEvent(e),d(!0)},S=function(e){wattpad.utils.stopEvent(e),$.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"},success:function(){h(!0),d(!1)},error:function(){h(!1),d(!1)}})},C=function(e){E(e),d(!1),h(!0)};return m?a.a.createElement(f,{email:n,userId:o,hideModal:s,onEmailChanged:C,onUpdateEmail:c}):a.a.createElement(y,{email:w||n,isSuccess:g,hideModal:l&&g?l:s,onClickResendEmail:S,onClickChangeEmail:O})}y.propTypes={email:i.a.string.isRequired,isSuccess:i.a.bool.isRequired,hideModal:i.a.func,onClickResendEmail:i.a.func.isRequired,onClickChangeEmail:i.a.func.isRequired},h.propTypes={isChangeEmailModal:i.a.bool.isRequired,email:i.a.string.isRequired,userId:i.a.number.isRequired,isSuccess:i.a.bool.isRequired,hideModal:i.a.func,dismissModal:i.a.func,onUpdateEmail:i.a.func}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return b}));var l="CATALOG",c="".concat(l,"/LOAD_FEATURED_LIST"),u="".concat(l,"/LOAD_PAID_STORIES_TAGS"),m="".concat(l,"/LOAD_PAID_STORIES_LIST"),d="".concat(l,"/IS_LOADING_PAID_STORIES"),f={featuredList:[],paidStoriesTags:[],paidStoriesListByTag:{},paidStoriesListOffset:0,isLoadingPaidStories:!1,hasTagsLoaded:!1};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return i(i({},e),{},{featuredList:t.featuredList});case u:return i(i({},e),{},{paidStoriesTags:t.tags,hasTagsLoaded:!0});case m:return i(i({},e),{},{paidStoriesListByTag:t.paidStoriesListByTag||e.paidStoriesListOffset,isLoadingPaidStories:!1,paidStoriesListOffset:t.paidStoriesListOffset||e.paidStoriesListOffset});case d:return i(i({},e),{},{isLoadingPaidStories:!0});default:return e}}function y(){var e,t=parseInt(wattpad.language,10)||1,n=wattpad.supportedLangs.find((function(e){return e.id===t}));n&&(e=n.code);var r=null;JSON.parse(wattpad.newCurationProfiles).forEach((function(t){t.code===e&&(r=t.username)}));var o="/api/v3/users/".concat(r,"/lists");return function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.get(o));case 3:n=e.sent,t({type:c,featuredList:n.lists}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:c,featuredList:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function b(){return function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r,a,o,s,l,c,f,p,y,b,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().catalog,a=r.paidStoriesListOffset,o=r.isLoadingPaidStories,s=r.paidStoriesListByTag,l=r.hasTagsLoaded,c=r.paidStoriesTags,f=l&&a===c.length,!o&&!f){e.next=9;break}return e.abrupt("return");case 9:if(t({type:d}),l){e.next=22;break}return e.prev=11,e.next=14,Promise.resolve($.get("/v4/paid_stories/tags"));case 14:p=e.sent,c=p.tags,t({type:u,tags:c}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),t({type:u,tags:[]});case 22:if(y=[],b=Math.min(a+4,c.length),c&&c.length>0)for(g=a;g<b;g++)c[g]&&y.push(Promise.resolve($.get("/v4/paid_stories/tags/:tag?limit=-1&fields=stories(id,cover,title,tags,isPaywalled),tag".replace(":tag",c[g]))));return e.prev=25,e.next=28,Promise.all(y);case 28:e.sent.forEach((function(e){s[e.tag]=e.stories})),t({type:m,paidStoriesListByTag:i({},s),paidStoriesListOffset:a+4}),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(25),t({type:m});case 36:case"end":return e.stop()}}),e,null,[[11,19],[25,33]])})));return function(t,n){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return h}));var r=n(20);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="THREADS",u="".concat(c,"/LOAD_REQUESTED"),m="".concat(c,"/LOAD_MORE_REQUESTED"),d="".concat(c,"/LOAD"),f="".concat(c,"/LOAD_MORE"),p="".concat(c,"/RESET"),y={isLoading:!0,isLoadingMore:!1,isEmailVerified:!1,threads:[],filter:"",total:0,offset:0};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return s(s({},y),{},{filter:t.filter});case m:return s(s({},e),{},{filter:t.filter,isLoadingMore:!0});case f:return s(s({},e),{},{isLoading:!1,isLoadingMore:!1,threads:[].concat(a(e.threads),a(t.threads)),offset:e.offset+t.threads.length,total:t.total});case d:return s(s({},e),{},{isLoading:!1,isLoadingMore:!1,isEmailVerified:wattpad.utils.currentUser().get("verified_email"),threads:a(t.threads),offset:t.threads.length,total:t.total});case p:return s({},y);case r.b:var n=e.threads.map((function(e){return e.user.name===t.name&&(e.user.isMutedByCurrentUser=!0),e}));return s(s({},e),{},{threads:n});case r.c:var o=e.threads.map((function(e){return e.user.name===t.name&&(e.user.isMutedByCurrentUser=!1),e}));return s(s({},e),{},{threads:o});case r.a:return s(s({},e),{},{isLoading:!1});default:return e}}function g(e){var t=e.filter,n=void 0===t?"":t,r=e.offset,a=void 0===r?0:r,o="/api/v3/users/".concat(wattpad.utils.currentUser().get("username"),"/inbox?filter=").concat(n,"&limit=").concat(10,"&offset=").concat(a);return function(e){var t=Promise.resolve($.get(o)),r=a>0;return e(r?{type:m,filter:n}:{type:u,filter:n}),t.then((function(t){var a=t.threads.map((function(e){return s(s({},e),{},{user:s(s({},e.user),{},{isMutedByCurrentUser:e.user.safety.isMuted,isBlockedByCurrentUser:e.user.safety.isBlocked})})}));e({type:r?f:d,threads:a,total:t.total,filter:n})})).catch((function(){return e({type:d,threads:[],filter:n})}))}}function h(){return function(e){e({type:p})}}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var l="".concat("QUESTS","/LOAD_ALL"),c="".concat("QUESTS","/LOAD_EMBEDDED"),u={isLoading:!0,mapById:{},mapByEmbeddedType:{}};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return i(i({},e),{},{mapById:t.questMap});case c:return i(i({},e),{},{mapByEmbeddedType:i(i({},e.mapByEmbeddedType),t.embeddedQuestMap)});default:return e}}function d(){var e="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/");return function(){var t=a(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve($.get(e));case 3:return r=t.sent,o={},t.next=7,Promise.all(r.quests.map(function(){var t=a(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.concat(n.id,"/"),t.next=3,Promise.resolve($.get(r));case 3:a=t.sent,o[n.id]=a.quest;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:n({type:l,questMap:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wattpad.utils.showToast();case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}var f=function(e){return function(){var t=a(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/embedded/").concat(e,"/"),t.next=4,Promise.resolve($.get(r));case 4:a=t.sent,o=s({},e,a.quests),n({type:c,embeddedQuestMap:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),wattpad.utils.showToast();case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i="".concat("WORKS_ITEM_DETAILS","/UPDATE");function s(e){return function(t){t({type:i,data:e})}}var l={worksItemDetailsActiveTab:"toc"};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return a(a({},e),{},{worksItemDetailsActiveTab:t.data||l.worksItemDetailsActiveTab});default:return e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3);function l(e){var t,n=e.name,r=e.size;return e.allowedBadges.indexOf(n)>-1&&("staff"===n||"verified"===n||"ambassador"===n)&&(t=n),t?a.a.createElement(s.e,{name:t,size:r,viewBox:20}):null}l.defaultProps={size:"16",allowedBadges:["verified","staff","ambassador"]},l.propTypes={name:i.a.string.isRequired,size:i.a.string.isRequired,allowedBadges:i.a.array}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(4),c=n.n(l),u=n(41),m=n(2),d=n(22),f=n(6);function p(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.readingLists,n=e.storyId,o=e.storiesCollections,i=e.className,l=e.fromStoryDetails,y=e.setShowPopover,w=Object(m.o)().trans,E=Object(f.c)(),O=v(Object(r.useState)(o||{}),2),S=O[0],C=O[1],j=v(Object(r.useState)(t||[]),2),k=j[0],N=j[1],_=v(Object(r.useState)(""),2),P=_[0],T=_[1],R=v(Object(r.useState)(null),2),x=R[0],A=R[1],I=Object(r.useRef)({}),L=Object(r.useRef)(null),M=Object(r.useRef)(null),D=Object(r.useRef)(null);Object(r.useEffect)((function(){void 0!==("undefined"==typeof window?"undefined":h(window))&&(D.current=document.activeElement)}),[]),Object(m.a)(M.current,(function(){y&&y(!1)}));var U=function(){var e;y?y(!1):E(Object(u.a)()),null===(e=D.current)||void 0===e||e.focus()};Object(m.p)(M.current,D.current,U);var q=function(e,t){t?window.te.push("event","app","story","library","add",{storyid:e,page:"story_details"}):window.te.push("event","app","story","library","add",{storyid:e,page:"home"})},B=function(e){q(n,l),E(Object(d.p)(e,n)),C(b(b({},S),{},g({},e,!0)))},F=function(e){A(null),S[e]?(!function(e,t){t?window.te.push("event","app","story","library","remove",{storyid:e,page:"story_details"}):window.te.push("event","app","story","library","remove",{storyid:e,page:"home"})}(n,l),E(Object(d.m)(e,n)),C(b(b({},S),{},g({},e,!1)))):B(e)};return a.a.createElement("div",{"aria-modal":"true",ref:M,className:c()("react-popover-container--small",i)},a.a.createElement("div",{className:"react-popover-header"},a.a.createElement("span",{className:"sr-only"},w("Add to modal open")),a.a.createElement("div",{"aria-hidden":"true",className:"react-popover-title"},w("Add to")),a.a.createElement("button",{onClick:U,className:"react-popover-done-btn"},w("Done"))),a.a.createElement("ul",{className:"react-popover-list--small"},a.a.createElement("li",{key:"library",className:"react-popover-item"},a.a.createElement("button",{onClick:function(){F("library")},tabIndex:"0",className:"react-popover-item__btn",ref:function(e){return I.current.library=e}},a.a.createElement(s.e,{iconName:"fa-library",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},w("My Library (Private)")),S.library&&a.a.createElement(s.e,{name:"check",size:"24",color:"wp-base-1-light",fill:!0,strokeWidth:"1"}))),k&&k.map((function(e){return a.a.createElement("li",{key:e.id,className:"react-popover-item"},a.a.createElement("button",{onClick:function(){F(e.id)},tabIndex:"0",className:"react-popover-item__btn",ref:function(t){return I.current[e.id]=t}},a.a.createElement(s.e,{iconName:"fa-reading-list",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},e.name),S[e.id]&&a.a.createElement(s.e,{name:"check",size:"24",color:"wp-base-1-light",fill:!0,strokeWidth:"1"})))})),a.a.createElement("div",{ref:L})),a.a.createElement("form",null,a.a.createElement("div",{className:"react-popover-input-row"},a.a.createElement("input",{type:"text",className:"form-control input-text",placeholder:w("Add new reading list..."),onChange:function(e){return T(e.target.value)},value:P}),a.a.createElement("button",{"aria-label":w("Add new reading list..."),className:"btn-icon",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){if(A(null),P){var e=P;T("");var t=k.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t&&S[t.id])I.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else if(t)B(t.id),I.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else{var r={id:null,name:e,numStories:0,cover:0,tags:[],featured:!1,stories:n};q(n,l),Promise.resolve($.post("/api/v3/lists/",r)).then((function(e){N([].concat(p(k),[{id:e.id,name:e.name}])),C(b(b({},S),{},g({},e.id,!0))),E(Object(d.g)()),E(Object(d.e)(n)),L.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e);var n=new Error(w("We are unable to add this story to your reading list at this time"));A(n)}))}}}()}},a.a.createElement(s.e,{name:"add",height:"12",color:"wp-neutral-1",strokeWidth:"2.5"})))),x&&a.a.createElement("div",{className:"react-popover-error"},x.message))};O.propTypes={readingLists:i.a.array.isRequired,storyId:i.a.number,storiesCollections:i.a.object.isRequired,className:i.a.string,fromStoryDetails:i.a.bool,setShowPopover:i.a.func},t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(184),u=n(109),m=n(134),d=function(e){var t=e.sectionType,n=e.expandPrompt,o=e.background,i=e.heading,s=e.subheading,d=e.stories,f=e.isPromoted,p=e.index,y=e.windowWidth,b=e.wasSeen,g=e.setPosition,h=e.storiesToShow,v=e.storyWidth,w=e.page,E=e.withDivider,O=void 0===E||E,S=e.onStoryClick,C=e.callTrackingUrls,j=e.clickTrackingUrls,k=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(k.current){var e=k.current.getBoundingClientRect();g(p,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[p,t,g]),null===d||0===d.length?null:"storyExpanded"===t?a.a.createElement("div",{className:l()("story-swimlane module",o),ref:k},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement(m.a,{heading:i,expandPrompt:n,sectionType:t,subheading:s,isPromoted:f}),a.a.createElement(c.a,{sectionType:t,stories:d,windowWidth:y,index:p,wasSeen:b,storiesToShow:h,storyWidth:v,page:w,onStoryClick:S,clickTrackingUrls:j,callTrackingUrls:C}),O&&a.a.createElement("hr",{className:"module-divider"}))):a.a.createElement("div",{className:l()("story-swimlane module",o),ref:k},a.a.createElement("div",{className:"module-content"},a.a.createElement(m.a,{heading:i,expandPrompt:n,sectionType:t,subheading:s,isPromoted:f}),a.a.createElement(u.a,{sectionType:t,stories:d,windowWidth:y,index:p,wasSeen:b,storiesToShow:h,storyWidth:v,page:w,onStoryClick:S,clickTrackingUrls:j,callTrackingUrls:C}),O&&a.a.createElement("hr",{className:"module-divider"})))};d.defaultProps={onStoryClick:null},d.propTypes={heading:i.a.string,index:i.a.number.isRequired,expandPrompt:i.a.object,background:i.a.string,isPromoted:i.a.bool,sectionType:i.a.string.isRequired,setPosition:i.a.func.isRequired,subheading:i.a.string,stories:i.a.array.isRequired,wasSeen:i.a.bool,windowWidth:i.a.number,storiesToShow:i.a.number,storyWidth:i.a.number,page:i.a.string,withDivider:i.a.bool,onStoryClick:i.a.func,clickTrackingUrls:i.a.array,callTrackingUrls:i.a.func},t.a=d},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=n(3);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={1:"https://support.wattpad.com/hc/en-us/articles/4437003467924",2:"https://support.wattpad.com/hc/fr/articles/4437003467924",3:"https://support.wattpad.com/hc/it/articles/4437003467924",4:"https://support.wattpad.com/hc/de/articles/4437003467924",5:"https://support.wattpad.com/hc/es/articles/4437003467924",6:"https://support.wattpad.com/hc/pt/articles/4437003467924",18:"https://support.wattpad.com/hc/fil/articles/4437003467924",20:"https://support.wattpad.com/hc/id/articles/4437003467924",23:"https://support.wattpad.com/hc/tr/articles/4437003467924"},p=function(e){var t=e.title,n=e.content,o=e.closePopover,i=Object(c.o)().trans,s=m(Object(r.useState)(f[1]),2),l=s[0],u=s[1];return Object(r.useEffect)((function(){var e=parseInt(app.get("language"),10);void 0!==f[e]&&u(f[e])}),[]),a.a.createElement("div",{className:"react-popover-tooltip",role:"alertdialog","aria-modal":"true","aria-labelledby":"popover-title","aria-describedby":"popover-content"},a.a.createElement("h3",{className:"popover-title",id:"popover-title"},t),a.a.createElement("div",{className:"popover-content",id:"popover-content"},a.a.createElement("span",null,n)),a.a.createElement("hr",{"aria-hidden":!0}),a.a.createElement("div",{className:"tooltip-footer"},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l,className:"tooltip-footer__link"},a.a.createElement("span",null,i("Learn more"))),a.a.createElement("button",{className:"btn btn-purple tooltip-footer__btn",onClick:o},i("Ok"))))};p.propTypes={title:i.a.string.isRequired,content:i.a.string.isRequired,closePopover:i.a.func.isRequired};var y=p,b="writer-analytics-info-popover",g={placement:"right",showArrow:"true",modifiers:[{name:"offset",options:{offset:[0,12]}}]},h=function(e){var t=e.popoverContent,n=e.className,o=e.color,i=void 0===o?"wp-neutral-1":o,s=Object(r.useRef)(),m=Object(c.o)().trans,d=Object(c.i)(),f=d.handleClosePopover,p=d.handleOpenPopover,h=function(){return a.a.createElement(y,{title:t.title,content:t.content,closePopover:function(){return f(s)}})};return a.a.createElement("button",{ref:s,onClick:function(){p(h,s,b,g)},className:l()("info-btn",n),"aria-label":m("Click for more information")},a.a.createElement(u.e,{iconName:"fa-info",height:"14",color:i}))};h.propTypes={popoverContent:i.a.shape({title:i.a.string.isRequired,content:i.a.string.isRequired}).isRequired,className:i.a.string,color:i.a.string};t.a=h},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=function(e){var t=e.placement,n=e.className,o=e.shouldDelayAds,i=e.shouldShowAds,s=e.adsSkipReason,c=Object(r.useRef)(t+"-"+Date.now());return Object(r.useEffect)((function(){var e=new CustomEvent("ad-available",{bubbles:!0,detail:{adUnitId:c.current,shouldDelayAds:o,shouldShowAds:i,adsSkipReason:s,lazyLoadAd:!0}});window.dispatchEvent(e)}),[t,o,i,s]),a.a.createElement("div",{id:c.current,className:l()("".concat(t),"advertisement",n),alt:"Advertisement - ".concat(c.current)})};c.propTypes={placement:i.a.string.isRequired,className:i.a.string,shouldDelayAds:i.a.bool,shouldShowAds:i.a.bool,adsSkipReason:i.a.string},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={NOTES:"story-planner"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(32);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function m(e){var t="/v5/stories/".concat(e,"/notes");return function(){var n=u(regeneratorRuntime.mark((function n(a){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",a({type:r.b,data:null}));case 2:return a({type:r.d}),n.prev=3,o=Promise.resolve($.get(t)),n.next=7,o;case 7:i=n.sent,a({type:r.b,data:i}),n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(3),n.abrupt("return",a({type:r.b,data:null}));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()}function d(e,t,n){return t.id=e,t=function(e,t){if(t.name){var n=t.name,r=t.value,a=s(n.split("."),2),l=a[0],c=a[1];switch(l){case"protagonist":return o(o({},e),{},{protagonist:o(o({},e.protagonist),{},i({},c,r))});case"protagonist_goal":return o(o({},e),{},{protagonist_goal:o(o({},e.protagonist_goal),{},i({},c,r))});case"opportunity":return o(o({},e),{},{opportunity:o(o({},e.opportunity),{},i({},c,r))});default:return o({},e)}}return o(o({},e),{},{protagonist:t.protagonist,protagonist_goal:t.protagonist_goal,opportunity:t.opportunity})}(t,n),function(e){e({type:r.e,data:t})}}function f(e,t){return t.id=parseInt(e),t.protagonist.name=t.protagonist.name&&t.protagonist.name.trim(),t.protagonist.other_names=t.protagonist.other_names&&t.protagonist.other_names.trim(),t.protagonist_goal.description=t.protagonist_goal.description&&t.protagonist_goal.description.trim(),t.protagonist_goal.outcome=t.protagonist_goal.outcome&&t.protagonist_goal.outcome.trim(),t.opportunity.logline=t.opportunity.logline&&t.opportunity.logline.trim(),function(){var e=u(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.ajax({url:"/v5/stories",type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 3:n({type:r.c}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),wattpad.utils.showToast(),n({type:r.a});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=function(e){var t=e.children,n=e.isExpandable,r=e.onClick,o=e.className,i=u(e,["children","isExpandable","onClick","className"]);return n?a.a.createElement("div",c({onClick:r,role:"button",tabIndex:"0",className:l()("clickable",o)},i),t):o?a.a.createElement("div",c({className:o},i),t):a.a.createElement(a.a.Fragment,null,t)};m.propTypes={children:i.a.any,isExpandable:i.a.bool,onClick:i.a.func,className:i.a.any};var d=function(e){var t=e.type,n=e.children,r=e.link,o=e.isLinkable,i="link"===t,s=i?{target:"_blank",rel:"noopener noreferrer"}:{className:"on-navigate"};return(o=o&&r&&("action"===t||i))?a.a.createElement("a",c({href:r},s),n):a.a.createElement(a.a.Fragment,null,n)};d.propTypes={type:i.a.string,isLinkable:i.a.bool,link:i.a.string,children:i.a.any}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(183),l=n(2);function c(e){var t=e.expandPrompt,n=e.isPaid,r=Object(l.o)().trans,o=t||{},i=o.weblink,s=void 0===i?"":i,c=o.prompt,u=void 0===c?"":c;return n&&(s="/catalog/paidstories",u=r("See all")),s&&u?a.a.createElement("a",{href:s,className:"on-navigate btn-secondary"},u):null}c.propTypes={expandPrompt:i.a.object,isPaid:i.a.bool};var u=function(e){var t=e.expandPrompt,n=e.heading,r=e.subheading,o=e.isPromoted,i=e.sectionType,l="paid"===i||"paidMultiRow"===i;return a.a.createElement("div",{className:"module-header"},a.a.createElement("div",{className:"left-section"},a.a.createElement("div",{className:"heading"},a.a.createElement("h3",null,n)),a.a.createElement("div",{className:"subheading"},a.a.createElement("h4",null,r))),t&&a.a.createElement(c,{expandPrompt:t,isPaid:l}),!0===o&&a.a.createElement(s.a,null))};u.propTypes={expandPrompt:i.a.object,heading:i.a.string.isRequired,subheading:i.a.string,isPromoted:i.a.bool,sectionType:i.a.string};t.a=u},,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=function(e){var t=e.value,n=e.label;return a.a.createElement("option",{value:t,key:t},n||t)};s.propTypes={value:i.a.oneOfType([i.a.string,i.a.array]),label:i.a.string},t.a=s},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var i="".concat("PAID_CONTENT_METADATA","/SET"),s="".concat("PAID_CONTENT_METADATA","/CLEAR");function l(e,t){return function(n,r){if(void 0!==r().paidMetadata.stories[e])return Promise.resolve();var a=t.join(",");return Promise.resolve($.get("/v5/story/".concat(e,"/paid-content/metadata"),{parts:a})).then((function(t){n({type:i,storyId:e,metadata:t})}))}}function c(e,t){return{type:s,storyId:e,partIds:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{parts:{},stories:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=t.metadata,r=t.storyId,l=n.story,c=n.parts,u=c.reduce((function(e,t){return e[t.id]=t,e}),{}),m=e.stories,d=e.parts;return a(a({},e),{},{stories:a(a({},m),{},o({},r,l)),parts:a(a({},d),u)});case s:var f=t.storyId,p=t.partIds,y=_.omit(e.stories,f),b=_.omit(e.parts,p);return a(a({},e),{},{stories:y,parts:b});default:return e}}},,,function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(5),m=n(40);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.title,n=e.id,r=e.cover,a=e.tags,s=e.isPaid,f=e.isPaywalled,p=e.sources,y=e.offset,b=e.shiftCarousel,g=e.sectionType,h=e.index,v=e.width,w=void 0===v?200:v,E=e.page,O=e.onStoryClick,S=e.storyData,C=e.clickTrackingUrls,j=e.callTrackingUrls,k=e.isActiveStory,N=void 0!==k&&k;a=a||[];var P=d(Object(o.useState)(a[0]),2),T=P[0],R=P[1];Object(o.useEffect)((function(){R(_.shuffle(a).find((function(e){return w<200?e.length<10:e.length<18})))}),[a,w]);return i.a.createElement("div",{className:l()("story-item","story-".concat(y))},i.a.createElement("div",{className:"cover"},i.a.createElement("a",{href:"/story/"+n,onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:n,page:E,algo_source:p,position:h,offset:y,type:g}),C&&j(C),"mobile"!==wattpad.utils.getDeviceType()&&O?O(S):b&&!N?b():app.router.navigate(t,{trigger:!0})}(e,"/story/".concat(n))}},i.a.createElement("img",{src:Object(u.t)(r,w),alt:"".concat(t," cover")}))),i.a.createElement("div",{className:"tag-and-badge"},s||f?i.a.createElement(c.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}):null,T?i.a.createElement(m.a,{name:T,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){e.preventDefault(),app.router.navigate("/stories/".concat(t),{trigger:!0})},link:"/stories/".concat(T)}):null))};p.defaultProps={onStoryClick:null,sources:[]},p.propTypes={cover:a.a.string.isRequired,id:a.a.oneOfType([a.a.string,a.a.number]).isRequired,index:a.a.number,isPaid:a.a.bool,isPaywalled:a.a.bool,offset:a.a.number,sectionType:a.a.string,sources:a.a.array,tags:a.a.array,shiftCarousel:a.a.func,title:a.a.string.isRequired,width:a.a.number,page:a.a.string,onStoryClick:a.a.func,storyData:a.a.object,clickTrackingUrls:a.a.array,callTrackingUrls:a.a.func,isActiveStory:a.a.bool},t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(2),a=function(){var e=Object(r.o)().trans;return[{name:e("All Rights Reserved"),summary:e("You do not allow your work to be used or adapted in any way without your permission."),value:"1"},{name:e("Public Domain"),summary:e("This allows anyone to use your story for any purpose  they could freely print, sell, or turn your story into a movie."),value:"2"},{name:e("Creative Commons (CC) Attribution"),summary:e("You hold some rights to your story but allow for things like translation or adaptations with credit back to you."),value:"3"},{name:e("(CC) Attrib. NonCommercial"),summary:e("This license lets others remix, adapt, and build upon your work non-commercially with credit back to you."),value:"4"},{name:e("(CC) Attrib. NonComm. NoDerivs"),value:"5",summary:e("This license allows others to share your unaltered work with others as long as you get credit.")},{name:e("(CC) Attrib. NonComm. ShareAlike"),value:"6",summary:e("This lets others adapt, and build upon your work non-commercially, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-ShareAlike"),value:"7",summary:e("This lets others adapt and build on your work, even for commercial purposes, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-NoDerivs"),value:"8",summary:e("This lets others reuse your work for any purpose but it cannot be altered and you must be credited.")}]},o=function(){var e=Object(r.o)().trans;return{copyright:{title:e("Who owns your story?"),mainContent:e("Let others know if this story is just yours, or if anyone can repost or remix it"),link:{href:"https://support.wattpad.com/hc/en-us/articles/216192503-Copyright-FAQ",text:e("Learn more")},button:{text:e("OK")}}}}},,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(0);t.a=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){if(a&&a.addEventListener){var e=function(e){return o.current(e)};return a.addEventListener(t,e),function(){a.removeEventListener(t,e)}}}),[t,a])}}).call(this,n(36))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=n.n(r).a.createContext({})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t=e.className,n=e.minRows,o=e.maxRows,i=e.onChange,s=e.value,m=e.textareaLineHeight,f=e.characterLimit,p=e.hideCharacterLimit,y=d(e,["className","minRows","maxRows","onChange","value","textareaLineHeight","characterLimit","hideCharacterLimit"]),b=u(Object(r.useState)(n),2),g=b[0],h=b[1],v=u(Object(r.useState)(),2),w=v[0],E=v[1],O=Object(r.useRef)(null),S=Object(r.useCallback)((function(){var e=O.current.rows;O.current.rows=n;var t=O.current.scrollHeight,r=t?Math.floor(t/m):n;r===e&&(O.current.rows=r),r>=o&&(O.current.rows=o,O.current.scrollTop=O.current.scrollHeight),h(Math.min(r,o))}),[n,o,m]);Object(r.useEffect)((function(){""===s&&g!==n&&h(n)}),[s,g,n]),Object(r.useEffect)((function(){S()}),[S]),Object(r.useEffect)((function(){return window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}}));var C=f-s.length,j=C<=0;return a.a.createElement("div",{className:l()(t,"resizable-textarea",{error:j,focus:w})},a.a.createElement("textarea",c({ref:O,onFocus:function(){return E(!0)},onBlur:function(){return E(!1)},rows:g,value:s,onChange:function(e){S(),i(e)}},y)),!p&&a.a.createElement("div",{className:"counter"},C))}f.defaultProps={minRows:2,maxRows:5,textareaLineHeight:24,onChange:function(){},characterLimit:2e3},f.propTypes={className:i.a.string,value:i.a.string.isRequired,minRows:i.a.number.isRequired,maxRows:i.a.number.isRequired,textareaLineHeight:i.a.number.isRequired,onChange:i.a.func.isRequired,characterLimit:i.a.number.isRequired,hideCharacterLimit:i.a.bool}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(10),m=n(8),d=n(2);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.toggleModal,n=e.modalProps,o=e.isGlobalModalContainer,i=void 0!==o&&o,s=n=n||{},l=s.className,m=s.component,p=s.disableClose,y=void 0!==p&&p,b=s.hideClose,g=void 0!==b&&b,h=s.animate,v=void 0===h||h,w=s.onCloseModal,E=void 0===w?function(){}:w,O=s.useGlobalModalContainer,S=void 0!==O&&O,C=s.disableScroll,j=void 0!==C&&C,k=f(Object(r.useState)(null),2),N=k[0],_=k[1];Object(r.useEffect)((function(){if(j)return document.body.classList.add("wp-modal-open"),function(){return document.body.classList.remove("wp-modal-open")}}),[j]),Object(d.a)(N,(function(){m&&!y&&(t(),E())}));var P=Object(r.useCallback)((function(e){y||"Escape"===(e.key||e.keyCode)&&(t(),E())}),[y,t,E]);if(Object(r.useEffect)((function(){return window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}}),[P]),!m)return null;if(i!==S)return null;var T=m;return a.a.createElement("div",{className:c()("wp-modal","modal-container",l)},a.a.createElement("div",{ref:function(e){return _(e)},className:c()("modal-content",{animate:v}),"aria-label":"Full screen modal"},!y&&!g&&a.a.createElement("button",{className:"btn-no-style",onClick:function(){t(),E()},"aria-label":"Close modal"},a.a.createElement(u.a,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),a.a.createElement(T,{toggleModal:t})))}y.propTypes={toggleModal:s.a.func.isRequired,isGlobalModalContainer:s.a.bool,modalProps:s.a.shape({className:s.a.string,component:s.a.func,disableClose:s.a.bool,hideClose:s.a.bool,animate:s.a.bool,onCloseModal:s.a.func,useGlobalModalContainer:s.a.bool,disableScroll:s.a.bool})};var b=Object(o.b)((function(e){return{modalProps:e.modal.modalProps}}),{toggleModal:m.b})(y);t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(0),a='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',o=function(e,t,n){var o=Object(r.useRef)(),i=Object(r.useRef)(),s=function(){if(e){var t=e.querySelectorAll(a);t.length>0&&(i.current=t[0],o.current=t[t.length-1])}},l=function(e,t,n){var r;document.activeElement===t.current&&(e.preventDefault(),null===(r=n.current)||void 0===r||r.focus())},c=function(e){"Tab"===e.key&&i.current&&o.current&&(e.shiftKey?l(e,i,o):l(e,o,i)),"Escape"===e.key&&t&&(e.preventDefault(),null==n||n(),null==t||t.focus())};return Object(r.useEffect)((function(){var t;if(e)return s(),null===(t=i.current)||void 0===t||t.focus(),e.addEventListener("tap",c),e.addEventListener("keydown",c),function(){e.removeEventListener("tap",c),e.removeEventListener("keydown",c)}}),[e]),{updateTabStops:s}}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(70),l=n(181),c=n(3),u=n(2),m=n(89),d=n(9);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t,n=e.formType,r=e.nextUrl,a=void 0===r?"/home":r,p=e.toggleFormView,y=Object(u.o)().trans,b=f(Object(o.useState)(!1),2),g=b[0],h=b[1],v=f(Object(o.useState)(!1),2),w=v[0],E=v[1],O=f(Object(o.useState)(!1),2),S=O[0],C=O[1],j=f(Object(o.useState)(!1),2),k=j[0],N=j[1],_=f(Object(o.useState)(!1),2),P=_[0],T=_[1],R=f(Object(o.useState)(),2),x=R[0],A=R[1],I=Object(o.useRef)(),L=Object(o.useRef)(),M=Object(o.useRef)(),D=Object(o.useRef)(),U=Object(o.useMemo)((function(){return Object(c.r)(c.d)}),[]),q=Object(o.useRef)((null===(t=window.app)||void 0===t?void 0:t.models)&&new window.app.models.Authsignup),B=function(e,t){t.toLowerCase().includes("username")?h(e):t.toLowerCase().includes("email")?E(e):t.toLowerCase().includes("password")?C(e):t.toLowerCase().includes("birthday")&&N(e)},F="/signup?nextUrl=".concat(a),W=y("I have read and agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>"),V=S&&w&&g&&k&&P,H=function(e,t,n){return i.a.createElement("div",{className:"field-label"},i.a.createElement("span",{className:"field-label-text"},e),i.a.createElement("div",{"aria-label":t,"data-tip":n},i.a.createElement(c.e,{height:"16",iconName:"fa-info",color:"wp-neutral-1",className:"tooltip-icon"})))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{id:"signupForm",action:F,method:"POST",onSubmit:function(e){e.preventDefault(),(S?w?g?k?P:(D.current.focus(),0):(I.current.focus(),0):(L.current.focus(),0):(M.current.focus(),0))&&$.ajax({type:"post",url:F,data:$("#signupForm").serialize()}).done((function(e){window.location.replace(e.redirectUrl).reload()})).fail((function(e){var t,n=(null===(t=e.responseJSON)||void 0===t?void 0:t.msg)||y("Something went wrong. Please try again");wattpad.utils.showToast(n,{type:"dismissable"})}))}},i.a.createElement(s.a,{className:"tool-tip",effect:"solid"}),i.a.createElement("input",{type:"hidden",name:"signup-from",value:"new_landing_signup"}),i.a.createElement("input",{type:"hidden",name:"form-type",value:n||""}),i.a.createElement("div",{className:"input-group-vertical"},H(y("Username"),"username hint",y("You do not have to use your real name. You can choose to use another name to protect your privacy.")),i.a.createElement(U,{name:"username",form:"signup",inputType:"text",title:y("Enter username"),inputRef:I,autofocus:!0,validationModel:q.current,showLabel:!0,onValid:function(e){return B(!0,e)},onInvalid:function(e){return B(!1,e)},onBlur:function(){var e;return(null===(e=wattpad)||void 0===e?void 0:e.testGroups.NEW_PW_POLICY_EMAIL_SIGNUP)&&A(I.current.value)}}),i.a.createElement(U,{name:"email",label:y("E-mail"),form:"signup",inputType:"text",title:y("Enter E-mail"),validationModel:q.current,inputRef:L,showLabel:!0,onValid:function(e){return B(!0,e)},onInvalid:function(e){return B(!1,e)}}),i.a.createElement(m.a,{username:x,validatePassword:C}),H(y("Birthday"),"why we ask for your birthday",y("You need to enter the date you were born. This information will only be visible to you and Wattpads Support teams.")),i.a.createElement("div",{className:"birthday-fields"},i.a.createElement(l.a,{inputRef:D,validationModel:q.current,onValid:function(){return B(!0,"birthday")},onInvalid:function(){return B(!1,"birthday")}})),i.a.createElement("div",{className:"email-policy-agreement-container"},i.a.createElement(c.j,{contentId:"policy-consent",required:!0,checked:P,onChange:function(){return T(!P)},color:"ds-base-2-60"}),i.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:W}}))),i.a.createElement(d.Button,{fullWidth:!0,disabled:!V,variant:d.ButtonVariant.PRIMARY,"aria-label":"Sign up with email"},y("Sign up with email"))),i.a.createElement("div",{className:"back-link-container"},i.a.createElement("button",{className:"back-link",onClick:p},i.a.createElement("span",{className:"fa fa-left fa-wp-neutral-1 back-icon"}),y("Back to all signup options"))))};y.propTypes={formType:a.a.string,nextUrl:a.a.string,toggleFormView:a.a.func.isRequired},t.a=y},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2),s=n(1),l=n.n(s),c=n(182),u=n(121);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.email,n=e.userId,s=e.hideModal,l=Object(i.o)().trans,d=m(Object(r.useState)(!1),2),f=d[0],p=d[1],y=m(Object(r.useState)(!1),2),b=y[0],g=y[1],h=m(Object(r.useState)(!1),2),v=h[0],w=h[1],E=function(e){wattpad.utils.stopEvent(e),s()},O=function(e){wattpad.utils.stopEvent(e),p(!0),g(!0)},S=function(e){wattpad.utils.stopEvent(e),$.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"},success:function(){w(!0),p(!0),g(!1)},error:function(){w(!1),p(!0),g(!1)}})},C=l("Please check your email %s to complete sign-up.",t)+" "+l("After you click the link in your email, you'll be able to:");return f?a.a.createElement(u.a,{isChangeEmailModal:b,email:t,userId:n,isSuccess:v,hideModal:s}):a.a.createElement("div",{className:"please-verify-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:E,"aria-label":l("Close"),tabIndex:"0"},a.a.createElement(o.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("h1",null,l("Please verify your email.")),a.a.createElement("div",{className:"modal-content"},a.a.createElement("p",{className:"modal-message"},C.split(t)[0],a.a.createElement("strong",null,t),C.split(t)[1]),a.a.createElement(c.a,null),a.a.createElement("div",{className:"button-wrapper"},a.a.createElement("form",null,a.a.createElement("div",null,a.a.createElement("button",{className:"btn-primary btn-md btn-change-email",onClick:O,"aria-label":l("Change email")},l("Change email")),a.a.createElement("button",{className:"btn-secondary btn-md btn-resend-email",onClick:S,"aria-label":l("Resend email")},l("Resend email")))))))}f.propTypes={email:l.a.string.isRequired,userId:l.a.number.isRequired,hideModal:l.a.func},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2);function c(e){var t=e.ctaType,n=Object(l.o)().trans;return a.a.createElement("a",{href:"https://www.wattpad.com/premium",className:"try-premium on-premium btn-primary",target:"_blank",rel:"noopener noreferrer",onClick:function(){window.te.push("event","subscriptions","cta",null,"view",{cta_type:t})}},a.a.createElement(s.e,{name:"zap",size:"20",className:"zap-icon",color:"ds-base-4-accent",fill:!0}),a.a.createElement("div",{className:"button-copy"},n("Try Premium")))}c.propTypes={ctaType:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(13),u=n(5),m=n(2),d=n(3),f=n(71);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.promoted,n=e.url,o=e.id,s=e.cover,l=e.title,y=e.user,b=e.categories,g=e.readCount,h=e.voteCount,v=e.commentCount,w=e.description,E=e.sponsorName,O=e.clickUrl,S=e.impressionUrl,C=e.isPaywalled,j=e.isCompleted,k=e.isMature,N=e.numParts,P=e.isMobile,T=e.isFeatureFlagged,R=e.descCharLimit,x=void 0===R?170:R,A=Object(m.o)().trans,I=p(Object(r.useState)(!1),2),L=I[0],M=I[1],D=Object(r.useRef)(),U=Object(u.g)(s,67);Object(r.useEffect)((function(){if(!L&&!P){var e=_.throttle((function(){if(D.current){var e=D.current.getBoundingClientRect(),t=e.top,n=e.bottom;t>=0&&n<=window.innerHeight&&(window.te.push("event","story",null,null,"view",{storyid:o,page:"story_details",type:"similar_stories",source:"story_details"}),M(!0))}}),300);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}}),[L,M,D,o,P]);return a.a.createElement("a",{className:i()("clearfix on-story-preview",{promoted:t}),href:Object(u.d)(n),onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:o,page:"story_details",type:"similar_stories",source:"story_details"}),app.router.navigate(t,{trigger:!0})}(e,Object(u.d)(n))},"data-story-id":o,ref:D,"data-impression-url":S,"data-click-url":O,"data-author-name":y?y.name:null},a.a.createElement("div",{className:"send-story-cover-event cover cover-sm","data-story-id":o},a.a.createElement("img",{srcSet:"".concat(Object(u.g)(s,80)," 1x, ").concat(Object(u.g)(s,100)," 1.5x, ").concat(Object(u.g)(s,144)," 2x, ").concat(Object(u.g)(s,176)," 2.5x, ").concat(Object(u.g)(s,200)," 3x"),src:U,alt:A("%1$s by %2$s",l,y?y.name:null)})),a.a.createElement("div",{className:"left-container"},C&&!T&&a.a.createElement("div",{className:"paid-indicator"},a.a.createElement(d.c,{name:"paid-content/supported-stories-badge.svg",title:"Paid Stories Badge",height:"18px",width:"18px"}),a.a.createElement("span",null,"Paid Story")),a.a.createElement("div",{className:"story-item-title-and-badge"},C&&T&&a.a.createElement(d.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}),a.a.createElement("div",{className:"title","aria-hidden":!0},Object(u.w)(l,45,!1))),T?a.a.createElement(f.a,{numParts:N,isCompleted:j,isMature:k}):a.a.createElement(a.a.Fragment,null,t?a.a.createElement("small",{className:"promoted left-icon"},a.a.createElement(d.e,{iconName:"fa-badge-promoted",height:"13",color:"wp-neutral-1"}),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:A("Promoted by %s",Object(c.sprintf)("<b>%s</b>",E))}})):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"meta"},a.a.createElement("span",{className:"reads small left-icon"},a.a.createElement(d.e,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),Object(u.b)(g)),a.a.createElement("span",{className:"votes small left-icon"},a.a.createElement(d.e,{name:"votes",size:"12",color:"wp-neutral-2",fill:!0}),Object(u.b)(h)),v&&a.a.createElement("span",{className:"comments small left-icon"},a.a.createElement(d.e,{name:"commentMeta",size:"14",color:"wp-neutral-2",fill:!0}),Object(u.b)(v))),a.a.createElement("div",{className:"categories"},b&&b.map((function(e){return a.a.createElement("button",{key:e,className:"btn btn-link btn-xxs btn-category"},a.a.createElement("span",null,e))}))))),w&&a.a.createElement("div",{className:"small story-item-description"},Object(u.w)(w,x,!1,{sanitization:"unsanitize"}))))}b.propTypes={promoted:l.a.bool,url:l.a.string,id:l.a.any,cover:l.a.string,title:l.a.string,user:l.a.object,categories:l.a.array,readCount:l.a.any,voteCount:l.a.any,commentCount:l.a.any,description:l.a.string,sponsorName:l.a.string,clickUrl:l.a.string,impressionUrl:l.a.string,isPaywalled:l.a.bool,isCompleted:l.a.bool,isMature:l.a.bool,numParts:l.a.number,isFeatureFlagged:l.a.bool,descCharLimit:l.a.any,isMobile:l.a.bool}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(11),u=n(40),m=n(85);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(v(e=o.call.apply(o,[this].concat(n))),"tagClickHandler",(function(t,n){window.wattpad.utils.stopEvent(t),window.app.trigger("app:component:TagCarouselItem:click",t.currentTarget.textContent,t),e.props.onTagClicked&&e.props.onTagClicked(n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.relatedTags.tags,n=this.props.relatedTags.withIcon||!1;return a.a.createElement("div",{className:l()("tag-carousel",this.props.className,{hidden:!((null==t?void 0:t.length)>0)})},a.a.createElement("div",{className:"tag-items"},null==t?void 0:t.map((function(t,r){return n?a.a.createElement(m.a,f({key:t.id},t,{clickHandler:e.tagClickHandler})):a.a.createElement(u.a,f({key:t.id,bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler}))}))))}},{key:"getNextTagColor",value:function(e,t){var n=e%c.m;return"bg"===t?c.l[n]:c.n[n]}}])&&y(t.prototype,n),r&&y(t,r),i}(a.a.Component);O.propTypes={relatedTags:i.a.object.isRequired,className:i.a.string,onTagClicked:i.a.func}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e){var t,n,r=e.username,o=e.toggleModal,i=e.blockUser,s=Object(c.o)().trans,m=s("This account will not be able to follow you, send you messages, post on your profile, or read or comment on your stories. This action can take 30 minutes to take effect."),d=l()("btn-primary",{"on-block-user":void 0===i});return void 0!==("undefined"==typeof window?"undefined":u(window))&&(t=document.querySelector(".block-modal"),n=document.querySelector(".dropdown-toggle")),Object(c.p)(t,n,o),a.a.createElement("div",{className:"block-modal-content"},a.a.createElement("h3",{className:"block-modal-title"},s("Block %s",r)),a.a.createElement("p",null,m),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-block",onClick:o},s("Cancel")),a.a.createElement("button",{className:d,onClick:function(){o(),i&&i(r)}},s("Block"))))};m.propTypes={username:i.a.string.isRequired,toggleModal:i.a.func.isRequired,blockUser:i.a.func},t.a=m},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(14),l=n.n(s),c=n(40),u=n(4),m=n.n(u),d=n(5);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=h(i);function i(){return y(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"tagClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaItem:click",e)}},{key:"numNotShownClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaNumNotShown:click",e)}},{key:"formatTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(l.a.isEmpty(e))return{};var n=l.a.clone(e),r={tags:[],numNotShown:Math.max(n.length-t,0)},a=null;if(n.length<=t)l.a.each(n,(function(e){r.tags.push({id:e,name:e,link:"/stories/".concat(e)})}));else for(;r.tags.length<t;)a=n.splice(Math.floor(Math.random()*n.length),1)[0],r.tags.push({id:a,name:a,link:"/stories/".concat(a)});return r}},{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.tagMeta,o=this.formatTags(r.tags,r.numShown),i=r.storyId||null,s=null;return o.numNotShown&&(s=a.a.createElement("span",{className:m()("num-not-shown",{"on-story-preview":i}),"data-story-id":i,onClick:this.numNotShownClickHandler,onKeyDown:this.numNotShownClickHandler,role:"button",tabIndex:"0"},n("+%s more",o.numNotShown))),o.tags&&o.tags.length>0?a.a.createElement("div",{className:"tag-meta clearfix"},a.a.createElement("ul",{className:"tag-items"},o.tags.map((function(t){return a.a.createElement("li",{key:t.id},a.a.createElement(c.a,p({},t,{clickHandler:e.tagClickHandler})))}))),s):null}}])&&b(t.prototype,n),r&&b(t,r),i}(a.a.Component);E.propTypes={tagMeta:i.a.shape({tags:i.a.arrayOf(i.a.string).isRequired,storyId:i.a.string,numShown:i.a.number}).isRequired,trans:i.a.func.isRequired},t.a=Object(d.n)(E)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.searchTerm,n=e.handleSearchSubmit,o=e.handleSaveSearchTerm,i=Object(s.o)().trans,u=c(Object(r.useState)(t),2),m=u[0],d=u[1],f=c(Object(r.useState)(!!t),2),p=f[0],y=f[1],b=Object(r.useRef)(null);return a.a.createElement("form",{role:"search","aria-label":i("Stories and people"),className:"search-bar",onSubmit:function(e){var t;e.preventDefault(),null==b||null===(t=b.current)||void 0===t||t.blur(),y(!!m),o(m),n(m)}},a.a.createElement(l.e,{className:"search-bar__icon",name:"search",size:"24"}),a.a.createElement("input",{className:"search-bar__input",type:"search",value:m,onChange:function(e){d(e.target.value)},placeholder:i("Search for stories and people"),minLength:"1",spellCheck:"false",autoComplete:"off",ref:b,size:"10"}),p&&a.a.createElement("a",{href:"/search",className:"search-bar__cancel",onClick:function(e){e.preventDefault(),y(!1),app.router.navigate("/search",{trigger:!0})}},i("Cancel")))};m.defaultProps={handleSearchSubmit:function(){},handleSaveSearchTerm:function(){}},m.propTypes={searchTerm:i.a.string,handleSearchSubmit:i.a.func.isRequired,handleSaveSearchTerm:i.a.func},t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(76),c=n(2),u=n(71),m=n(88);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.id,n=e.title,o=e.cover,i=e.description,f=e.completed,p=e.isPaywalled,y=e.mature,b=e.readCount,g=e.voteCount,h=e.numParts,v=e.length,w=e.language,E=e.searchTerm,O=e.index,S=e.sources,C=e.viewedStories,j=e.pushViewEvent,k=e.isMobile,N=Object(c.o)().trans,P=Object(l.a)()&&window.innerWidth<575,T=d(Object(r.useState)(!1),2),R=T[0],x=T[1],A=Object(r.useRef)(),I=Object(r.useRef)(!1),L=P?"14":"16",M=[{icon:"views",label:N("Reads"),size:L,viewBox:"16",value:b},{icon:"votesBeta",label:N("Votes"),size:L,viewBox:"16",value:g},{icon:"partsBeta",label:N("Parts"),size:L,viewBox:"16",value:h}];if(1===w){var D=Object(s.c)(Object(s.k)(v));M.push({icon:"readTime",label:N("Time"),size:L,viewBox:"16",hoursVal:D.hours,minutesVal:D.minutes})}Object(r.useEffect)((function(){if(!(k||R||C.includes(t)||!0===I.current)){var e=_.throttle((function(){if(A.current){var e=A.current.getBoundingClientRect(),n=e.top,r=e.bottom,a=.5*e.height;A.current.offsetParent&&(n>=0&&r<=window.innerHeight||n<=0&&r>0&&r>=a||r>=window.innerHeight&&n<window.innerHeight&&window.innerHeight-n>=a)&&(x(!0),I.current=!0,j(t,O,S))}}),300);return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}}),[R,t,O,k,j,E,S,C]);var U=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"cover"},a.a.createElement("img",{src:Object(s.t)(o,Object(s.f)(t)),alt:""})),a.a.createElement("div",{className:"story-info"},a.a.createElement("span",{className:"sr-only"},n),a.a.createElement("div",{className:"title","aria-hidden":"true"},n),a.a.createElement(u.a,{isPaid:p,isCompleted:f,isMature:y,paidIconPropsOverrides:{color:"ds-neutral-100"}}),a.a.createElement(m.a,{statsItems:M,showTooltip:!1}),e&&a.a.createElement("div",{className:"description"},i)))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"story-card",onClick:function(e){return function(e){var n="/story/".concat(t);e.preventDefault(),window.te.push("event","search","story",null,"click",{storyid:t,search:E,position:O}),window.te.push("event","story",null,null,"click",{storyid:t,page:"search",position:O,query:[E],algo_source:S}),app.router.navigate(n,{trigger:!0})}(e)},href:"/story/".concat(t),ref:A},a.a.createElement("div",{className:"story-card-data shown-xxs","data-id":t},a.a.createElement("div",{className:"top-section"},U(!1,100)),a.a.createElement("div",{className:"description"},i)),a.a.createElement("div",{className:"story-card-data hidden-xxs","data-id":t},U(!0,144))))}p.propTypes={id:i.a.oneOfType([i.a.string,i.a.number]),title:i.a.string,cover:i.a.string,description:i.a.string,completed:i.a.bool,isPaywalled:i.a.bool,mature:i.a.bool,readCount:i.a.number,voteCount:i.a.number,numParts:i.a.number,length:i.a.number,language:i.a.number,searchTerm:i.a.string,index:i.a.number,sources:i.a.oneOfType([i.a.string,i.a.array]),viewedStories:i.a.array,pushViewEvent:i.a.func,isMobile:i.a.bool}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=n(3),u=function(e){var t=e.suggestedSearchTerms,n=void 0===t?[]:t,r=Object(s.o)().trans;return n&&n.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"recent-searches__heading"},r("Recent Searches")),a.a.createElement("ul",{className:"recent-searches__results-list"},n.map((function(e,t){return a.a.createElement("li",{key:t,className:"recent-searches__list-item"},a.a.createElement("a",{className:"recent-searches__item-link on-navigate",href:"/search/".concat(wattpad.utils.urlEncodeWithSpace(e))},a.a.createElement(c.e,{className:"recent-searches__item-icon",name:"search",size:"16"}),a.a.createElement("span",{className:"sr-only"},e),a.a.createElement("span",{"aria-hidden":!0},Object(l.w)(e,30,!1))))}))))};u.propTypes={suggestedSearchTerms:i.a.array},t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(e){var t=e.bannerMessages,n=void 0===t?[]:t;return n.length>0&&a.a.createElement("div",{className:"educational-banner"},n.map((function(e,t){return a.a.createElement("div",{className:"educational-banner__message",key:t,dangerouslySetInnerHTML:{__html:e}})})))}s.propTypes={bannerMessages:i.a.arrayOf(i.a.string)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(187),c=n(39);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=["anytime","day","week","month","year"],f=function(e){var t=e.selectedOptions,n=e.handleFilterChange,o=Object(s.o)().trans,i=u(Object(l.a)(d,"anytime",t),2),m=i[0],f=i[1],p=Object(r.useRef)(!0);Object(r.useEffect)((function(){p.current?p.current=!1:n(m,"age")}),[m,n]);var y=function(e){f(e.currentTarget.checked?"APPLY":"REMOVE",e.currentTarget.value)};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},o("Last updated")+" "+o("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},o("Last updated")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},o("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(c.a,{value:"anytime",checked:m.anytime,onChange:y,contentId:"lastUpdated1"},o("Anytime")),a.a.createElement(c.a,{value:"day",checked:m.day,onChange:y,contentId:"lastUpdated2"},o("Today")),a.a.createElement(c.a,{value:"week",checked:m.week,onChange:y,contentId:"lastUpdated3"},o("This week")),a.a.createElement(c.a,{value:"month",checked:m.month,onChange:y,contentId:"lastUpdated4"},o("This month")),a.a.createElement(c.a,{value:"year",checked:m.year,onChange:y,contentId:"lastUpdated5"},o("This year"))))};f.defaultProps={handleFilterChange:function(){},selectedOptions:{}},f.propTypes={handleFilterChange:i.a.func,selectedOptions:i.a.object},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(2),c=function(e){var t=e.browseTopics,n=void 0===t?[]:t,r=Object(l.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"browse-title"},r("Browse Categories")),a.a.createElement("div",{className:"topics-container"},n.map((function(e){var t=e.name,n=e.topic,r=e.browseURL,o=e.image,i=r?Object(s.d)(r):"/stories/".concat(t);return a.a.createElement("a",{key:t,href:i,className:"browse-topic-tile",style:o?{backgroundImage:"url(".concat(o,")")}:{},onClick:function(e){return function(e,t,n){e.preventDefault(),window.te.push("event","browse","item",null,"click",{page:"search",target:t}),app.router.navigate(n,{trigger:!0})}(e,t,i)}},n)}))))};c.propTypes={browseTopics:i.a.array},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(6),a=n(4),o=n.n(a),i=n(1),s=n.n(i),l=n(0),c=n.n(l),u=n(10),m=n(2);function d(e){var t=e.subtitle,n=e.closeModal,r=e.isStandalonePage,a=Object(m.o)().trans;return c.a.createElement("div",{className:"form-header"},!r&&c.a.createElement("button",{className:"close-btn",onClick:n,"aria-label":"Close modal"},c.a.createElement(u.a,{name:"close",size:"24",color:"wp-neutral-5"})),c.a.createElement("div",{className:"centered-text"},c.a.createElement("h2",{dangerouslySetInnerHTML:{__html:a("the<span class='mediumbold'>wattys</span>2022")}}),c.a.createElement("div",{className:"subtitle bold"},t)))}d.propTypes={subtitle:s.a.string.isRequired,closeModal:s.a.func,isStandalonePage:s.a.bool.isRequired};var f=n(59),p=n(14),y=n.n(p);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.children,n=e.validationRules,r=Object(l.useRef)(null),a=b(Object(l.useState)(null),2),o=a[0],i=a[1];return Object(m.d)("blur",(function(){var e,t=r.current.value;y.a.each(n,(function(n){if(!n.rule(t))return e=n.errorMessage,!1})),e?i(e):o&&i(null)}),r.current),t({ref:r,errorMessage:o,className:o?"error-field":""})}var v=n(3),w=n(21),E=n(19),O=function(e){var t=e.isStandalonePage,n=void 0!==t&&t,r=e.closeModal,a=e.formState,o=Object(m.o)().trans,i=o("Congratulations! You have been entered\ninto the 2022 Watty Awards."),s=Object(E.d)(o,a.data.contest_submission.award_category);if(a.isLoading)return c.a.createElement("div",{className:"loading-spinner"},c.a.createElement(v.f,null));var l=function(){window.te.push("event","wattys","banner",null,"view",{storyid:parseInt(a.data.story_id),type:"confirmed_submission",page:"story_details"}),r()};return c.a.createElement("div",{id:"submission-success"},c.a.createElement(d,{subtitle:i,closeModal:l,isStandalonePage:n}),c.a.createElement("div",{className:"form-deadline"},c.a.createElement("div",{className:"deadline-text",dangerouslySetInnerHTML:{__html:o('<a target="_blank" href="%s">When will winners be announced?</a>',w.k[parseInt(app.get("language"),10)])}})),c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"content"},c.a.createElement("h3",{className:"black bold"},o("Share the exciting news with your readers!")))),c.a.createElement("div",{className:"main-container-cover"},c.a.createElement("div",{className:"content"},c.a.createElement("h5",{className:"bold"},o("I entered my story in the 2022 Wattys!")),c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:a.cover,alt:"story cover"})),c.a.createElement("h6",{dangerouslySetInnerHTML:{__html:o("<span class='bold'>%s</span><br>by @%s",a.title,a.user)}}))),c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"submission-info-text",dangerouslySetInnerHTML:{__html:o("Your story has been submitted in the <strong>%s</strong> category for the 2022 Watty Awards",s)}}),c.a.createElement("div",{className:"submission-info-text",dangerouslySetInnerHTML:{__html:o("<span class='bold'>Good luck and happy writing!</span>")}})),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:l,className:"btn btn-primary"},o("Done"))))))};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}O.propTypes={isStandalonePage:s.a.bool,closeModal:s.a.func,formState:s.a.object};var T=!1;function R(e){var t=e.submitForm,n=e.closeModal,r=e.isStandalonePage,a=e.storyId,i=e.setContestForm,s=e.formState,u=e.formIsOpen,f=s.data,p=s.hasSubmitted,y=s.isLoading,b=p||y||!u,g=N(Object(l.useState)(f.contest_submission),2),O=g[0],S=g[1],_=N(Object(l.useState)(""),2),P=_[0],R=_[1],x=N(Object(l.useState)(""),2),A=x[0],I=x[1],L=N(Object(l.useState)(!1),2),M=L[0],D=L[1],U=N(Object(l.useState)({fieldName:"",fieldInvalid:!1}),2),q=U[0],B=U[1],F=N(Object(l.useState)(!1),2),W=F[0],V=F[1];Object(l.useEffect)((function(){S(f.contest_submission),I(w.g[parseInt(app.get("language"),10)]),2===parseInt(app.get("language"),10)&&D(!0)}),[f.contest_submission]);var H=Object(m.o)().trans;var z=Object(l.useCallback)((function(e){var t,n=e.target,r=n.name,a=n.checked;B({fieldName:"mature_themes",fieldInvalid:!1}),a?O.mature_themes.includes("none")?(t=O.mature_themes.filter((function(e){return"none"!==e})),t=[].concat(k(t),[r])):t="none"===r?["none"]:[].concat(k(O.mature_themes),[r]):t=O.mature_themes.filter((function(e){return e!==r})),V(0===t.length),S(C(C({},O),{},"other"===r||"none"===r&&!0===a?{mature_themes:t,others:C(C({},O.others),{},{mature_themes:""})}:{mature_themes:t}))}),[O]);function $(e){var t=e.target,n=t.name,r=t.value;B({fieldName:n,fieldInvalid:!1}),S(C(C({},O),{},{others:C(C({},O.others),{},j({},n,r))}))}var Y=function(e){var t=e.target,n=t.name,r=0!==t.value;"is_exclusive"!=n&&"is_final_consent"!=n||(r=e.target.checked),S(C(C({},O),{},j({},n,r)))};function G(e){var t,n=e.target,r=n.name,a=n.value;if("language"===r)B({fieldName:"language",fieldInvalid:!1}),S(C(C({},O),{},(j(t={},r,a),j(t,"award_category",""),j(t,"subgenre",""),t)));else if("award_category"===r){var o;S(C(C({},O),{},(j(o={},r,a),j(o,"subgenre",""),o)))}else B({fieldName:r,fieldInvalid:!1}),S(C(C({},O),{},j({},r,a)))}function K(e){var t=e.target,n=t.name,r=t.value;B({fieldName:n,fieldInvalid:!1}),S(C(C({},O),{},{plot_details:C(C({},O.plot_details),{},j({},n,r))}))}function Z(e){var t=e.target,n=t.name,r=t.value;B({fieldName:n,fieldInvalid:!1}),S(C(C({},O),{},{plot_details:C(C({},O.plot_details),{},j({},n,r))}))}function J(e){var t=e.target,n=t.name,r=t.value;B({fieldName:n,fieldInvalid:!1}),S(C(C({},O),{},j({},n,r)))}return y&&p?c.a.createElement("div",{className:"loading-spinner"},c.a.createElement(v.f,null)):c.a.createElement("div",{id:"contest-form"},c.a.createElement("form",null,c.a.createElement("div",{className:o()("overflow-container",{disabled:y})},c.a.createElement(d,{subtitle:H("Thank you for your interest in the 2022 Watty Awards. In order to be considered for this year's awards, complete the following submission form."),closeModal:n,isStandalonePage:r}),c.a.createElement("div",{className:"form-deadline"},c.a.createElement("div",{className:"deadline-text",dangerouslySetInnerHTML:{__html:H('Submissions are due by August 19th, 2022. For full eligibility criteria, refer to the <a href=%s target="_blank" rel="noopener noreferrer">Rules and Regulations</a>.',A)}})),c.a.createElement("div",{className:"form-content"},!u&&c.a.createElement("div",{className:"form-message-box",dangerouslySetInnerHTML:{__html:H("The 2022 Watty Awards are now closed. Thanks for your participation!")}}),p&&c.a.createElement("div",{className:"form-message-box",dangerouslySetInnerHTML:{__html:H("You are viewing your submission for the <strong>%s</strong> category in the 2022 Watty Awards. Changes cannot be made.",Object(E.d)(H,s.data.contest_submission.award_category))}}),!p&&u&&c.a.createElement("div",{className:"form-title",id:"form-title",dangerouslySetInnerHTML:{__html:H("We need a few more details about the story you are entering:<br><span class='bold'>%s</span>",s.title)}}),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Language")),c.a.createElement("div",{className:"subtitle"},H("Select the award language you wish to be considered for. Stories that do not fit under any of the languages listed below will not be eligible to win.")),c.a.createElement(h,{validationRules:[Object(E.h)(H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{id:"language-select",ref:t,value:O.language,name:"language",disabled:b,className:o()("form-element",r),onChange:G,"aria-label":H("Select a language")},c.a.createElement("option",{value:"",disabled:!0},H("Select a language")),Object(w.j)(H).map((function(e){return c.a.createElement("option",{key:e.code,value:e.code},e.value)}))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(q.fieldInvalid||"language"!==q.fieldName&&""!==q.fieldName&&T)&&""===O.language&&c.a.createElement("div",{className:"error-text",id:"language-field-error"},H("This field is required.")))}))),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Award category")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:H("Select the award category you wish to be considered for. If you don't see a category that you feel matches your story exactly, please submit under the category that you think is the closest match.")}}),c.a.createElement(h,{validationRules:[Object(E.h)(H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:t,id:"award-category-select",value:O.award_category,name:"award_category",disabled:b,className:o()("form-element",r),onChange:G,"aria-label":H("Select a category")},c.a.createElement("option",{value:"",disabled:!0},H("Select a category")),Object(w.d)(H).filter(Object(E.a)(O.language)).map((function(e){return c.a.createElement("option",{key:e.key,value:e.key},e.value)}))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==q.fieldInvalid||"award_category"!=q.fieldName&&""!=q.fieldName&&T)&&""==O.award_category&&c.a.createElement("div",{className:"error-text",id:"award-category-field-error"},H("This field is required.")))}))),function(){var e=Object(E.c)(H,O.award_category);if(""===O.award_category||e.length>0)return c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Story subgenre")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:H('Subgenre declaration helps us learn more about your story and does not influence winners chosen for award categories. For more information on subgenres click <a href=%s target="_blank" rel="noopener noreferrer">HERE</a>',"https://www.wattpad.com/480647104-community-news-updates-profile-directory-explore")}}),c.a.createElement("select",{id:"subgenre-select",value:O.subgenre,name:"subgenre",disabled:b,className:"form-element",onChange:G,"aria-label":H("Select a subgenre")},c.a.createElement("option",{value:""},H("Select a subgenre")),e.map((function(e){return c.a.createElement("option",{key:e.key,value:e.key},e.value)}))))}(),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Mature themes")),c.a.createElement("div",{className:"subtitle"},H("Select the themes that your story contains.")),c.a.createElement("div",{id:"mature-themes"},Object(w.e)(H,M).map((function(e){return c.a.createElement("div",{className:"checkbox-group",key:e.key},c.a.createElement(v.j,{name:e.key,disabled:b,onChange:z,contentId:"mature-themes-".concat(e.key),checked:O.mature_themes.includes(e.key)},e.value))}))),W&&!b&&c.a.createElement("div",{className:"error-text"},H("You must pick at least 1")),!W&&(1==q.fieldInvalid||"mature_themes"!=q.fieldName&&""!=q.fieldName&&T)&&0==O.mature_themes.length&&c.a.createElement("div",{className:"error-text"},H("This field is required.")),O.mature_themes.includes("other")&&c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Mature themes")),c.a.createElement(h,{validationRules:[Object(E.h)(H),Object(E.f)(w.l,H)]},(function(e){var t,n=e.ref,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:n,className:o()("form-element",r),id:"other-themes-textarea",name:"mature_themes",value:O.others.mature_themes,placeholder:H("Enter your mature themes"),disabled:b,onChange:$}),""===O.others.mature_themes&&c.a.createElement("div",{className:"error-text",id:"other-theme-error"},H("Specify other mature themes.")),(null===(t=O.others.mature_themes)||void 0===t?void 0:t.length)>w.l&&c.a.createElement("div",{className:"error-text"},H("This field has to contain less than 100 characters.")))})))),O.mature_themes.includes("sex")&&c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"story-maturity-title-container"},c.a.createElement("h4",null,H("Story Maturity")),c.a.createElement("button",{id:"content-tooltip",className:"icon-container on-contest-popover popover-icon"},c.a.createElement(v.e,{iconName:"fa-warning",height:"17",color:"wp-neutral-2"}))),c.a.createElement("div",{className:"subtitle"},H("Select one of the story maturity ratings:")),c.a.createElement(h,{validationRules:[Object(E.h)(H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:t,id:"maturity-rating-select",value:O.sexual_content,name:"sexual_content",disabled:b,className:o()("form-element sexual-content",r),onChange:G,"aria-label":H("Select a maturity level")},c.a.createElement("option",{value:"",disabled:!0},H("Select a maturity level")),Object(w.f)(H).map((function(e){return c.a.createElement("option",{key:e.key,value:e.key},e.value)}))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==q.fieldInvalid||"sexual_content"!=q.fieldName&&""!=q.fieldName&&T)&&""==O.sexual_content&&c.a.createElement("div",{className:"error-text",id:"maturity-rating-field-error"},H("This field is required.")))}))),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Target Audience")),c.a.createElement("div",{className:"subtitle"},H("Tell us what age group your story is intended for.")),c.a.createElement(h,{validationRules:[Object(E.h)(H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:t,id:"target-audience-select",value:O.target_audience,name:"target_audience",disabled:b,className:o()("form-element",r),onChange:G,"aria-label":H("Select an audience")},c.a.createElement("option",{value:"",disabled:!0},H("Select an audience")),Object(w.h)(H).map((function(e){return c.a.createElement("option",{key:e.key,value:e.key},e.value)}))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==q.fieldInvalid||"target_audience"!=q.fieldName&&""!=q.fieldName&&T)&&""==O.target_audience&&c.a.createElement("div",{className:"error-text",id:"target-audience-field-error"},H("This field is required.")))}))),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Logline")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:H("Give us a one-sentence description of your story that conveys the dramatic narrative and hook. It should follow the below format:<br>[Character Name], [Character Description], has to [Action] in order to [Result].")}}),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:H("Ex. Cleopatra, <strong>a</strong> zombified ruler of Egypt, <strong>has to</strong> resist the temptation of eating Mark Antony, <strong>in order to</strong> not change the course of Egypt's future.")}}),c.a.createElement(h,{validationRules:[Object(E.h)(H),Object(E.f)(w.b,H),Object(E.g)(w.c,H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,id:"logline-textarea",className:o()("form-element",r),name:"logline",value:O.plot_details.logline,placeholder:H("Enter your logline"),disabled:b,onChange:Z}),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==q.fieldInvalid||"logline"!=q.fieldName&&""!=q.fieldName&&T)&&""==O.plot_details.logline&&c.a.createElement("div",{className:"error-text",id:"logline-feild-error"},H("This field is required.")))}))),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Plot Summary")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:H("How to Write a Story Summary:<br/>Your summary should be at least 750 words, introduce the main character(s) and tell us everything that happens in the story.<br/>Who, what, where? Introduce us to your hero, the conflict, and the world. Tell us about your villain and the most important secondary characters.<br/>What happens next? Tell us all of the events of the story - this can be in point-form and does not have to describe the actions of each individual chapter.<br/>How does it end? Tell us how the story resolves and what happens to each of the central characters.")}}),"en"===O.language&&c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:H("If you are submitting a Sequel (which should <i>only</i> be submitted to the Sequels Category), please also give us a summary of the previous book(s) in the series.")}}),c.a.createElement(h,{validationRules:[Object(E.h)(H),Object(E.g)(w.n,H),Object(E.f)(w.m,H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,id:"summary-textarea",className:o()("form-element",r),name:"summary",value:O.plot_details.summary,disabled:b,onChange:K,placeholder:H("Enter your plot summary")}),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==q.fieldInvalid||"summary"!=q.fieldName&&""!=q.fieldName&&T)&&""==O.plot_details.summary&&c.a.createElement("div",{className:"error-text",id:"summary-field-error"},H("This field is required.")))}))),!p&&c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"form-title form-title-width-limited",id:"second-header",dangerouslySetInnerHTML:{__html:H("There are just a few more things to answer to complete your submission for the <strong>thewattys2022</strong>",s.title)}})),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Exclusivity")),c.a.createElement("div",{className:"subtitle"},H("If you are notified that your story has been selected for the Wattys shortlist, it is expected that your story be exclusive to Wattpad for the period between when we tell you youre on the shortlist until the date we announce the winners. If you are notified that your story has won a Watty, it is expected that your story be exclusive to Wattpad for 1 year from the date that we announce the Wattys winners. You will not be permitted to upload it to another platform and you will be required to remove it from existing platforms.")),c.a.createElement("div",{className:"subtitle"},H("I agree to make the story exclusive on Wattpad for the periods of time listed above, if my story is selected for the shortlist and/or wins a Watty.")),c.a.createElement("div",{className:"checkbox-group",id:"is-exclusive-select"},c.a.createElement(v.j,{name:"is_exclusive",disabled:b,checked:O.is_exclusive,onChange:Y,contentId:"is-exclusive-message"},H("I agree"))),(1==q.fieldInvalid||"is_exclusive"!=q.fieldName&&""!=q.fieldName&&T)&&0==O.is_exclusive&&c.a.createElement("div",{className:"error-text",id:"exclusivity-error"},H("This checkbox is required."))),c.a.createElement("div",{className:"inline-row"},c.a.createElement("h4",null,H("Email")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:H("What is the best email for us to contact you about your entry?")}}),c.a.createElement(h,{validationRules:[Object(E.h)(H),Object(E.f)(w.a,H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"email",ref:t,id:"preferred-email-input",className:o()("form-element",r,"half-width"),name:"preferred_email",value:O.preferred_email,placeholder:H("Email address"),disabled:b,onChange:J}),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==q.fieldInvalid||"preferred_email"!=q.fieldName&&""!=q.fieldName&&T)&&""==O.preferred_email&&c.a.createElement("div",{className:"error-text",id:"preferred-email-field-error"},H("This field is required.")))})),!p&&c.a.createElement("div",{className:"secondary-email"},c.a.createElement(h,{validationRules:[Object(E.h)(H),Object(E.f)(w.a,H)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"email",ref:t,id:"confirm-email-input",className:o()("form-element",r,"half-width"),name:"email_confirm_field",value:P,placeholder:H("Confirm email address"),disabled:b,onChange:function(e){var t=e.target.value;return R(t)}}),n&&c.a.createElement("div",{className:"error-text"},n),!p&&!n&&(1==q.fieldInvalid||T)&&""==P&&c.a.createElement("div",{className:"error-text",id:"confirm-email-field-error"},H("This field is required.")),!p&&O.preferred_email!=P&&c.a.createElement("div",{className:"error-text",id:"matching-email-error"},H("These two fields must match.")))}))))),c.a.createElement("div",{className:"footer-section-submission"},c.a.createElement("div",{className:"checkbox-group",id:"final-consent-checkbox"},c.a.createElement(v.j,{disabled:b,name:"is_final_consent",onChange:Y,checked:O.is_final_consent,contentId:"consent-checkbox-message"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:H('I confirm that I\'ve read, understood, and agree to the contest <a class="bold" target="_blank" rel="noopener noreferrer" href="%s">Rules and Regulations</a>.',A)}}))),(1==q.fieldInvalid||"is_final_consent"!=q.fieldName&&""!=q.fieldName&&T)&&0==O.is_final_consent&&c.a.createElement("div",{className:"error-text",id:"final-consent-error"},H("This field is required.")),c.a.createElement("div",{className:"subtitle-small"},H("Ready to hit submit? Please note that once youve submitted your story, you wont be able to resubmit the same one, so make sure your story is Wattys ready. This information will be kept confidential and is for internal purposes only.")),r&&p?null:c.a.createElement("div",{className:"btn-container"},!p&&u&&c.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),T=!0,function(e){return 0===e.award_category.length||0===e.language.length||0===e.mature_themes.length||e.mature_themes.includes("other")&&""===e.others.mature_themes||e.mature_themes.includes("sex")&&""===e.sexual_content||""===e.target_audience||""===e.plot_details.summary||""===e.plot_details.logline||""===e.preferred_email||""===P||P!==e.preferred_email||!e.is_exclusive||!e.is_final_consent}(O)&&B({fieldInvalid:!0});var n=Object(E.b)(parseInt(a),O);!b&&O.plot_details.logline&&Object(E.e)(O.plot_details.logline)<=w.b&&Object(E.e)(O.plot_details.logline)>=w.c&&O.award_category&&(!O.mature_themes.includes("sex")||O.sexual_content)&&O.target_audience&&O.language&&O.plot_details.summary&&Object(E.e)(O.plot_details.summary)>=w.n&&Object(E.e)(O.plot_details.summary)<=w.m&&O.preferred_email&&Object(E.e)(O.preferred_email)<=w.a&&P&&Object(E.e)(P)<=w.a&&O.preferred_email===P&&0!=O.mature_themes.length&&!W&&(!O.mature_themes.includes("other")||0!=O.others.mature_themes.length)&&Object(E.e)(O.others.mature_themes)<=w.l&&0!=O.is_exclusive&&0!=O.is_final_consent&&i(a,n).then((function(e){t(e)}))},className:"btn btn-primary submit-btn"},H("Enter the 2022 Wattys!")))))))}R.propTypes={submitForm:s.a.func.isRequired,closeModal:s.a.func.isRequired,isStandalonePage:s.a.bool.isRequired,fetchContestForm:s.a.func,setContestForm:s.a.func,storyId:s.a.string,formIsOpen:s.a.bool,formState:s.a.shape({isLoading:s.a.bool.isRequired,hasSubmitted:s.a.bool.isRequired,cover:s.a.string.isRequired,user:s.a.string.isRequired,title:s.a.string,data:s.a.shape({story_id:s.a.number,contest_submission:s.a.shape({contest:s.a.string,award_category:s.a.string.isRequired,target_audience:s.a.string.isRequired,is_exclusive:s.a.bool,is_final_consent:s.a.bool,mature_themes:s.a.arrayOf(s.a.string).isRequired,language:s.a.string.isRequired,preferred_email:s.a.string,others:s.a.shape({mature_themes:s.a.string}),plot_details:s.a.shape({summary:s.a.string.isRequired,logline:s.a.string.isRequired}).isRequired})}),language:s.a.number})},R.defaultProps={formIsOpen:(new Date).getTime()<w.o};var x=function(e){var t=e.success,n=e.isStandalonePage,r=e.closeModal,a=e.storyId,o=e.formState,i=e.fetchContestForm,s=e.setContestForm,u=N(Object(l.useState)("form"),2),m=u[0],d=u[1];return Object(l.useEffect)((function(){a&&i(a)}),[a,i]),"success"===m||t?c.a.createElement(O,{isStandalonePage:n,formState:o,closeModal:r}):c.a.createElement(R,{storyId:a,closeModal:r,formState:o,setContestForm:s,isStandalonePage:n,submitForm:function(e){n?window.location.href="/contests/".concat(window.wattpad.wattysActiveKey,"?storyId=").concat(a,"&success=true&hasAddedWattysTag=").concat(e):d("success")}})};x.defaultProps={success:!1,isStandalonePage:!1,closeModal:function(){},storyId:""},x.propTypes={formState:s.a.object,fetchContestForm:s.a.func,setContestForm:s.a.func,closeModal:s.a.func,success:s.a.bool,hasAddedWattysTag:s.a.bool,isStandalonePage:s.a.bool,storyId:s.a.string};var A=Object(r.b)((function(e){return{formState:C({},e.contestForm)}}),{fetchContestForm:f.b,setContestForm:f.e})(x)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(3),c=function(e){var t=e.msg,n=e.nextUrl,r=void 0===n?"/home":n,a=e.notice,o=e.toggleFormView,c="/login?nextUrl=".concat(r),u=Object(s.o)().trans;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{id:"login-form",action:c,method:"POST"},i.a.createElement("div",{className:"input-group-vertical"},i.a.createElement(l.d,{name:"username",label:u("Username or Email"),form:"login",inputType:"text",showLabel:!0,autofocus:!0}),i.a.createElement(l.d,{name:"password",label:u("Password"),form:"login",inputType:"password",showVisibilityToggle:!0,showLabel:!0})),i.a.createElement("input",{type:"submit",className:"btn btn-lg btn-primary btn-block enable submit-btn",value:u("Log in")})),i.a.createElement("div",{className:"password-forgot"},i.a.createElement("a",{href:"/forgot?nextUrl=".concat(r)},u("Forgot password?"))),t&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(l.e,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),t),a&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(l.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),a),i.a.createElement("div",{className:"back-link-container"},i.a.createElement("button",{className:"back-link",onClick:o},i.a.createElement("span",{className:"fa fa-left fa-wp-neutral-1 back-icon"}),u("Back to all login options"))))};c.propTypes={msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,toggleFormView:a.a.func};var u=c,m=n(192),d=function(e){var t=e.focus,n=e.msg,r=e.nextUrl,a=void 0===r?"/home":r,o=e.notice,c=e.toggleFormView,u=Object(s.o)().trans;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{source:"login",nextUrl:a,focus:t}),i.a.createElement("div",{className:"hr-with-text"},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," OR "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:"btn-block btn-primary",onClick:c},u("Log in")),i.a.createElement("div",{className:"password-forgot"},i.a.createElement("a",{href:"/forgot?nextUrl=".concat(a)},u("Forgot password?"))),n&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(l.e,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),n),o&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(l.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),o))};d.propTypes={focus:a.a.bool,msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,toggleFormView:a.a.func};var f=d;function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.focus,n=void 0===t||t,r=e.msg,a=e.nextUrl,l=void 0===a?"/home":a,c=e.notice,m=e.toggleForm,d=Object(s.o)().trans,y=p(Object(o.useState)(!1),2),b=y[0],g=y[1],h=function(){return g(!b)};return i.a.createElement("div",{id:"authentication-panel",className:"login-form"},i.a.createElement("p",{className:"title"},d("Log in to Wattpad")),i.a.createElement("div",{className:"panel-body"},b?i.a.createElement(u,{msg:r,nextUrl:l,notice:c,toggleFormView:h}):i.a.createElement(f,{focus:n,msg:r,nextUrl:l,notice:c,toggleForm:m,toggleFormView:h})),i.a.createElement("footer",{className:"signup-link"},i.a.createElement("span",null,d("Don't have an account? "),i.a.createElement("button",{className:"signup-link__btn",onClick:m},d("Sign up")))))};b.propTypes={focus:a.a.bool,msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,toggleForm:a.a.func};t.a=b},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(163),l=n(4),c=n.n(l),u=n(2),m=n(192),d=function(e){var t=e.focus,n=e.nextUrl,r=void 0===n?"/home":n,a=e.toggleForm,o=e.toggleFormView,s=Object(u.o)().trans,l=s("By continuing, you agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>.");return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{source:"signup",nextUrl:r,focus:t}),i.a.createElement("div",{className:"hr-with-text"},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," OR "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:"btn-block btn-primary submit-btn",onClick:o},s("Sign up with Email")),i.a.createElement("p",null,s("If you already have an account, "),i.a.createElement("button",{className:"login",onClick:a},s("Log in."))),i.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:l}}))};d.propTypes={focus:a.a.bool,nextUrl:a.a.string,toggleForm:a.a.func.isRequired,toggleFormView:a.a.func.isRequired};var f=d;function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.focus,n=void 0===t||t,r=e.formType,a=e.nextUrl,l=void 0===a?"/home":a,m=e.subtitle,d=e.title,y=e.toggleForm,b=Object(u.o)().trans,g=p(Object(o.useState)(!1),2),h=g[0],v=g[1],w=function(){return v(!h)};return i.a.createElement("div",{id:"authentication",className:c()("signup-form",{sidebar:"sidebar"===r})},"sidebar"!==r&&i.a.createElement("h1",{className:"title"},d||b("Join Wattpad")),m?i.a.createElement("h2",{className:"subtitle",dangerouslySetInnerHTML:{__html:m}}):i.a.createElement("p",{className:"subtitle"},b("Be part of a global community of readers and writers, all connected through the power of story.")),i.a.createElement("div",{className:"panel-body"},h?i.a.createElement(s.a,{formType:r,nextUrl:l,toggleFormView:w}):i.a.createElement(f,{focus:n,nextUrl:l,toggleForm:y,toggleFormView:w})))};b.propTypes={focus:a.a.bool,formType:a.a.string,nextUrl:a.a.string,subtitle:a.a.string,title:a.a.string,toggleForm:a.a.func.isRequired};t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e){return a.a.createElement("div",{className:l()("ds ds-one-col-page",e.variant)},a.a.createElement("div",{className:"column"},e.children))}c.propTypes={children:i.a.node,variant:i.a.string},c.defaultProps={variant:""}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"conduct-link user-safety-operation btn-no-background btn-left-icon option",href:"https://support.wattpad.com/hc/en-us/articles/200774234-Code-of-Conduct",target:"_blank",rel:"noreferrer noopener",tabIndex:"0"},a.a.createElement(o.e,{name:"link",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",{className:"conduct-link"},e("Code of Conduct"))),a.a.createElement("a",{className:"safety-portal user-safety-operation btn-no-background btn-left-icon option",href:"https://safetyportal.wattpad.com/",target:"_blank",rel:"noreferrer noopener",tabIndex:"0"},a.a.createElement(o.e,{name:"info",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",null,e("Wattpad Safety Portal"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(3),u=n(2);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.validationModel,n=e.onValid,o=e.onInvalid,s=e.inputRef,l=Object(u.o)().trans,d=m(Object(r.useState)(!1),2),f=d[0],p=d[1],y=m(Object(r.useState)(void 0),2),b=y[0],g=y[1],h=Object(r.useMemo)((function(){return Object(c.r)(c.d)}),[]),v=function(e){p(!1),o(),g(e)},w=function(){p(!0),g(void 0),n()},E=i()("has-feedback birthday-container",{valid:!0===f,invalid:!0!==f});return a.a.createElement("div",{className:E},a.a.createElement("div",{className:"birthday-fields"},a.a.createElement(h,{name:"month",validateOnChange:!0,label:l("Month"),form:"signup",inputType:"select",alt_msg:f?"Select Month":b,validationModel:t,onInvalid:v,onValid:w}),a.a.createElement(h,{name:"day",validateOnChange:!0,label:l("Day"),form:"signup",inputType:"select",alt_msg:f?"Select Day":b,validationModel:t,onInvalid:v,onValid:w}),a.a.createElement(h,{name:"year",validateOnChange:!0,label:l("Year"),form:"signup",inputType:"select",alt_msg:f?"Select Year":b,validationModel:t,onInvalid:v,onValid:w,inputRef:s})),!f&&a.a.createElement("div",{"aria-describedby":"birthday_error","aria-live":"assertive",role:"alert",className:"error-msg"},b))}f.propTypes={validationModel:l.a.shape({on:l.a.func,off:l.a.func}),onValid:l.a.func,onInvalid:l.a.func,inputRef:l.a.object},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3);function c(e){var t=e.featureStr;return a.a.createElement("div",{className:"check-and-feature"},a.a.createElement(l.e,{iconName:"fa-check",height:"22",className:"check-icon"}),a.a.createElement("p",null,a.a.createElement("strong",null,t.split(" ")[0])," "+t.substring(t.indexOf(" ")+1)))}c.propTypes={featureStr:i.a.string},t.a=function(){var e=Object(s.o)().trans;return a.a.createElement("div",{className:"checked-features"},a.a.createElement(c,{featureStr:e("Vote on stories that you like")}),a.a.createElement(c,{featureStr:e("Comment on stories and profiles")}),a.a.createElement(c,{featureStr:e("Update your profile")}),a.a.createElement(c,{featureStr:e("Create your stories, and more")}))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement("div",{className:"promoted-indicator"},a.a.createElement(o.e,{name:"promoted",className:"promoted-icon",size:"25",color:"wp-base-1",boxX:"-5",boxY:"-5"}),a.a.createElement("p",null,e("Promoted")))}},function(e,t,n){"use strict";var r=n(72),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(3),c=n(143),u=n(90),m=n.n(u),d=n(5),f=n(2),p=n(47),y=n(71);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.heading,n=e.index,r=e.isCompleted,a=e.isPaid,o=e.numParts,i=e.offset,c=e.page,u=e.sectionType,m=e.sources,p=e.subheading,b=e.storyId,g=e.fromStoryDetails,h=e.isMature,v=void 0!==h&&h,w=Object(f.o)().trans;return s.a.createElement("div",{className:"story-metadata"},s.a.createElement("div",{className:"meta-header"},s.a.createElement("div",{className:"title-and-badge"},s.a.createElement("div",{className:"paid-stories-badge"},a?s.a.createElement(l.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}):null),s.a.createElement("div",{className:"story-title"},s.a.createElement("h3",null,t))),s.a.createElement(y.a,{numParts:o,isMature:v,isCompleted:r})),s.a.createElement("div",{className:"story-description","aria-hidden":"true"},s.a.createElement("h4",null,Object(d.w)(p,200,!1))),s.a.createElement("div",{className:"more-details-wrapper"},s.a.createElement("button",{className:"more-details",onClick:function(){g?window.te.push("event","story",null,null,"click",{storyid:b,page:"story_details",type:"similar_stories",source:"story_details"}):window.te.push("event","story",null,null,"click",{storyid:b,page:c,algo_source:m,position:n,offset:i,type:u}),app.router.navigate("/story/".concat(b),{trigger:!0})}},w("More details")),s.a.createElement("div",{className:"arrow-icon"},s.a.createElement(l.e,{name:"chevRight",size:"18"}))))};E.propTypes={heading:o.a.string.isRequired,index:o.a.number,isCompleted:o.a.bool,isMature:o.a.bool,isPaid:o.a.bool,numParts:o.a.number,offset:o.a.number,page:o.a.string,sectionType:o.a.string.isRequired,sources:o.a.array,storyId:o.a.number.isRequired,subheading:o.a.string,fromStoryDetails:o.a.bool};var O=function(e){var t=e.index,n=e.onStoryClick,a=e.page,o=e.sectionType,u=e.stories,d=e.storiesToShow,f=void 0===d?5:d,y=e.storyWidth,v=void 0===y?88:y,w=e.wasSeen,O=e.windowWidth,S=e.callTrackingUrls,C=e.clickTrackingUrls,j=e.userLang,k=e.fromStoryDetails,N=!1,_=O<575,P=O<=360;O<=980&&(f=2.5,N=!0,_&&(f=3.5,Object(p.a)(2.5)?v=Math.floor(35):Object(p.a)(1.5)&&(v=Math.floor(52.5))),P&&(f=3));var T=m()(j),R=h(Object(i.useState)([]),2),x=R[0],A=R[1],I=h(Object(i.useState)(0),2),L=I[0],M=I[1],D=h(Object(i.useState)(0),2),U=D[0],q=D[1];Object(i.useEffect)((function(){if(w){var e=Math.min(Math.round(f),u.length);u.slice(0,e).map((function(e,n){k?window.te.push("event","story",null,null,"view",{storyid:e.id,page:"story_details",type:"similar_stories",source:"story_details"}):B(e.id,e.sources,t,n,o)})),A([].concat(g(x),g(u.slice(0,e).map((function(e,t){return t})))))}}),[w]);var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:a,algo_source:t,position:n,offset:r,type:o})},F=function(e){q(e)};return null!==u&&0!==u.length?s.a.createElement("div",{className:"story-expanded-carousel"},s.a.createElement("div",T?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.a.createElement(r.a,{dragging:!1,afterSlide:function(e){if(M(e),w){var n=Math.min(e+Math.round(f),u.length);u.slice(e,n).map((function(n,r){x.includes(e+r)||(k?window.te.push("event","story",null,null,"view",{storyid:n.id,page:"story_details",type:"similar_stories",source:"story_details"}):B(n.id,n.sources,t,e+r,o))})),A([].concat(g(x),g(u.slice(e,n).map((function(t,n){return e+n})))))}},enableKeyboardControls:!0,slideIndex:U,frameOverflow:N?"visible":"hidden",scrollMode:"page",slidesToScroll:_?1:f,heightMode:"max",cellAlign:"left",wrapAround:!!_||T,slidesToShow:f,initialHeight:"1",renderCenterRightControls:5===f&&u.length>5?function(e){return function(e,t,n){return e!==n-f||T?s.a.createElement("button",{className:"next-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===f&&u.length>5?function(e){return function(e,t){return 0!==e||T?s.a.createElement("button",{className:"prev-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null},u.map((function(e,r){if(e.id&&e.cover)return r===L?s.a.createElement("div",{key:"".concat(e.id,"-").concat(r),className:"zoom-story-item"},s.a.createElement(c.a,b({},e,{sectionType:o,index:t,offset:r,width:v,shiftCarousel:function(){return F(r)},page:a,onStoryClick:n,storyData:e,clickTrackingUrls:C,callTrackingUrls:S,isActiveStory:!0}))):s.a.createElement(c.a,b({},e,{sectionType:o,index:t,offset:r,width:v,key:"".concat(e.id,"-").concat(r),page:a,shiftCarousel:function(){return F(r)},onStoryClick:n,storyData:e,clickTrackingUrls:C,callTrackingUrls:S}))}))),u.map((function(e,n){if(e.id&&e.cover&&n===L)return s.a.createElement(E,{heading:e.title,subheading:e.description,key:e.id,sectionType:o,page:a,index:t,offset:n,storyId:e.id,isPaid:e.isPaid||e.isPaywalled,numParts:e.numParts,isCompleted:e.completed,isMature:e.mature,sources:e.sources,fromStoryDetails:k})})))):null};O.defaultProps={onStoryClick:null},O.propTypes={index:o.a.number,onStoryClick:o.a.func,page:o.a.string,sectionType:o.a.string.isRequired,stories:o.a.array.isRequired,storiesToShow:o.a.number,storyWidth:o.a.number,wasSeen:o.a.bool,windowWidth:o.a.number,callTrackingUrls:o.a.func,clickTrackingUrls:o.a.array,userLang:o.a.number,fromStoryDetails:o.a.bool},t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=function(e){var t=e.username,n=e.avatar,r=void 0===n?"/img/avatar/empty.png":n,o=e.authorCharLimit,i=void 0===o?0:o,c=e.shouldLinkify,u=void 0!==c&&c,m=Object(s.o)().trans;return a.a.createElement("div",{className:"author-info"},a.a.createElement("img",{src:r||"/img/avatar/empty.png",alt:"",className:"author-info__badge"}),a.a.createElement("div",{className:"author-info__username"},a.a.createElement("a",{href:"/user/"+t,className:"on-navigate","aria-label":m("by %s. Tap to go to the author's profile page.",t)},i?Object(l.w)(t,i,u):t)))};c.propTypes={username:i.a.string.isRequired,avatar:i.a.string,authorCharLimit:i.a.number,shouldLinkify:i.a.bool},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(11),u=n(9),m=n(85);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(v(e=o.call.apply(o,[this].concat(n))),"tagClickHandler",(function(t,n){e.props.onTagClicked&&e.props.onTagClicked(n,t),window.wattpad.utils.stopEvent(t),window.app.trigger("app:component:TagGridItem:click",t)})),E(v(e),"tagKeyDownHandler",(function(t,n){" "!==t.key&&"Spacebar"!==t.key||(e.props.onTagClicked&&e.props.onTagClicked(n,t),window.wattpad.utils.stopEvent(t))})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.tagGridTags.tags,n=this.props.tagGridTags.withIcon||!1;return t&&t.length>0?a.a.createElement("div",{className:l()("tag-grid clearfix",this.props.className)},a.a.createElement("ul",{className:"tag-items"},t.map((function(t,r){return n?a.a.createElement("li",{key:t.id},a.a.createElement(m.a,f({},t,{clickHandler:e.tagClickHandler}))):a.a.createElement("li",{key:t.id},a.a.createElement(u.TagPill,f({bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler,keyDownHandler:e.tagKeyDownHandler})))})))):null}},{key:"getNextTagColor",value:function(e,t){var n=e%c.m;return"bg"===t?c.l[n]:c.n[n]}}])&&y(t.prototype,n),r&&y(t,r),i}(a.a.Component);O.propTypes={tagGridTags:i.a.object.isRequired,onTagClicked:i.a.func,className:i.a.string}},function(e,t,n){"use strict";var r=n(0),a=n(1),o=n.n(a);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.includes(t))throw new Error("Default option is not in options list");var a={};e.forEach((function(e){return a[e]=e===t}));var o={};o=0===Object.keys(n).length?c({},a):c({},n);var s=function(e,n){switch(n.type){case"APPLY":var r;return delete e.error,n.value===t?a:c(c({},e),{},(u(r={},n.value,!0),u(r,t,!1),r));case"REMOVE":if(delete e.error,n.value===t)return e;var o=c(c({},e),{},u({},n.value,!1));return Object.values(o).includes(!0)?o:a;default:return c(c({},e),{},{error:"Error in default reducer"})}},l=Object(r.useReducer)(s,o),m=i(l,2),d=m[0],f=m[1],p=function(e,t){f({type:e,value:t})};return[d,p]};m.propTypes={optionsList:o.a.arrayOf(o.a.string).isRequired,defaultOption:o.a.string.isRequired,initialState:o.a.object},t.a=m},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(9),l=n(27),c=n(18),u=n(30),m=n.n(u),d=n(13),f=n(92),p=n.n(f);function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){return{text:e("Writer"),color:p.a["ds-neutral-00-solid"],backgroundColor:p.a["ds-base-1-60"]}},h=function(e){return e===c.e.STORY_PART},v=function(e){return e===c.e.REPLIES},w=function(e){return{resourceId:e,namespace:l.SentimentNamespaces.COMMENTS}},E=function(e,t){return e?[g(t)]:[]},O=["minutes","hours","days","weeks","months","years"],S=function(e){return[function(t){return Object(d.sprintf)(e("%sm ago","%sm ago",t),t)},function(t){return Object(d.sprintf)(e("%sh ago","%sh ago",t),t)},function(t){return Object(d.sprintf)(e("%sd ago","%sd ago",t),t)},function(t){return Object(d.sprintf)(e("%sw ago","%sw ago",t),t)},function(t){return Object(d.sprintf)(e("%smo ago","%smo ago",t),t)},function(t){return Object(d.sprintf)(e("%sy ago","%sy ago",t),t)}]},C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m()(),a=function(e){return m()(r).diff(m()(n),e)};if(a("minutes")<1)return e("Now");for(var o=1;o<O.length;o++)if(a(O[o])<1)return S(t)[o-1](a(O[o-1]));return S(t)[O.length-1](a("years"))},j=function(e){return null==e?void 0:e[l.SentimentTypes.LIKE]},k=function(e,t,n){var r=e.ambassador||e.isSysAdmin,a=n===e.username,o=t.name===e.username;return{canDelete:e&&(r||a||o),isCommentAuthor:o}},N=function(e,t){if(e)return t>0?c.h:0},_=n(2),P=n(3),T=n(180),R=function(e){var t=e.canMute,n=e.canDeleteData,o=e.commentAuthor,i=e.commentBody,s=e.deeplink,l=e.onDeleteComment,c=Object(_.o)().trans,u=Object(_.k)().openReportCommentModal,m=Object(_.h)().openMuteUserModal,d=Object(_.b)().openConfirmModal,f=Object(r.useRef)(),p=Object(r.useRef)(),y=Object(r.useRef)();return a.a.createElement("div",{className:"comment-options"},t&&a.a.createElement("button",{ref:p,id:"mute-user",className:"option btn-no-background",onClick:function(){return m(o,p)}},a.a.createElement(P.e,{name:"mute",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",null,c("Mute %s",o))),a.a.createElement("button",{ref:y,id:"report-comment",className:"option btn-no-background",onClick:function(){var e;u(o,i,null===(e=window)||void 0===e?void 0:e.location.href,s,y)}},a.a.createElement(P.e,{name:"report"}),c("Report Comment")),n.canDelete&&a.a.createElement("button",{ref:f,id:"delete-comment",className:"option btn-no-background",onClick:function(){var e=n.isCommentAuthor?c("Are you sure you want to delete your comment?"):c("Are you sure you want to delete this comment from @%s?",o);d({contentText:e,title:c("Delete Comment"),onConfirmClick:l,openTriggerRef:f})}},a.a.createElement(P.e,{name:"trash",size:"14",color:"wp-neutral-1"}),c("Delete Comment")),a.a.createElement("a",{tabIndex:"0",href:s,id:"deeplink-comment",className:"option btn-no-background"},a.a.createElement(P.e,{name:"share",size:"14",color:"wp-neutral-1"}),c("Link to Comment")),a.a.createElement(T.a,null))};R.propTypes={canMute:i.a.bool,canDeleteData:i.a.shape({canDelete:i.a.bool,isCommentAuthor:i.a.bool}),commentAuthor:i.a.string,commentBody:i.a.string,deeplink:i.a.string,onDeleteComment:i.a.func};var x=R,A=n(5),I=n(4),L=n.n(I);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.resource,n=e.isSticky,o=e.autofocus,i=e.placeholder,c=e.replyToUsername,u=e.onCommentPosted,m=Object(_.o)().trans,d=Object(_.q)().userNeedsVerification,f=M(Object(r.useState)(!1),2),p=f[0],y=f[1],b=M(Object(r.useState)(!1),2),g=b[0],h=b[1],w=M(Object(r.useState)(c&&"@".concat(c," ")),2),E=w[0],O=w[1],S=i||m("Write a comment..."),C=function(e){e.isNewComment=!0,y(!1),h(!1),O(""),u(e)};return a.a.createElement("div",{className:L()("new-comment-field",{sticky:n,replyTo:!!c,reply:v(t.namespace)})},c&&a.a.createElement("div",{className:"reply-to-user"},m("Replying to %s",c)),a.a.createElement(s.TextBox,{text:E,isLoading:g,autoFocus:o,onTextChange:O,placeholder:S,actionSend:function(){d()||(h(!0),y(!1),Object(l.postComment)(t,E).then(C).catch((function(){y(!0),h(!1)})))},ariaLabel:m("Post new comment"),errorMessage:p?m("Comment failed to post"):void 0}))};U.propTypes={resource:i.a.object.isRequired,isSticky:i.a.bool,autofocus:i.a.bool,placeholder:i.a.string,replyToUsername:i.a.string,onCommentPosted:i.a.func.isRequired};var q=U;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){var t=e.comment,n=e.mainLocation,o=e.storyAuthor,i=e.onReplyPosted,u=e.onDeleteComment,m=e.sentimentEventData,f=e.onUpdateCount,p=t.author,y=t.isReply,b=t.numReplies,g=t.isOffensive,v=t.id,O=t.sentimentDetails,S=Object(_.f)(),P=Object(_.o)(),T=P.trans,R=P.ngettext,I=Object(_.i)(),L=I.handleOpenPopover,M=I.handleClosePopover,D=Object(_.q)().userNeedsVerification,U=Object(r.useRef)(),B=Object(r.useRef)(),W=Object(r.useRef)(),H=V(Object(r.useState)(function(e){var t;return!(null===(t=j(e))||void 0===t||!t.interaction)}(O)),2),z=H[0],$=H[1],Y=V(Object(r.useState)(function(e){var t;return(null===(t=j(e))||void 0===t?void 0:t.count)||0}(O)),2),G=Y[0],K=Y[1],Z=V(Object(r.useState)(b),2),J=Z[0],Q=Z[1],X=V(Object(r.useState)(!!t.replyData),2),ee=X[0],te=X[1],ne=V(Object(r.useState)(!1),2),re=ne[0],ae=ne[1],oe=o===p.name,ie=S.username&&S.username!==p.name,se=g&&T("This comment may be offensive."),le=t.replyData&&{commentData:t.replyData},ce={commentId:v,namespace:c.e.REPLIES},ue=function(e){var t=F(F({},m),{},{commentId:v});window.te.push("event","sentiment",null,null,e,t)};Object(r.useEffect)((function(){(t.isNewComment||t.isDeeplink)&&B.current&&B.current.scrollIntoView(c.k)}),[]);var de,fe=function(e){e?($(!0),K((function(e){return e+1}))):($(!1),K((function(e){return e-1})))},pe=function(){M(U),u(v,J)},ye={ariaLabel:T(z?"Unlike this comment":"Like this comment"),onClick:function(){D()||(z?(fe(!1),function(e){return Object(l.removeSentiment)(w(e),l.SentimentTypes.LIKE)}(v).then((function(){return m&&ue("remove")})).catch((function(){return fe(!0)}))):(fe(!0),function(e){return Object(l.postSentiment)(w(e),l.SentimentTypes.LIKE)}(v).then((function(){return m&&ue("add")})).catch((function(){return fe(!1)}))))},displayText:G>0&&Object(A.b)(G)},be={ariaLabel:T("More options"),outsideRef:U,onClick:function(e){e.preventDefault();L((function(){return a.a.createElement(x,{canMute:ie,commentBody:t.body,deeplink:t.deeplink,commentAuthor:p.name,canDeleteData:k(S,p,o),onDeleteComment:pe})}),U,"".concat(c.d.CLASS," ").concat(h(n)?"sp":"pa"),c.d.PROPS)}},ge={onClick:function(){te(!0),ae(!0)},ariaLabel:"Reply to comment",displayText:T("Reply")},he=J>0&&!ee&&{onClick:function(){return te(!0)},ariaLabel:"View replies",displayText:Object(d.sprintf)(R("View %s Reply","View %s Replies",J),J)};return a.a.createElement("div",{className:"comment-card-container"},a.a.createElement("div",{ref:B},a.a.createElement(s.CommentCard,{isLiked:z,isReplyComment:y,offensiveText:se,content:Object(A.p)(t.body),isDeeplink:t.isDeeplink,commentAuthorName:p.name,commentAuthorAvatar:p.avatar,isNewComment:t.isNewComment,badges:(de=p.badges,de?de.map((function(e){return c.c[e]})):[]),isStoryAuthor:oe,pills:E(oe,T),readMoreText:T("Read more"),postedDate:C(T,R,t.createDate),actionLike:ye,actionReply:ge,actionDropdown:be,actionViewMoreReplies:he})),re&&a.a.createElement(q,{autofocus:!0,resource:ce,onCommentPosted:function(e){y&&i?i(e):W.current(e),ae(!1)},replyToUsername:y?p.name:void 0,placeholder:T("Write a reply...")}),ee&&a.a.createElement(me,{location:c.e.REPLIES,parentLocation:n,commentId:v,storyAuthor:o,sentimentEventData:m,addNewCommentRef:W,onUpdateCount:function(e){null==f||f(e),Q((function(t){return t+e}))},initialComment:le,initialLimit:N(re,J)}))};z.propTypes={comment:i.a.object.isRequired,mainLocation:i.a.oneOf(Object.values(c.e)),storyAuthor:i.a.string,sentimentEventData:i.a.object,onReplyPosted:i.a.func,onDeleteComment:i.a.func.isRequired,onUpdateCount:i.a.func};var $=z,Y=n(130),G=n(236);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e){var t=e.placement,n=e.adData,o=e.wrapperClassName,i=Q(Object(r.useState)(Object(G.createUniqueAdId)(t)),1)[0];return Object(r.useEffect)((function(){Object(G.getAd)(Z(Z({},n),{},{placement:i}))}),[]),a.a.createElement("div",{className:o,id:i})};ee.propTypes={placement:i.a.string.isRequired,adData:i.a.object,wrapperClassName:i.a.string.isRequired};var te=ee;function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re={ERROR:"error",EMPTY:"empty",NOT_FOUND:"notFound"},ae=function(e){var t=e.stageType,n=e.onRetryFetch,o=Object(_.o)().trans,i=Object(r.useRef)(),l=function(e){var t;return ne(t={},re.EMPTY,{imageId:"no-comments-graphics",imageName:"comments/no-comments.svg",message:"".concat(e("Be the first to comment")," ")}),ne(t,re.ERROR,{showRetry:!0,imageId:"failed-comment-fetch",imageName:"comments/failed-fetch.svg",message:e("There was an issue retrieving comments.")}),ne(t,re.NOT_FOUND,{autofocus:!0,imageId:"comment-not-found",imageName:"comments/failed-fetch.svg",message:e("The comment cannot be found.")}),t}(o)[t];return Object(r.useEffect)((function(){var e;l.autofocus&&(null===(e=i.current)||void 0===e||e.scrollIntoView(c.k))}),[]),a.a.createElement("div",{className:"comments-empty-stage",ref:i},a.a.createElement(P.c,{name:l.imageName,id:l.imageId}),a.a.createElement("p",{className:"message"},l.message),l.showRetry&&a.a.createElement(s.Button,{onClick:n},o("Retry")))};ae.propTypes={stageType:i.a.oneOf(Object.values(re)).isRequired,onRetryFetch:i.a.func};var oe=ae;function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(e){var t=e.location,n=e.parentLocation,o=e.partId,i=e.paragraphId,u=e.commentId,m=e.storyAuthor,d=e.initialLimit,f=e.initialComment,p=e.scrollableRef,b=e.addNewCommentRef,g=e.sentimentEventData,E=e.onUpdateCount,O=e.onCommentsChanged,S=e.adData,C=Object(_.o)().trans,j=Object(_.e)(),k=v(t),N=se(Object(r.useState)([]),2),T=N[0],R=N[1],x=se(Object(r.useState)(!1),2),A=x[0],I=x[1],L=se(Object(r.useState)(!1),2),M=L[0],D=L[1],U=se(Object(r.useState)(!1),2),B=U[0],F=U[1],W=se(Object(r.useState)(0!==d),2),V=W[0],H=W[1],z=se(Object(r.useState)(void 0),2),G=z[0],K=z[1],Z=se(Object(r.useState)(!k&&!!f),2),J=Z[0],Q=Z[1],X=0===T.length,ee=!k&&!M&&!J,ne={namespace:t,partId:null==o?void 0:o.toString(),paragraphId:i,commentId:u},ae=function(e,t){H(!0),Object(l.fetchComments)(ne,t,e).then((function(e){R((function(t){return[].concat(ie(t),ie(e.comments))})),I(e.hasMore),K(e.after),D(!1),H(!1)})).catch((function(){D(!0),H(!1),F(!1)}))},le=function(e,t){Object(l.deleteComment)(e).then((function(){null==E||E(-(t+1)),R(T.filter((function(t){return t.id!==e})))})).catch((function(){wattpad.utils.showToast(C("Sorry, something went wrong. Please try again."),{type:"dismissable"})}))},ce=function(e){null==E||E(1),R((function(t){return[e].concat(ie(t))}))},ue=function(){ae(void 0,G)};Object(_.h)((function(e){R(T.filter((function(t){return t.author.name!==e})))})),Object(r.useEffect)((function(){null!=f&&f.commentData?(R([f.commentData]),ae(2,w(f.commentData.id))):null!=f&&f.commentId?(H(!0),Object(l.fetchComment)(w(f.commentId)).then((function(e){var t=e.parent||e.comment;if("".concat(o)!==t.partId)return D(!1),H(!1),void F(!0);e.parent?(t.replyData=e.comment,t.replyData.isDeeplink=!0):t.isDeeplink=!0,R([t]),ae(d,w(t.id))})).catch((function(){D(!1),F(!0),H(!1)}))):0!==d&&ae(d),b&&(b.current=ce)}),[]),Object(r.useEffect)((function(){return null==O?void 0:O()}),[T]),Object(_.g)({hasMore:A,scrollableRef:p,scrollOffset:100,isDisabled:M||V,onLoadMore:Object(r.useCallback)(ue,[T,A,G])});var me=function(e){return V||M&&!X?a.a.createElement("div",{className:"loader-animation-wrapper"},a.a.createElement(P.c,{name:"icons/loader-light.svg",id:"loader-light"})):A&&!p?e:void 0},de=function(){return(k?ie(T).reverse():T).map((function(e){return{isAd:!1,comment:e}}))},fe=Object(r.useMemo)((function(){return X?T:null!=S&&S.canDisplayAdvertisement&&null!=S&&S.shouldShowAds.result||j.COMMENT_CP_ADS&&S?function(e){if(e.length<=c.b.AD_OFFSET_NUM)return[].concat(y(e),[{isAd:!0,id:1}]);for(var t=[],n=1,r=0;r<e.length;r++)t.push(e[r]),(r+1)%c.b.NUM_COMMENTS_SET===c.b.AD_OFFSET_NUM&&(t.push({isAd:!0,id:n}),n++);return t}(de()):de()}),[T]);return a.a.createElement("div",{className:"comments-list"},J&&a.a.createElement("div",{className:"go-back"},a.a.createElement("div",{className:"info"},a.a.createElement(P.e,{iconName:"fa-info",height:"13",color:"wp-neutral-1"}),C("You are viewing a single comment thread.")),a.a.createElement(s.Button,{variant:s.ButtonVariant.SECONDARY,onClick:function(){Q(!1),R([]),I(!1),K(void 0),ae()}},a.a.createElement(P.e,{iconName:"fa-left",height:"13",color:"wp-neutral-1"}),"  ",C("Return to all comments"))),ee&&a.a.createElement(q,{resource:ne,isSticky:!h(t),onCommentPosted:ce}),k&&me(a.a.createElement("span",{className:"show-more-replies-wrapper"},a.a.createElement("hr",{className:"show-more-replies-hr"}),a.a.createElement("button",{className:"show-more-replies-btn",onClick:ue},C("View more replies")),a.a.createElement("hr",{className:"show-more-replies-hr"}))),fe.map((function(e){return e.isAd?j.COMMENT_CP_ADS?a.a.createElement(te,{className:"advertisement-wrapper",key:"".concat(t,"-comment-ad-").concat(e.id),placement:S.placement,adData:S,wrapperClassName:"comment-ad"}):a.a.createElement("div",{className:"advertisement-wrapper",key:"".concat(t,"-comment-ad-").concat(e.id)},a.a.createElement(Y.a,{placement:S.placement,shouldDelayAds:S.shouldDelayAds,shouldShowAds:S.shouldShowAds.result,adsSkipReason:S.shouldShowAds.reason})):a.a.createElement($,{key:"".concat(t,"-").concat(e.comment.id),comment:e.comment,mainLocation:n||t,storyAuthor:m,onDeleteComment:le,onReplyPosted:ce,sentimentEventData:g,onUpdateCount:E})})),!k&&me(a.a.createElement("div",{className:"show-more-btn"},a.a.createElement(s.Button,{fullWidth:!0,variant:s.ButtonVariant.SECONDARY,onClick:ue},C("Show more")))),function(){if(!k&&!V&&X&&!A){var e=re.EMPTY;return M?e=re.ERROR:B&&(e=re.NOT_FOUND),a.a.createElement("div",null,e===re.EMPTY&&(null==S?void 0:S.canDisplayAdvertisement)&&(null==S?void 0:S.shouldShowAds.result)&&a.a.createElement("div",{className:"advertisement-wrapper"},a.a.createElement(Y.a,{placement:S.placement,shouldDelayAds:S.shouldDelayAds,shouldShowAds:S.shouldShowAds.result,adsSkipReason:S.shouldShowAds.reason})),a.a.createElement(oe,{stageType:e,onRetryFetch:ae}))}}())};ue.propTypes={location:i.a.oneOf(Object.values(c.e)).isRequired,partId:i.a.number,commentId:i.a.string,paragraphId:i.a.string,storyAuthor:i.a.string,parentLocation:i.a.oneOf(Object.values(c.e)),sentimentEventData:i.a.object,initialLimit:i.a.number,initialComment:c.j,scrollableRef:i.a.object,addNewCommentRef:i.a.object,onUpdateCount:i.a.func,onCommentsChanged:i.a.func,adData:c.a};var me=t.a=ue},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(44),i=n.n(o),s=n(1),l=n.n(s),c=n(4),u=n.n(c),m=n(370),d=n(127),f=n(3),p=n(2),y=n(6),b=n(8),g=n(22);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.beforeModalRef,n=e.storyId,o=Object(y.c)(),i=Object(y.d)((function(e){return e.homeSections.readingLists}))||[],s=Object(y.d)((function(e){return e.homeSections.storiesCollections}))[n]||{},l=Object(p.o)().trans,c=h(Object(r.useState)(""),2),u=c[0],m=c[1],d=Object(r.useRef)({}),v=Object(r.useRef)(null),w=h(Object(r.useState)(null),2),E=w[0],O=w[1],S=Object(r.useRef)();Object(p.p)(null==S?void 0:S.current,t);var C=function(e){j(n),o(Object(g.p)(e,n))},j=function(e){window.te.push("event","app","story","library","add",{storyid:e,page:"story_details"})},k=function(e){O(null),s[e]?(!function(e){window.te.push("event","app","story","library","remove",{storyid:e,page:"story_details"})}(n),o(Object(g.m)(e,n))):C(e)};return a.a.createElement("div",{className:"reading-list-modal",ref:S},a.a.createElement("span",{className:"reading-list-header"},a.a.createElement("span",{className:"sr-only"},l("Add to modal open")),a.a.createElement("div",{"aria-hidden":"true",className:"reading-list-title"},l("Add to")),a.a.createElement("button",{className:"reading-list-close-btn",onClick:function(){t&&t.focus(),o(Object(b.a)())}},l("Done"))),a.a.createElement("ul",{className:"reading-list-items"},a.a.createElement("li",{key:"library",className:"reading-list-item"},a.a.createElement("button",{onClick:function(){k("library")},ref:function(e){return d.current.library=e},tabIndex:"0"},a.a.createElement(f.e,{iconName:"fa-library",height:"22",color:"wp-neutral-1"}),a.a.createElement("span",{className:"reading-list-item-name"},"Library"),s.library&&a.a.createElement(f.e,{name:"check",size:"22",color:"wp-base-1",fill:!0,strokeWidth:"1"}))),i&&i.map((function(e){return a.a.createElement("li",{key:e.id,className:"reading-list-item"},a.a.createElement("button",{onClick:function(){k(e.id)},tabIndex:"0",ref:function(t){return d.current[e.id]=t}},a.a.createElement(f.e,{iconName:"fa-reading-list",height:"22",color:"wp-neutral-1"}),a.a.createElement("span",{className:"reading-list-item-name"},e.name),s[e.id]&&a.a.createElement(f.e,{name:"check",size:"22",color:"wp-base-1",fill:!0,strokeWidth:"1"})))})),a.a.createElement("div",{ref:v})),a.a.createElement("form",null,a.a.createElement("div",{className:"reading-list-input-row"},a.a.createElement("input",{type:"text",className:"form-control input-text",placeholder:l("Add new reading list..."),onChange:function(e){return m(e.target.value)},value:u}),a.a.createElement("button",{"aria-label":l("Add new reading list..."),tabIndex:"0",className:"btn-icon",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){O(null);var e=u;m("");var t=i.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t&&s[t.id])d.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else if(t)C(t.id),d.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else{var r={id:null,name:e,numStories:0,cover:0,tags:[],featured:!1,stories:n};j(n),Promise.resolve($.post("/api/v3/lists/",r)).then((function(){o(Object(g.g)()),o(Object(g.e)(n)),v.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e);var n=new Error(l("We are unable to add this story to your reading list at this time"));O(n)}))}}()}},a.a.createElement(f.e,{name:"add",height:"12",color:"wp-neutral-1",strokeWidth:"2.5"})))),E&&a.a.createElement("div",{className:"reading-list-error"},E.message))}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}w.propTypes={beforeModalRef:l.a.object,storyId:l.a.number.isRequired,readingLists:l.a.array,storiesCollections:l.a.object};var C=function(e){var t=e.className,n=e.draft,o=void 0!==n&&n,s=e.isLoggedInUser,l=e.isPaid,c=e.isPaidPreview,g=e.firstPartId,h=e.storyId,v=e.readingLists,S=e.storiesCollections,C=e.sources,j=e.isMobile,k=Object(y.c)(),N=O(Object(r.useState)(!1),2),_=N[0],P=N[1],T=Object(r.useRef)(null),R=Object(r.useRef)(null),x=O(Object(r.useState)(null),2),A=x[0],I=x[1],L=Object(p.o)().trans,M=function(){return a.a.createElement(d.a,{readingLists:v,storiesCollections:S[h],storyId:parseInt(h),className:"story-details-add-to-library",fromStoryDetails:!0,setShowPopover:P})},D=Object(m.a)(T.current,R.current,{modifiers:[{name:"arrow",options:{element:A}},{name:"offset",options:{offset:[0,10]}}]}),U=D.styles,q=D.attributes,B=function(e){var t=e.partId,n=e.children;return a.a.createElement("a",{className:"btn-primary read-btn",href:"/"+t,onClick:function(e){return function(e){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:h,page:"story_details",type:"primary",source:"story_details",algo_source:C||""}),app.router.navigate("/"+g,{trigger:!0})}(e)}},n)};return a.a.createElement("div",{className:u()("story-actions",t)},_&&"undefined"!=typeof window&&i.a.createPortal(a.a.createElement("div",E({ref:R,style:U.popper},q.popper),M(),a.a.createElement("div",{ref:I,style:U.arrow})),document.querySelector("#react-popover")),l&&c?a.a.createElement(B,{partId:g},a.a.createElement(f.e,{name:"paidStory",size:"20",color:"ds-neutral-00-solid",strokeWidth:"0",fill:!0}),L("Free preview")):a.a.createElement(B,{partId:g},a.a.createElement(f.e,{name:"bookOpenBeta",size:"16",color:"ds-neutral-00-solid"}),L("Start reading")),a.a.createElement("button",{ref:T,className:"btn-primary add-to-library-btn",onClick:function(){j?k(Object(b.b)({component:function(){return a.a.createElement(w,{beforeModalRef:T.current,storyId:h})},className:"reading-list-modal-container",useGlobalModalContainer:!0})):(P(!_),M())},disabled:!s||o,title:L("Add story to..."),"aria-label":L("Add story to...")},a.a.createElement(f.e,{name:"add",size:"24"})))};C.propTypes={className:l.a.string,draft:l.a.bool,isLoggedInUser:l.a.bool,isPaid:l.a.bool,isPaidPreview:l.a.bool,firstPartId:l.a.number,storyId:l.a.number,readingLists:l.a.array,storiesCollections:l.a.object,isMobile:l.a.bool,partId:l.a.number,children:l.a.node,sources:l.a.array};t.a=C},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2),c=n(56);function u(e){var t=e.googleCta,n=e.nextUrl;Object(r.useEffect)((function(){var e;0===$("#google-root").length&&(null!==(e=wattpad)&&void 0!==e&&e.testGroups.NEW_GAPI?$.getScript("https://accounts.google.com/gsi/client"):$.getScript("https://apis.google.com/js/api.js",(function(){window.gapi.load("client:auth2")})),$("body").append("<div id='google-root'></div>"))}),[]);return a.a.createElement("button",{onClick:function(){var e;null!==(e=wattpad)&&void 0!==e&&e.testGroups.NEW_GAPI?window.google.accounts.oauth2.initTokenClient({client_id:wattpad.googleClientId,scope:"profile openid email https://www.googleapis.com/auth/user.birthday.read",callback:function(e){if(e.access_token){var t={token:e.access_token,type:"google",redirect:!0},r=encodeURIComponent(JSON.stringify(t));window.location.href="/oauth-auth?nextUrl="+wattpad.utils.getNextUrl(n,window.location.href)+"&data="+r}}}).requestAccessToken():window.gapi.auth2.authorize({client_id:wattpad.googleClientId,scope:"profile openid email https://www.googleapis.com/auth/user.birthday.read"},(function(e){if(e.access_token){var t={token:e.access_token,type:"google",redirect:!0},r=encodeURIComponent(JSON.stringify(t));window.location.href="/oauth-auth?nextUrl="+wattpad.utils.getNextUrl(n,window.location.href)+"&data="+r}}))},className:"btn btn-google btn-block"},a.a.createElement(c.a,{name:"/shared/google_login_color.png",title:"Google Login",width:"24",className:"google-login-logo","aria-hidden":"true"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-btn"},t)))}function m(e){var t=e.source,n=e.nextUrl,r=e.focus,o=void 0===r||r,i=Object(l.o)().trans,c=i("signup"===t?"Sign up with Facebook":"Log in with Facebook"),m=i("signup"===t?"Sign up with Google":"Log in with Google");return a.a.createElement("div",{className:"signin-buttons"},a.a.createElement("button",{className:"btn btn-facebook btn-block",autoFocus:o},a.a.createElement(s.e,{iconName:"fa-facebook-official",height:"24",color:"wp-neutral-5"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-btn"},c))),a.a.createElement(u,{googleCta:m,nextUrl:n}))}u.propTypes={googleCta:i.a.string.isRequired,nextUrl:i.a.string},m.propTypes={source:i.a.string,nextUrl:i.a.string,focus:i.a.bool};t.a=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(76),a=a||e,o=a.wattpad&&a.wattpad.utils||{},i={localStorage:{get:function(e){return a.localStorage.getItem(e)},set:function(e,t){return a.localStorage.setItem(e,t)}},sessionStorage:{get:function(e){return a.sessionStorage.getItem(e)},set:function(e,t){return a.sessionStorage.setItem(e,t)}},cookie:{get:function(e){return o.getCookie(e)},set:function(e,t){return o.setCookie(e,t)}}},s=function(e){return-1!==["cookie","localStorage","sessionStorage"].indexOf(e)&&("cookie"===e?o&&o.getCookie:"localStorage"===e?a&&a.localStorage:"sessionStorage"===e?a&&a.sessionStorage:void 0)},l=function(e){var t=e.key,n=e.type,a=void 0===n?"cookie":n;if(r.a&&s(a))try{var o=i[a].get(t);return o?JSON.parse(o):null}catch(e){return null}return null}}).call(this,n(36))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(6),c=n(4),u=n.n(c),m=n(3),d=n(122),f=n(41);function p(e){var t=e.title,n=e.isMobile,o=e.subtitle,i=e.loadFeaturedList,l=e.featuredList,c=e.openPopover,d=e.readingList,f=Object(r.useRef)(null),p=Object(s.o)().trans;o=o||p("Check out the latest and greatest stories hand-picked by our team"),Object(r.useEffect)((function(){i()}),[i]);return t?a.a.createElement("header",{className:"catalog-header right-icon"},n?a.a.createElement("h1",{className:"catalog-title"},t):a.a.createElement("button",{disabled:0===l.length,className:"btn-no-style list-title",onClick:function(){if(l.length>0){c({component:function(){return a.a.createElement("div",{className:"react-popover-list"},a.a.createElement("a",{className:u()("on-navigate react-popover-item",{selected:!d}),href:"/catalog/paidstories"},p("Paid Stories")),l.map((function(e){return a.a.createElement("a",{key:e.id,className:u()("on-navigate react-popover-item",{selected:d&&e.id===d.id}),href:"/featured/".concat(e.id)},e.name)})))},triggerRef:f})}},"aria-label":p("Show featured list"),ref:f},a.a.createElement("h1",null,t),a.a.createElement(m.e,{name:"chevDown",size:24})),a.a.createElement("h2",{className:"subtitle"},o)):null}p.propTypes={title:i.a.string,isMobile:i.a.bool,subtitle:i.a.string,loadFeaturedList:i.a.func,featuredList:i.a.array,openPopover:i.a.func,readingList:i.a.object};var y=Object(l.b)((function(e){return{featuredList:e.catalog.featuredList}}),{loadFeaturedList:d.b,openPopover:f.c})(p),b=n(353);function g(e){var t=e.catalog,n=e.isMobile,r=Object(s.o)().trans;return a.a.createElement("div",{className:"catalog-container"},a.a.createElement(y,{title:r("Paid Stories"),isMobile:n}),"paidstories"===t&&a.a.createElement(b.a,null))}g.propTypes={catalog:i.a.string.isRequired,isMobile:i.a.bool.isRequired}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"actions",(function(){return ot}));n(375),n(561);var r=n(271);n.d(t,"createStore",(function(){return r.a}));var a=n(272);n.d(t,"withRedux",(function(){return a.a}));var o=n(273);n.d(t,"ReactRoot",(function(){return o.a}));var i=n(323);n.d(t,"Inbox",(function(){return i.a}));var s=n(324);n.d(t,"Home",(function(){return s.a}));var l=n(325);n.d(t,"StoryDetails",(function(){return l.a}));var c=n(274);n.d(t,"AnnouncementModal",(function(){return c.a}));var u=n(275);n.d(t,"MenuModal",(function(){return u.a}));var m=n(334);n.d(t,"UserSettingsModal",(function(){return m.a}));var d=n(326);n.d(t,"UserSettings",(function(){return d.a}));var f=n(164);n.d(t,"PleaseVerify",(function(){return f.a}));var p=n(121);n.d(t,"VerifyEmail",(function(){return p.a}));var y=n(276);n.d(t,"AccountSocialMedia",(function(){return y.a}));var b=n(91);n.d(t,"ReportModal",(function(){return b.c}));var g=n(117);n.d(t,"MuteModal",(function(){return g.a}));var h=n(84);n.d(t,"UnmuteModal",(function(){return h.a}));var v=n(168);n.d(t,"BlockModal",(function(){return v.a}));var w=n(118);n.d(t,"UnblockModal",(function(){return w.a}));var E=n(3);n.d(t,"MenuOptions",(function(){return E.h})),n.d(t,"Avatar",(function(){return E.a})),n.d(t,"ReportStoryPart",(function(){return E.l})),n.d(t,"SocialSharing",(function(){return E.n})),n.d(t,"Icon",(function(){return E.e})),n.d(t,"WPModal",(function(){return E.q})),n.d(t,"StoryPartBonusHeader",(function(){return E.o}));var O=n(277);n.d(t,"BrowseStoryItem",(function(){return O.a}));var S=n(166);n.d(t,"StoryItem",(function(){return S.a}));var C=n(167);n.d(t,"TagCarousel",(function(){return C.a}));var j=n(9);n.d(t,"AppProvider",(function(){return j.AppProvider})),n.d(t,"TagGrid",(function(){return j.TagCloud}));var k=n(169);n.d(t,"TagMeta",(function(){return k.a}));var N=n(40);n.d(t,"TagItem",(function(){return N.a}));var _=n(85);n.d(t,"TagItemWithIcon",(function(){return _.a}));var P=n(278);n.d(t,"LargePromoBanner",(function(){return P.a}));var T=n(279);n.d(t,"CanvaButton",(function(){return T.a}));var R=n(280);n.d(t,"ThemeSettings",(function(){return R.a}));var x=n(119);n.d(t,"ProfileHeader",(function(){return x.a}));var A=n(335);n.d(t,"RestrictedProfile",(function(){return A.a}));var I=n(46);n.d(t,"Toast",(function(){return I.a}));var L=n(120);n.d(t,"ProfileMoreOptionsButton",(function(){return L.a}));var M=n(281);n.d(t,"UserError404",(function(){return M.a}));var D=n(282);n.d(t,"StoryError404",(function(){return D.a}));var U=n(283);n.d(t,"MerchMessage",(function(){return U.a}));var q=n(337);n.d(t,"StoryPartPaywall",(function(){return q.a}));var B=n(284);n.d(t,"StoryPaywallModal",(function(){return B.a}));var F=n(108);n.d(t,"Wallet",(function(){return F.a}));var W=n(285);n.d(t,"WalletWithOnboarding",(function(){return W.a}));var V=n(286);n.d(t,"showPaidOnboardingModal",(function(){return V.a}));var H=n(287);n.d(t,"showBuyCoinsModal",(function(){return H.a}));var z=n(322);n.d(t,"LandingPage",(function(){return z.a}));var $=n(328);n.d(t,"ContestBanner",(function(){return $.a}));var Y=n(288);n.d(t,"ContestForm",(function(){return Y.a}));var G=n(289);n.d(t,"CommentItem",(function(){return G.a}));var K=n(292);n.d(t,"StoryTags",(function(){return K.a}));var Z=n(293);n.d(t,"RequestAccountDetails",(function(){return Z.a}));var J=n(329);n.d(t,"OnboardingWriterJourney",(function(){return J.a}));var Q=n(294);n.d(t,"OnboardingGenres",(function(){return Q.a}));var X=n(295);n.d(t,"OnboardingSuccess",(function(){return X.a}));var ee=n(296);n.d(t,"BannedImageMessaging",(function(){return ee.a}));var te=n(331);n.d(t,"ConfigurePaidPartModalButton",(function(){return te.a}));var ne=n(297);n.d(t,"ImageAppealFlow",(function(){return ne.a}));var re=n(298);n.d(t,"PrivacySettings",(function(){return re.a}));var ae=n(57);n.d(t,"Header",(function(){return ae.d})),n.d(t,"DSContainer",(function(){return ae.c})),n.d(t,"Button",(function(){return ae.b}));var oe=n(179);n.d(t,"OneColPage",(function(){return oe.a}));var ie=n(299);n.d(t,"WorksItemsDetailsNavBar",(function(){return ie.a}));var se=n(330);n.d(t,"StoryNotes",(function(){return se.a}));var le=n(300);n.d(t,"Acknowledge",(function(){return le.a}));var ce=n(301);n.d(t,"WriterAnalyticsNavBar",(function(){return ce.a}));var ue=n(302);n.d(t,"WriterStoryStats",(function(){return ue.a}));var me=n(303);n.d(t,"QURLabel",(function(){return me.a}));var de=n(304);n.d(t,"LineChartHeader",(function(){return de.a}));var fe=n(62);n.d(t,"AuthForm",(function(){return fe.a}));var pe=n(178);n.d(t,"SignupForm",(function(){return pe.a}));var ye=n(177);n.d(t,"LoginForm",(function(){return ye.a}));var be=n(305);n.d(t,"ForgotPassword",(function(){return be.a}));var ge=n(306);n.d(t,"ResetPassword",(function(){return ge.a}));var he=n(163);n.d(t,"EmailSignup",(function(){return he.a}));var ve=n(307);n.d(t,"Quests",(function(){return ve.a}));var we=n(308);n.d(t,"EmbeddedQuests",(function(){return we.a}));var Ee=n(338);n.d(t,"Copyright",(function(){return Ee.a}));var Oe=n(327);n.d(t,"HelpDmcaPage",(function(){return Oe.a}));var Se=n(309);n.d(t,"StoryPartNavigation",(function(){return Se.a}));var Ce=n(310);n.d(t,"StoryPartComments",(function(){return Ce.a}));var je=n(339);n.d(t,"ParagraphCommentsCount",(function(){return je.a}));var ke=n(79),Ne=n(140),_e=n(59),Pe=n(22),Te=n(87),Re=n(78),xe=n(123),Ae=n(20),Ie=n(45),Le=n(132),Me=n(125),De=n(340);n.d(t,"ExternalCoverUpload",(function(){return De.a}));var Ue=n(341);n.d(t,"TagpagePaidStoriesContainer",(function(){return Ue.a}));var qe=n(230);n.d(t,"Catalog",(function(){return qe.a})),n.d(t,"CatalogHeader",(function(){return qe.b}));var Be=n(165);n.d(t,"TryPremium",(function(){return Be.a}));var Fe=n(317);n.d(t,"ValidationSuccess",(function(){return Fe.a}));var We=n(170);n.d(t,"SearchBar",(function(){return We.a}));var Ve=n(171);n.d(t,"StoryCard",(function(){return Ve.a}));var He=n(172);n.d(t,"RecentSearches",(function(){return He.a}));var ze=n(173);n.d(t,"EducationalBanner",(function(){return ze.a}));var $e=n(174);n.d(t,"LastUpdatedFilter",(function(){return $e.a}));var Ye=n(332);n.d(t,"ProfileCardContainer",(function(){return Ye.a}));var Ge=n(336);n.d(t,"StoryCardContainer",(function(){return Ge.a}));var Ke=n(175);n.d(t,"BrowseCategories",(function(){return Ke.a}));var Ze=n(318);n.d(t,"SearchTabs",(function(){return Ze.a}));var Je=n(319);n.d(t,"SearchNoResults",(function(){return Je.a}));var Qe=n(333);n.d(t,"FiltersContainer",(function(){return Qe.a}));var Xe=n(320);n.d(t,"SearchHeader",(function(){return Xe.a}));var et=n(321);n.d(t,"BlankSearch",(function(){return et.a}));var tt=n(0),nt=n.n(tt),rt=n(44),at=n.n(rt),ot={fetchWalletBalance:ke.a,fetchPaidContentMetadata:Ne.c,cacheBustPaidContentMetadata:Ne.a,fetchHomeSections:Pe.d,clearError:Pe.b,openContestForm:_e.d,setStoryTags:Te.d,resetConversation:Re.e,resetThreads:xe.c,initializeMutedUsers:Ae.e,toggleToast:Ie.c,callTrackingUrls:Pe.a,postStoryNotes:Le.b,setMutedUsersFromBackBone:Ae.i,setBlockedUsersFromBackBone:Ae.h,updateActiveTab:Me.b,setContestFormSubmissionStatus:_e.g,setContestFormNearEligibleStatus:_e.f},it=it||e;it.React=nt.a,it.ReactDOM=at.a}.call(this,n(36))},,function(e,t){e.exports={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',library:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-library" transform="translate(3.000000, 3.000000)" fill="#6F6F6F"><path d="M17.4,0 C17.9522847,-1.01453063e-16 18.4,0.44771525 18.4,1 L18.4,17 C18.4,17.5522847 17.9522847,18 17.4,18 L17,18 C16.4477153,18 16,17.5522847 16,17 L16,1 C16,0.44771525 16.4477153,1.01453063e-16 17,0 L17.4,0 Z M12.4,0 C12.9522847,-1.01453063e-16 13.4,0.44771525 13.4,1 L13.4,17 C13.4,17.5522847 12.9522847,18 12.4,18 L12,18 C11.4477153,18 11,17.5522847 11,17 L11,1 C11,0.44771525 11.4477153,1.01453063e-16 12,0 L12.4,0 Z M6.33618624,0.254903754 L6.72255657,0.358431372 C7.25602267,0.501373184 7.57260516,1.04971014 7.42966335,1.58317624 L3.28855863,17.0379895 C3.14561682,17.5714556 2.59727986,17.8880381 2.06381376,17.7450962 L1.67744343,17.6415686 C1.14397733,17.4986268 0.827394836,16.9502899 0.970336648,16.4168238 L5.11144137,0.962010536 C5.25438318,0.428544432 5.80272014,0.111961943 6.33618624,0.254903754 Z" id="Combined-Shape"></path></g></g>',create:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-create" transform="translate(2.000000, 2.000000)" stroke="#6F6F6F" stroke-width="2"><g id="edit-2" stroke-linecap="round" stroke-linejoin="round"><path d="M15,1 C15.7145312,0.285468802 16.7559831,0.00641259763 17.7320508,0.267949159 C18.7081186,0.52948572 19.4705143,1.29188142 19.7320508,2.26794918 C19.9935874,3.24401693 19.7145312,4.28546882 19,5 L5.5,18.5 L0,20 L1.5,14.5 L15,1 Z" id="Path"></path></g><path d="M2.5,14.5 L5.5,17.5" id="Line-3" stroke-linecap="square"></path></g></g>',notifications:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',profile:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',chevDown:'<polyline points="6 9 12 15 18 9"></polyline>',chevUp:'<polyline points="18 15 12 9 6 15"></polyline>',chevLeft:'<polyline points="15 18 9 12 15 6"></polyline>',chevRight:'<polyline points="9 18 15 12 9 6"></polyline>',close:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',closeCircle:"",search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',add:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',remove:'<line x1="5" y1="12" x2="19" y2="12"></line>',more:'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',follow:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',following:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',dropdownCaret:"",arrowCircleRight:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',arrowCircleLeft:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',arrowCircleDown:'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',arrowCircleUp:'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',arrowLeft:'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',arrowRight:'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',arrowDown:'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',helpCircle:'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',refresh:'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',circle:'<circle cx="12" cy="12" r="10"></circle>',report:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',history:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',drag:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',share:'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',comment:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',edit:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',mute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',unmute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',block:'<path d="M7.00001 0.333252C3.31668 0.333252 0.333344 3.31659 0.333344 6.99992C0.333344 10.6833 3.31668 13.6666 7.00001 13.6666C10.6833 13.6666 13.6667 10.6833 13.6667 6.99992C13.6667 3.31659 10.6833 0.333252 7.00001 0.333252ZM1.66668 6.99992C1.66668 4.05325 4.05334 1.66659 7.00001 1.66659C8.23334 1.66659 9.36334 2.08992 10.2667 2.78992L2.79001 10.2666C2.09001 9.36325 1.66668 8.23325 1.66668 6.99992ZM7.00001 12.3333C5.76668 12.3333 4.63668 11.9099 3.73334 11.2099L11.21 3.73325C11.91 4.63659 12.3333 5.76659 12.3333 6.99992C12.3333 9.94659 9.94668 12.3333 7.00001 12.3333Z" fill="#111111"/>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',filter:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',attach:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',lightbulb:'<path d="M8 20.56l.03.937c0 .86.995 1.004 1.984 1.004h2.304c1 0 1.68-.328 1.68-1.187V20.5m-5.89-1c0-1.58-.556-2.654-1.573-3.802a6.3 6.3 0 0 1-1.482-4.93C5.42 8.04 7.75 5.5 10.976 5.5c3.286 0 6.02 2.727 6.024 6.13 0 1.534-.556 3.017-1.62 4.165-.974 1.05-1.482 2.08-1.482 3.705" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M8 20.052h6" stroke-width="2"/><path d="M21.38 13.845H20m-17.62 0H1m2.76-7.207l-.975-.975m16.835.285l-.975.975M11 1.5v1.38" stroke-width="2" stroke-linecap="round"/>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',textFormat:"",picture:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',hideKeyboard:"",link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',brightnessUp:"",brightnessDown:"",reply:"",embed:"",camera:"",lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',unlock:"",timeout:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM19 13C19 13.5523 18.5523 14 18 14L12.0014 14C12.0009 14 12.0005 14 12 14C11.4477 14 11 13.5523 11 13V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V12L18 12C18.5523 12 19 12.4477 19 13Z" fill="#121212"/>',closeAccount:'<path fill-rule="evenodd" clip-rule="evenodd" d="M15.3332 8.00033C15.3332 12.0504 12.0499 15.3337 7.99984 15.3337C3.94975 15.3337 0.666504 12.0504 0.666504 8.00033C0.666504 3.95024 3.94975 0.666992 7.99984 0.666992C12.0499 0.666992 15.3332 3.95024 15.3332 8.00033ZM2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8ZM7.05719 8L5.5286 9.5286C5.26825 9.78895 5.26825 10.2111 5.5286 10.4714C5.78895 10.7318 6.21106 10.7318 6.4714 10.4714L8 8.94281L9.5286 10.4714C9.78895 10.7318 10.2111 10.7318 10.4714 10.4714C10.7318 10.2111 10.7318 9.78895 10.4714 9.5286L8.94281 8L10.4714 6.4714C10.7318 6.21106 10.7318 5.78895 10.4714 5.5286C10.2111 5.26825 9.78895 5.26825 9.5286 5.5286L8 7.05719L6.4714 5.5286C6.21106 5.26825 5.78895 5.26825 5.5286 5.5286C5.26825 5.78895 5.26825 6.21106 5.5286 6.4714L7.05719 8Z" fill="#121212"/>',readingList:"",underline:"",bold:"",italic:"",textAlignRight:"",textAlignCenter:"",textAlignLeft:"",userFollow:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM21 10H23C24.3333 10 24.3333 12 23 12H21V14C21 15.3333 19 15.3333 19 14V12H17C15.6667 12 15.6667 10 17 10H19V8C19 6.66667 21 6.66667 21 8V10Z"/>',userFollowed:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM23.7071 8.29289C23.3166 7.90237 22.6834 7.90237 22.2929 8.29289L19 11.5858L17.7071 10.2929C17.3166 9.90237 16.6834 9.90237 16.2929 10.2929C15.9024 10.6834 15.9024 11.3166 16.2929 11.7071L18.2929 13.7071C18.6834 14.0976 19.3166 14.0976 19.7071 13.7071L23.7071 9.70711C24.0976 9.31658 24.0976 8.68342 23.7071 8.29289Z"/>',rankingBadge:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.6001 11.1998C5.6001 5.45604 10.2563 0.799805 16.0001 0.799805C21.7439 0.799805 26.4001 5.45604 26.4001 11.1998C26.4001 16.9436 21.7439 21.5998 16.0001 21.5998C10.2563 21.5998 5.6001 16.9436 5.6001 11.1998ZM12.2383 16.3775L12.9567 12.1887L9.91334 9.2221L14.1192 8.61095L16.0001 4.7998L17.881 8.61095L22.0869 9.2221L19.0435 12.1887L19.7619 16.3775L16.0001 14.3998L12.2383 16.3775ZM11.2001 30.8975V22.2013C12.67 22.8435 14.2934 23.1998 16.0001 23.1998C17.9017 23.1998 19.7 22.7575 21.2978 21.9701V30.8975L16.2489 25.8486L11.2001 30.8975Z"/>',reportFlag:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.333008 18.9997V2.99967C0.333008 2.64605 0.473484 2.30691 0.723532 2.05687C1.0163 1.7641 1.54299 1.41297 2.33782 1.09504C3.54157 0.613537 5.08449 0.333008 6.99967 0.333008C8.88843 0.333008 10.1765 0.701033 12.8282 1.76171C15.1765 2.70103 16.2218 2.99967 17.6663 2.99967C19.2512 2.99967 20.4582 2.7802 21.3378 2.42837C21.793 2.2463 22.0163 2.09743 22.0569 2.05687C22.8968 1.21691 24.333 1.8118 24.333 2.99967V18.9997C24.333 19.3533 24.1925 19.6924 23.9425 19.9425C23.6497 20.2353 23.123 20.5864 22.3282 20.9043C21.1244 21.3858 19.5815 21.6663 17.6663 21.6663C15.7776 21.6663 14.4895 21.2983 11.8378 20.2376C9.4895 19.2983 8.44426 18.9997 6.99967 18.9997C5.41486 18.9997 4.20777 19.2191 3.3282 19.571C3.20092 19.6219 3.09177 19.6702 2.99967 19.7143V28.333C2.99967 29.0694 2.40272 29.6663 1.66634 29.6663C0.929961 29.6663 0.333008 29.0694 0.333008 28.333V18.9997ZM6.99967 16.333C8.88842 16.333 10.1765 16.701 12.8282 17.7617C15.1765 18.701 16.2218 18.9997 17.6663 18.9997C19.2512 18.9997 20.4582 18.7802 21.3378 18.4284C21.4651 18.3775 21.5742 18.3291 21.6663 18.2851V5.13776C20.5742 5.47524 19.2471 5.66634 17.6663 5.66634C15.7776 5.66634 14.4895 5.29832 11.8378 4.23764C9.4895 3.29832 8.44426 2.99967 6.99967 2.99967C5.41486 2.99967 4.20777 3.21914 3.3282 3.57098C3.20092 3.62189 3.09177 3.6702 2.99967 3.71428V16.8616C4.09182 16.5241 5.41894 16.333 6.99967 16.333Z" fill="#121212"/>',commentMeta:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',views:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.0703819 7.70186C0.164094 7.51443 0.339978 7.20175 0.596224 6.80498C1.02033 6.1483 1.52075 5.49201 2.09698 4.87737C3.77421 3.08833 5.7468 2 8 2C10.2532 2 12.2258 3.08833 13.903 4.87737C14.4792 5.49201 14.9797 6.1483 15.4038 6.80498C15.66 7.20175 15.8359 7.51443 15.9296 7.70186C16.0235 7.88954 16.0235 8.11046 15.9296 8.29814C15.8359 8.48557 15.66 8.79825 15.4038 9.19502C14.9797 9.8517 14.4792 10.508 13.903 11.1226C12.2258 12.9117 10.2532 14 8 14C5.7468 14 3.77421 12.9117 2.09698 11.1226C1.52075 10.508 1.02033 9.8517 0.596224 9.19502C0.339978 8.79825 0.164094 8.48557 0.0703819 8.29814C-0.0234606 8.11046 -0.0234606 7.88954 0.0703819 7.70186ZM1.71632 8.47165C2.0995 9.06496 2.55221 9.65868 3.06973 10.2107C4.5175 11.755 6.16991 12.6667 8.00004 12.6667C9.83017 12.6667 11.4826 11.755 12.9304 10.2107C13.4479 9.65868 13.9006 9.06496 14.2838 8.47165C14.3925 8.30325 14.489 8.14509 14.5729 8C14.489 7.85491 14.3925 7.69675 14.2838 7.52835C13.9006 6.93504 13.4479 6.34132 12.9304 5.78929C11.4826 4.24501 9.83017 3.33333 8.00004 3.33333C6.16991 3.33333 4.5175 4.24501 3.06973 5.78929C2.55221 6.34132 2.0995 6.93504 1.71632 7.52835C1.60756 7.69675 1.5111 7.85491 1.42718 8C1.5111 8.14509 1.60756 8.30325 1.71632 8.47165ZM8 10.6667C6.52724 10.6667 5.33333 9.47276 5.33333 8C5.33333 6.52724 6.52724 5.33333 8 5.33333C9.47276 5.33333 10.6667 6.52724 10.6667 8C10.6667 9.47276 9.47276 10.6667 8 10.6667ZM8 9.33333C8.73638 9.33333 9.33333 8.73638 9.33333 8C9.33333 7.26362 8.73638 6.66667 8 6.66667C7.26362 6.66667 6.66667 7.26362 6.66667 8C6.66667 8.73638 7.26362 9.33333 8 9.33333Z"/>',votes:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',votesBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M6.53792 5.80206C6.44089 5.99863 6.25344 6.13493 6.03653 6.16664L2.76572 6.64472L5.13194 8.94941C5.28919 9.10257 5.36096 9.32332 5.32385 9.53968L4.76557 12.7948L7.68982 11.2569C7.88407 11.1548 8.11616 11.1548 8.31042 11.2569L11.2347 12.7948L10.6764 9.53968C10.6393 9.32332 10.711 9.10257 10.8683 8.94941L13.2345 6.64472L9.9637 6.16664C9.74679 6.13493 9.55934 5.99863 9.46231 5.80206L8.00012 2.83982L6.53792 5.80206ZM5.49723 4.89797L7.40227 1.03858C7.64683 0.543131 8.35332 0.543131 8.59788 1.03858L10.5029 4.89797L14.7632 5.52067C15.3098 5.60056 15.5276 6.27246 15.1319 6.6579L12.0498 9.6599L12.7771 13.901C12.8706 14.4456 12.2989 14.8609 11.8098 14.6037L8.00007 12.6002L4.19038 14.6037C3.70129 14.8609 3.12959 14.4456 3.223 13.901L3.95039 9.6599L0.868253 6.6579C0.472524 6.27246 0.690379 5.60056 1.23699 5.52067L5.49723 4.89797Z"/>',parts:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line>',partsBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.33366 4.66634C3.70185 4.66634 4.00033 4.36786 4.00033 3.99967C4.00033 3.63148 3.70185 3.33301 3.33366 3.33301C2.96547 3.33301 2.66699 3.63148 2.66699 3.99967C2.66699 4.36786 2.96547 4.66634 3.33366 4.66634ZM4.00033 7.99967C4.00033 8.36786 3.70185 8.66634 3.33366 8.66634C2.96547 8.66634 2.66699 8.36786 2.66699 7.99967C2.66699 7.63148 2.96547 7.33301 3.33366 7.33301C3.70185 7.33301 4.00033 7.63148 4.00033 7.99967ZM4.00033 11.9997C4.00033 12.3679 3.70185 12.6663 3.33366 12.6663C2.96547 12.6663 2.66699 12.3679 2.66699 11.9997C2.66699 11.6315 2.96547 11.333 3.33366 11.333C3.70185 11.333 4.00033 11.6315 4.00033 11.9997ZM6.00033 7.99967C6.00033 8.36786 6.2988 8.66634 6.66699 8.66634H12.667C13.0352 8.66634 13.3337 8.36786 13.3337 7.99967C13.3337 7.63148 13.0352 7.33301 12.667 7.33301H6.66699C6.2988 7.33301 6.00033 7.63148 6.00033 7.99967ZM6.66699 12.6663C6.2988 12.6663 6.00033 12.3679 6.00033 11.9997C6.00033 11.6315 6.2988 11.333 6.66699 11.333H12.667C13.0352 11.333 13.3337 11.6315 13.3337 11.9997C13.3337 12.3679 13.0352 12.6663 12.667 12.6663H6.66699ZM6.00033 3.99967C6.00033 4.36786 6.2988 4.66634 6.66699 4.66634H12.667C13.0352 4.66634 13.3337 4.36786 13.3337 3.99967C13.3337 3.63148 13.0352 3.33301 12.667 3.33301H6.66699C6.2988 3.33301 6.00033 3.63148 6.00033 3.99967Z"/>',readTime:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1.7998 1.91992C1.52366 1.91992 1.2998 2.14378 1.2998 2.41992V11.72C1.2998 11.9962 1.52366 12.22 1.7998 12.22H6.13985C6.50055 12.22 6.84648 12.3633 7.10153 12.6184C7.3518 12.8686 7.49446 13.2064 7.49972 13.5598V13.58C7.49972 13.8562 7.72358 14.08 7.99972 14.08C7.99977 14.08 7.99983 14.08 7.99987 14.08C8.27602 14.08 8.49987 13.8562 8.49987 13.58V13.5598C8.50514 13.2064 8.6478 12.8686 8.89806 12.6184C9.15312 12.3633 9.49904 12.22 9.85975 12.22H14.1998C14.4759 12.22 14.6998 11.9962 14.6998 11.72V2.41992C14.6998 2.14378 14.4759 1.91992 14.1998 1.91992H10.4798C9.6894 1.91992 8.93142 2.23389 8.37255 2.79275C8.23258 2.93273 8.10796 3.0852 7.9998 3.24754C7.89163 3.0852 7.76702 2.93273 7.62704 2.79275C7.06818 2.23389 6.3102 1.91992 5.51985 1.91992H1.7998ZM8.49987 11.6512V4.89995C8.49987 4.89362 8.49985 4.8873 8.49981 4.88097C8.50478 4.36269 8.71281 3.86671 9.07966 3.49986C9.45099 3.12853 9.95462 2.91992 10.4798 2.91992H13.6998V11.22H9.85975C9.3696 11.22 8.89517 11.3725 8.49987 11.6512ZM7.49978 4.88097C7.49482 4.36269 7.28679 3.86671 6.91994 3.49986C6.54861 3.12853 6.04498 2.91992 5.51985 2.91992H2.2998V11.22H6.13985C6.63 11.22 7.10443 11.3725 7.49972 11.6512V4.89995C7.49972 4.89362 7.49974 4.8873 7.49978 4.88097Z" fill="#686868"/>',bookOpenBeta:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',paidStory:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 5C7.98528 5 10 4.32843 10 3.5C10 2.67157 7.98528 2 5.5 2C3.01472 2 1 2.67157 1 3.5C1 4.32843 3.01472 5 5.5 5ZM1 5.39676V7.35873C1.7563 7.65631 3.29325 7.95305 5.07318 7.99496C5.5172 7.22867 6.08473 6.54286 6.74854 5.96477C6.34655 5.98814 5.929 6 5.5 6C3.6955 6 2.09368 5.79011 1 5.39676ZM4.00016 11.9485C4.00005 11.9657 4 11.9828 4 12C4 12.6749 4.08358 13.3303 4.24095 13.9564C2.82212 13.8582 1.63548 13.6088 1 13.3587V11.3968C1.77904 11.6769 2.81589 11.864 4.00016 11.9485ZM4.58902 8.98153C4.3366 9.60066 4.1595 10.2585 4.06912 10.9437C2.72657 10.8379 1.60965 10.5986 1 10.3587V8.39676C1.9057 8.7225 3.15986 8.92243 4.58902 8.98153Z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12ZM12.8574 16.231C13.556 16.1121 14.1116 15.8464 14.5241 15.4339C14.9366 15.0214 15.1429 14.5141 15.1429 13.9121C15.1429 13.4067 15.0184 13.0035 14.7694 12.7025C14.5204 12.4015 14.2231 12.1822 13.8775 12.0447C13.5319 11.9072 13.0878 11.7716 12.5452 11.6378C12.1588 11.5412 11.8577 11.4557 11.6422 11.3814C11.4267 11.3071 11.2483 11.2049 11.1071 11.0748C10.9659 10.9447 10.8953 10.7756 10.8953 10.5675C10.8953 10.2702 11.016 10.0324 11.2576 9.85403C11.4991 9.67565 11.8206 9.58647 12.2219 9.58647C12.5713 9.58647 12.8667 9.63478 13.1082 9.7314C13.3498 9.82802 13.6229 9.97295 13.9277 10.1662C14.054 10.2405 14.1525 10.2888 14.2231 10.3111C14.2937 10.3334 14.3699 10.3446 14.4516 10.3446C14.6003 10.3446 14.7322 10.274 14.8474 10.1327C14.9626 9.99153 15.0202 9.82802 15.0202 9.64221C15.0202 9.50843 14.9961 9.39322 14.9478 9.2966C14.8994 9.19998 14.8195 9.11451 14.7081 9.04019C14.1209 8.62397 13.4929 8.37127 12.824 8.28208V7.66891C12.824 7.46824 12.7626 7.30659 12.64 7.18395C12.5174 7.06132 12.3557 7 12.155 7C11.9618 7 11.802 7.06132 11.6757 7.18395C11.5493 7.30659 11.4861 7.46824 11.4861 7.66891V8.30438C10.7949 8.4233 10.2356 8.6983 9.80827 9.12938C9.38091 9.56045 9.16723 10.077 9.16723 10.679C9.16723 11.1919 9.29544 11.6006 9.55185 11.9054C9.80827 12.2101 10.1149 12.4331 10.4716 12.5743C10.8284 12.7155 11.2817 12.8567 11.8317 12.9979C12.2108 13.102 12.5006 13.1875 12.7013 13.2543C12.902 13.3212 13.0711 13.4141 13.2086 13.5331C13.3461 13.652 13.4148 13.8043 13.4148 13.9901C13.4148 14.2949 13.2959 14.5309 13.0581 14.6981C12.8202 14.8653 12.4784 14.9489 12.0324 14.9489C11.6979 14.9489 11.3765 14.9025 11.0681 14.8096C10.7596 14.7167 10.4344 14.5699 10.0926 14.3692C9.88445 14.2503 9.70979 14.1908 9.56858 14.1908C9.41993 14.1908 9.288 14.2614 9.1728 14.4026C9.0576 14.5439 9 14.7074 9 14.8932C9 15.0344 9.02416 15.1515 9.07247 15.2444C9.12078 15.3373 9.20439 15.4209 9.32331 15.4952C9.61317 15.7033 9.94948 15.8743 10.3323 16.008C10.715 16.1418 11.1108 16.2273 11.5196 16.2645V16.8665C11.5196 17.0672 11.5827 17.2288 11.7091 17.3514C11.8355 17.4741 11.9952 17.5354 12.1885 17.5354C12.3892 17.5354 12.5508 17.4741 12.6735 17.3514C12.7961 17.2288 12.8574 17.0672 12.8574 16.8665V16.231Z" />',notifDedicate:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',notifStoryUpdate:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',notifFeedMessage:"",warning:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"warning-triangle":'<g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Ic-/-14px-/-Alert" transform="translate(0.000000, 0.000000)" fill="#FFC922">\n      <path d="M11.875,5 C12.4019232,5 12.8906036,5.28229723 13.1638807,5.744551 L13.1638807,5.744551 L19.5479857,16.6799097 C19.8158305,17.1558373 19.8174297,17.7418513 19.5521866,18.2193104 C19.2869436,18.6967695 18.7946975,18.9939599 18.259105,19 L18.259105,19 L5.490895,19 C4.95530252,18.9939599 4.46305644,18.6967695 4.19781339,18.2193104 C3.93257035,17.7418513 3.93416953,17.1558373 4.2020143,16.6799097 L4.2020143,16.6799097 L10.5861193,5.744551 C10.8593964,5.28229723 11.3480768,5 11.875,5 Z M11.65625,15.5 C11.2938131,15.5 11,15.7938131 11,16.15625 L11,16.15625 L11,16.4397278 C11,16.8021647 11.2938131,17.0959778 11.65625,17.0959778 C12.0186869,17.0959778 12.3125,16.8021647 12.3125,16.4397278 L12.3125,16.4397278 L12.3125,16.15625 C12.3125,15.7938131 12.0186869,15.5 11.65625,15.5 Z M11.65625,9.375 C11.2938131,9.375 11,9.66881313 11,10.03125 L11,10.03125 L11,13.53125 C11,13.8936869 11.2938131,14.1875 11.65625,14.1875 C12.0186869,14.1875 12.3125,13.8936869 12.3125,13.53125 L12.3125,13.53125 L12.3125,10.03125 C12.3125,9.66881313 12.0186869,9.375 11.65625,9.375 Z" id="Combined-Shape"></path>\n  </g>\n</g>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',copyright:"",publicDomain:"",creativeCommons:"",location:"",stats:"",check:'<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z"/>',shieldCheck:'<path d="m1.19901 4.09592 9.80099-3.675998 9.801 3.675998c.51.195.865.68.866 1.248v5.74298c0 4.236-1.83 8.266-5.018 11.056l-5.649 4.944-5.64999-4.944c-3.081-2.707-5.016002-6.656-5.017002-11.056v-5.74298c0-.568.356-1.053.856002-1.245zm8.386 10.01298-1.885-1.882c-.12377-.1238-.27072-.2221-.43246-.2891-.16174-.0671-.3351-.1016-.51019-.1016-.17508-.0001-.34846.0344-.51024.1013-.16177.067-.30878.1652-.43261.2889-.12384.1238-.22208.2707-.28913.4325-.06704.1617-.10158.3351-.10162.5102-.00005.1751.03439.3484.10135.5102s.16513.3088.2889.4326l2.829 2.828c.12357.1241.27045.2226.43219.2898s.33516.1018.51031.1018c.17514 0 .34857-.0346.51029-.1018.1618-.0672.3086-.1657.4322-.2898l5.657-5.657c.2501-.2499.3907-.589.3908-.9426.0001-.35362-.1403-.69278-.3903-.94288s-.589-.39065-.9426-.39075c-.3536-.00009-.6928.14029-.9429.39025l-4.71499 4.71498z" fill="#3f6f0c"/>',staff:' <g id="Staff---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -227.000000)">\n      <g id="ic_badge_verified" transform="translate(1147.000000, 227.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      </g>\n      <path d="M1154.11212,241.7 C1155.77292,241.7 1156.00632,239.785105 1157.14045,238.07578 C1157.09856,238.686857 1157.13746,239.227533 1157.26314,239.599248 C1157.75689,241.066395 1159.45659,241.179036 1160.22864,239.689361 C1161.31788,237.588608 1161.62909,237.092989 1162.72731,235.580785 C1163.45148,234.581097 1162.61061,233.936228 1161.63807,234.400872 C1161.13834,234.640234 1160.32739,235.234414 1159.31595,236.498808 C1159.4925,235.538545 1159.44462,233.910884 1157.97235,234.003813 C1157.19432,234.051685 1156.18587,234.879595 1154.80935,237.00006 C1154.92307,235.808883 1154.96795,234.964076 1154.41735,234.521961 C1154.0403,234.21783 1153.15155,234.102373 1152.6189,234.752874 C1152.08325,235.409008 1151.95757,236.687481 1152.01144,238.03354 C1152.11617,240.852377 1153.17549,241.7 1154.11212,241.7 Z" id="Logo-path" fill="#FFFFFF"></path>\n  </g>\n</g>',ambassador:'<g id="Amb-badge" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Badges" transform="translate(-35.000000, -206.000000)">\n      <g id="ic_badge_verified" transform="translate(35.000000, 206.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n          <g id="Group-3" transform="translate(5.000000, 6.000000)" fill="#FFFFFF">\n              <path d="M9.78065737,1.78094955 C9.35444338,0.694861133 8.31740847,-0.012577196 7.16968296,0.000169440589 C6.33637761,0.00279374812 5.5446272,0.373570912 5,1.01615136 C4.45500506,0.373570912 3.66362239,0.00279374812 2.83031704,0.000169440589 C1.68295927,-0.012577196 0.645924361,0.694861133 0.219342627,1.78094955 C-0.225626252,2.85466623 0.0192905027,4.09671349 0.837150656,4.91137353 L4.73890256,8.88907394 C4.88195454,9.03641006 5.11473578,9.03678496 5.25889098,8.89132335 L5.26109744,8.88907394 L9.16284934,4.91137353 C9.9807095,4.09671349 10.2256263,2.85466623 9.78065737,1.78094955" id="Fill-1"></path>\n          </g>\n      </g>\n  </g>\n</g>',verified:'<g id="Verifier---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -299.000000)">\n      <path d="M1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1165.419,305.513 Z" id="Path" fill="#FFFFFF"></path>\n      <path d="M1166.64,307.645 L1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1166.64,307.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      <path d="M1156.36061,312.705984 C1156.00858,313.098005 1155.43225,313.098005 1155.08022,312.705984 L1152.26402,309.569809 C1151.91199,309.177788 1151.91199,308.536863 1152.26402,308.144841 C1152.61604,307.75282 1153.19238,307.75282 1153.5444,308.144841 L1155.72042,310.568087 L1160.4564,305.294016 C1160.80842,304.901995 1161.38396,304.901995 1161.73598,305.294016 C1162.08801,305.686038 1162.08801,306.326963 1161.73598,306.718984 L1156.36061,312.705984 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',star:'<g id="Stars---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -336.000000)">\n      <path d="M1166.64,344.645 L1165.419,342.513 L1164.774,340.142 C1164.521,339.209 1163.792,338.48 1162.859,338.226 L1160.487,337.581 L1158.355,336.36 C1157.935,336.12 1157.467,336 1157,336 C1156.533,336 1156.065,336.12 1155.646,336.36 L1153.513,337.581 L1151.141,338.226 C1150.208,338.48 1149.48,339.208 1149.226,340.141 L1148.581,342.513 L1147.36,344.646 C1146.88,345.485 1146.88,346.515 1147.36,347.355 L1148.581,349.487 L1149.226,351.86 C1149.48,352.792 1150.209,353.521 1151.142,353.774 L1153.513,354.419 L1155.645,355.64 C1156.065,355.88 1156.533,356 1157,356 C1157.467,356 1157.935,355.88 1158.355,355.64 L1160.487,354.419 L1162.859,353.774 C1163.792,353.521 1164.521,352.792 1164.774,351.859 L1165.419,349.487 L1166.64,347.355 C1167.12,346.515 1167.12,345.485 1166.64,344.645 L1166.64,344.645 Z" id="Path" fill="#FF6122"></path>\n      <path d="M1158.545,344.292 L1157.42218,341.899553 C1157.18902,341.402744 1156.81055,341.403664 1156.57782,341.899553 L1155.455,344.292 L1152.98082,344.669751 C1152.43913,344.752455 1152.30655,345.133713 1152.69639,345.533299 L1154.5,347.382 L1154.07122,350.011366 C1153.98218,350.557373 1154.30135,350.783681 1154.7872,350.515124 L1157,349.292 L1159.2128,350.515124 C1159.69726,350.782914 1160.01765,350.556362 1159.92878,350.011366 L1159.5,347.382 L1161.30361,345.533299 C1161.68822,345.139079 1161.54832,344.750539 1161.01918,344.669751 L1158.545,344.292 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',sponsored:"",storyrank:"",promoted:'<g fill="none" fill-rule="evenodd">\n  <path fill="#FF6122" fill-rule="nonzero" d="M14.73 6.484l-.916-1.6-.483-1.778a2.044 2.044 0 0 0-1.437-1.436l-1.779-.484L8.516.27a2.048 2.048 0 0 0-2.032 0l-1.6.916-1.778.484c-.7.19-1.246.736-1.436 1.436l-.484 1.779-.916 1.6c-.36.629-.36 1.401 0 2.031l.916 1.6.484 1.779c.19.699.737 1.246 1.437 1.436l1.778.483 1.599.916a2.048 2.048 0 0 0 2.032 0l1.6-.916 1.778-.483c.7-.19 1.247-.737 1.437-1.437l.483-1.779.916-1.599c.36-.63.36-1.402 0-2.032z"/>\n  <g stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n      <path d="M7.5 10.5V5.25M4.875 7.875L7.5 5.25l2.625 2.625"/>\n  </g>\n</g>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',twitter:"",facebook:"","facebook-login":"",pinterest:"",tumblr:"",googlePlus:"",email:"",preferences:'<g fill="none" fill-rule="nonzero" stroke="#222" stroke-linecap="round" stroke-width="2" transform="translate(1 1)">\n  <path d="M0 2h17M0 8.5h17M0 15.5h17"/>\n  <circle cx="8" cy="2" r="2" fill="#222"/>\n  <circle cx="15" cy="9" r="2" fill="#222"/>\n  <circle cx="8" cy="16" r="2" fill="#222"/>\n</g>',exclusiveChapter:'<path d="M6.20665 3.28784C6.24407 3.15959 6.58473 3.15959 6.62216 3.28784C6.74906 3.72276 6.94514 4.19724 7.23908 4.48916C7.53133 4.77939 8.00531 4.97355 8.44118 5.09964C8.5697 5.13682 8.5697 5.47946 8.44118 5.51664C8.00531 5.64273 7.53133 5.83689 7.23908 6.12713C6.94514 6.41904 6.74906 6.89352 6.62216 7.32845C6.58473 7.45669 6.24407 7.45669 6.20665 7.32845C6.07974 6.89352 5.88367 6.41904 5.58973 6.12713C5.29748 5.83689 4.8235 5.64274 4.38763 5.51664C4.25911 5.47946 4.25911 5.13682 4.38763 5.09964C4.8235 4.97355 5.29748 4.77939 5.58973 4.48916C5.88367 4.19724 6.07974 3.72276 6.20665 3.28784Z" stroke="none"/>\n<path d="M14.625 1.01533C14.6579 0.885851 14.9754 0.885851 15.0083 1.01533C15.1615 1.61812 15.4228 2.34482 15.8475 2.7666C16.2705 3.18664 16.9979 3.44569 17.6034 3.5981C17.7332 3.63076 17.7332 3.9499 17.6034 3.98255C16.9979 4.13496 16.2705 4.39402 15.8475 4.81406C15.4228 5.23584 15.1615 5.96254 15.0083 6.56533C14.9754 6.6948 14.6579 6.69481 14.625 6.56533C14.4718 5.96254 14.2105 5.23584 13.7858 4.81406C13.3628 4.39402 12.6354 4.13496 12.0299 3.98255C11.9001 3.9499 11.9001 3.63076 12.0299 3.5981C12.6354 3.44569 13.3628 3.18664 13.7858 2.7666C14.2105 2.34482 14.4718 1.61812 14.625 1.01533Z" stroke="none"/>\n<path d="M3.36108 8.34473H7.94442C8.7548 8.34473 9.53199 8.62891 10.105 9.13475C10.678 9.6406 11 10.3267 11 11.042V20.4827C11 19.9461 10.7585 19.4316 10.3288 19.0522C9.89899 18.6728 9.31609 18.4597 8.70831 18.4597H3.36108V8.34473Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>\n<path d="M18.6389 8.34473H14.0556C13.2452 8.34473 12.468 8.62891 11.895 9.13475C11.3219 9.6406 11 10.3267 11 11.042V20.4827C11 19.9461 11.2414 19.4316 11.6712 19.0522C12.101 18.6728 12.6839 18.4597 13.2917 18.4597H18.6389V8.34473Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>',writerReveal:'<g xmlns="http://www.w3.org/2000/svg" clip-path="url(#clip0_1386_2918)">\n<path d="M2.86499 13.5536C2.86499 13.5536 5.83595 7.73633 11.0351 7.73633C16.2343 7.73633 19.2053 13.5536 19.2053 13.5536C19.2053 13.5536 16.2343 19.3709 11.0351 19.3709C5.83595 19.3709 2.86499 13.5536 2.86499 13.5536Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M11.0351 15.735C12.2657 15.735 13.2633 14.7583 13.2633 13.5535C13.2633 12.3488 12.2657 11.3721 11.0351 11.3721C9.80449 11.3721 8.80688 12.3488 8.80688 13.5535C8.80688 14.7583 9.80449 15.735 11.0351 15.735Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.18746" y2="-1" transform="matrix(0.608134 0.793834 -0.806046 0.591852 0 6.07422)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.16841" y2="-1" transform="matrix(0.390462 0.920619 -0.926379 0.376592 5.94189 2.75)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.18746" y2="-1" transform="matrix(-0.608134 0.793834 0.806046 0.591852 22 6.07422)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.16841" y2="-1" transform="matrix(-0.390462 0.920619 0.926379 0.376592 16.0581 2.75)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n</g>',commentStats:'<path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" d="M2.33337 1.66659C2.15656 1.66659 1.98699 1.73682 1.86197 1.86185C1.73695 1.98687 1.66671 2.15644 1.66671 2.33325V11.3904L3.1953 9.86185C3.32033 9.73682 3.4899 9.66659 3.66671 9.66659H11.6667C11.8435 9.66659 12.0131 9.59635 12.1381 9.47132C12.2631 9.3463 12.3334 9.17673 12.3334 8.99992V2.33325C12.3334 2.15644 12.2631 1.98687 12.1381 1.86185C12.0131 1.73682 11.8435 1.66659 11.6667 1.66659H2.33337ZM0.91916 0.919038C1.29423 0.543966 1.80294 0.333252 2.33337 0.333252H11.6667C12.1971 0.333252 12.7058 0.543966 13.0809 0.919038C13.456 1.29411 13.6667 1.80282 13.6667 2.33325V8.99992C13.6667 9.53035 13.456 10.0391 13.0809 10.4141C12.7058 10.7892 12.1971 10.9999 11.6667 10.9999H3.94285L1.47145 13.4713C1.28078 13.662 0.994035 13.719 0.744918 13.6158C0.495802 13.5127 0.333374 13.2696 0.333374 12.9999V2.33325C0.333374 1.80282 0.544088 1.29411 0.91916 0.919038Z" fill="#686868"/>'}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(93),a=n(344),o=n(371);function i(e){return Object(r.e)(o.a,e,Object(r.d)(Object(r.a)(a.a),s.__REDUX_DEVTOOLS_EXTENSION__?s.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))}var s=s||e}).call(this,n(36))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(5),c=n(58),u=n(9);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e,t){var n,o;return o=n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,n);var r,o,i,m=y(b);function b(){return d(this,b),m.apply(this,arguments)}return r=b,(o=[{key:"render",value:function(){var n,r,o,i;if(Object(l.o)()){var m=wattpad.utils.currentUser();n=wattpad.utils.trans,r=wattpad.utils.ngettext,o=m?m.attributes:{},i=wattpad.testGroups}else n=this.props.resLocals.trans,r=this.props.resLocals.ngettext,o=this.props.resLocals.currentUser||{},i=this.props.resLocals.testGroups;return a.a.createElement(s.a,{store:t},a.a.createElement(u.AppProvider,{i18n:{translate:n,ngettext:r}},a.a.createElement(c.c.Provider,{value:o},a.a.createElement(c.b.Provider,{value:{trans:n,ngettext:r}},a.a.createElement(c.a.Provider,{value:i},a.a.createElement(e,this.props))))))}}])&&f(r.prototype,o),i&&f(r,i),b}(r.Component),h(n,"displayName","".concat(function(e){return e.displayName||e.name||"Component"}(e),"WithRedux")),h(n,"propTypes",{resLocals:i.a.shape({trans:i.a.func,ngettext:i.a.func,currentUser:i.a.object,testGroups:i.a.object})}),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(3);function i(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.k,null),a.a.createElement(o.q,{isGlobalModalContainer:!0}))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(56),l=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b,g,h,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=f(i);function i(){return u(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"announcement-modal"},a.a.createElement(s.a,{name:"shared/megaphone_teal.png"}),a.a.createElement("header",null,e("Announce an Important Post")),a.a.createElement("div",null,e("By using this feature, this message will be sent to all your followers notification feeds. Please note that you can only post up to %s announcements per day - save these for special occasions!",3)),a.a.createElement("div",{className:"buttons"},a.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/articles/201463980-Making-an-announcement",target:"_blank",rel:"noopener noreferrer",className:"btn btn-orange"},e("Learn more")),a.a.createElement("button",{className:"btn btn-orange","data-dismiss":"modal"},e("Got it"))))}}])&&m(t.prototype,n),r&&m(t,r),i}(a.a.Component);b=v,g="propTypes",h={trans:i.a.func.isRequired},g in b?Object.defineProperty(b,g,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[g]=h,t.a=Object(l.n)(v)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(10);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=d(i);function i(){return c(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return a.a.createElement("div",{className:"menu-modal"},a.a.createElement("div",{className:"header"},e,a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.a,{iconName:"fa-remove",height:"14",color:"wp-neutral-2"}))),a.a.createElement("ul",{className:"menu-items"},t.map((function(t){var n=t.browseURL||wattpad.utils.categoryNameToUrl(t.key);return a.a.createElement("li",{key:t.key},t.url?"Browse"===e?a.a.createElement("a",{href:n,className:"on-navigate on-topic"},t.name):a.a.createElement("a",{href:n,className:"on-navigate"},t.name):a.a.createElement("span",{className:"selected"},t.name))}))))}}])&&u(t.prototype,n),r&&u(t,r),i}(a.a.Component);y.propTypes={headerName:i.a.string.isRequired,options:i.a.array.isRequired}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(70),l=n(3),c=n(2),u=function(e){var t,n,r,a=e.facebook,o=Object(c.o)().trans;return i.a.createElement("div",null,i.a.createElement("div",{className:"row form-group facebook"},i.a.createElement("label",{htmlFor:"update-facebook",className:"control-label col-sm-3"},"Facebook ",i.a.createElement("img",{className:"label-icon",src:"/image/icon22_fb.png?",alt:"icon22_fb.png",border:"0",align:"absmiddle"})),i.a.createElement("div",{className:"col-sm-6"},(r="/apiv2/linksocialmedia?action=unlinkfb&nextUrl="+wattpad.utils.getNextUrl(window.location.pathname),a?(t="https://www.facebook.com/"+a,n=i.a.createElement("div",{className:"unlink-facebook-wrapper"},i.a.createElement("a",{className:"facebook-url",href:t,target:"_new"},t),i.a.createElement("a",{href:r,id:"unlink_fb_btn",role:"button",tabIndex:"0"},i.a.createElement("img",{src:"/image/v2/unlink.png",width:"16",height:"16",alt:"unlink.png"})))):n=i.a.createElement("div",{className:"connect-facebook-wrapper"},i.a.createElement("button",{className:"btn-no-style"},i.a.createElement("img",{className:"btn-facebook-link",alt:"Facebook",border:"0",width:"89",height:"21",src:"/image/connect_light_medium_short.gif"})),i.a.createElement("div",{className:"facebook-tooltip",role:"tooltip","aria-label":"Facebook","data-tip":o("Connecting with Facebook makes it really easy to share everything you do on Wattpad with your Facebook friends. It also allows you to login to Wattpad with one click!")},i.a.createElement(l.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2",className:"tooltip-icon"})),i.a.createElement(s.a,{className:"tool-tip",effect:"solid"})),n))))};u.propTypes={facebook:a.a.string.isRequired},t.a=u},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(5),l=n(3),c=n(169);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r,a=p(o);function o(){return m(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.user,a=t.url,o=t.readCount,u=t.numParts,m=t.voteCount,d=t.cover,f=t.description,p=t.mature,y=t.completed,b=t.tags,g=t.rank,h=t.id,v=t.app,w=t.trans,E={tags:b,storyId:h,numShown:"desktop"===v.deviceType?3:2},O=Object(s.w)(n,35,!1),S=r.fullname||r.name,C=w("by %s",Object(s.w)(S,30,!1)),j=Object(s.d)(a),k="/user/"+r.name,N=Object(s.b)(o).toString(),_=Object(s.b)(u).toString(),P=Object(s.b)(m).toString(),T=Object(s.u)(f);"desktop"===v.deviceType?(e=Object(s.t)(d,Object(s.f)(142),v.devicePixelRatio,v.matchMedia,v.msMatchMedia),T=Object(s.w)(T,170,!1)):(e=Object(s.t)(d,Object(s.f)(92),v.devicePixelRatio,v.matchMedia,v.msMatchMedia),T=Object(s.w)(T,170,!1));var R,x=w("%1$s by %2$s",n,r.name),A={__html:T},I=i.a.createElement("div",{className:"description",dangerouslySetInnerHTML:A}),L=i.a.createElement("img",{src:e,alt:x});return g&&(R=i.a.createElement("div",{className:"story-rank"},i.a.createElement("span",null,"#",g))),i.a.createElement("div",{className:"item"},i.a.createElement("a",{className:"on-story-preview cover cover-lg","data-story-id":h,href:j},i.a.createElement("div",{className:"fixed-ratio fixed-ratio-cover"},L,R)),i.a.createElement("div",{className:"content"},i.a.createElement("a",{className:"title meta on-story-preview","data-story-id":h,href:j},O),i.a.createElement("a",{className:"username meta on-navigate",href:k},C),i.a.createElement("div",{className:"meta social-meta"},i.a.createElement("span",{className:"read-count"},i.a.createElement(l.e,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),N),i.a.createElement("span",{className:"vote-count"},i.a.createElement(l.e,{iconName:"fa-vote",height:"12",color:"wp-neutral-2"}),P),i.a.createElement("span",{className:"part-count"},i.a.createElement(l.e,{iconName:"fa-list",height:"12",color:"wp-neutral-2"}),_)),I,i.a.createElement("div",{className:"bottom-content clearfix"},i.a.createElement("div",{className:"story-status"},y?i.a.createElement("span",{className:"label label-info"},w("Completed")):null,p?i.a.createElement("span",{className:"label label-danger"},w("Mature")):null),i.a.createElement(c.a,{tagMeta:E}))))}}])&&d(t.prototype,n),r&&d(t,r),o}(o.Component);g.propTypes={completed:a.a.bool,cover:a.a.string,description:a.a.string.isRequired,id:a.a.string.isRequired,mature:a.a.bool,numParts:a.a.number.isRequired,rank:a.a.number,readCount:a.a.number.isRequired,trans:a.a.func.isRequired,tags:a.a.arrayOf(a.a.string).isRequired,title:a.a.string.isRequired,url:a.a.string.isRequired,user:a.a.shape({avatar:a.a.string,fullname:a.a.string,name:a.a.string}),voteCount:a.a.number.isRequired,app:a.a.object},t.a=Object(s.n)(g)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),a=n.n(r),o=n(0),i=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r,a=m(o);function o(){return l(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.promoName,t=this.props.promoOptions,n=t.flavourText,r=t.button;return i.a.createElement("div",{className:"banner-background",id:"".concat(e,"-banner")},i.a.createElement("div",{className:"banner-info"},n?i.a.createElement("div",{className:"flavour-text"},n):null,r?i.a.createElement("a",{href:r.link,className:"btn btn-orange banner-btn"},r.text):null))}}])&&c(t.prototype,n),r&&c(t,r),o}(i.a.Component);p.propTypes={promoName:a.a.string.isRequired,promoOptions:a.a.object.isRequired}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(2),i=n(1),s=n.n(i),l=n(5);function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=f||e;function p(e){var t=e.createCanvaCover,n=e.canvaApiKey,i=e.story,s=Object(o.o)().trans,c=m(Object(r.useState)(null),2),d=c[0],p=c[1];Object(o.d)("myworks:cover:saved",(function(e){p(e.detail)}),f),Object(r.useEffect)((function(){var e,t,n="canva-script";document.getElementById(n)||((t=document.createElement("script")).id=n,e=document.getElementsByTagName("script")[0],t.src="https://sdk.canva.com/v2/beta/api.js",e.parentNode.insertBefore(t,e))}),[]);var y=function(){var e=null;return i.id&&(d?"canva"===d.cover_partner&&d.cover_source_id&&(e=d.cover_source_id):e="canva"===i.cover_partner&&i.cover_source_id?i.cover_source_id:Object(l.m)({key:"canva-cover-".concat(i.id)})),e};function b(e){t(e)}function g(){return(g=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.CanvaButton){e.next=2;break}return e.abrupt("return");case 2:if(f.canvaApi){e.next=6;break}return e.next=5,f.CanvaButton.initialize({apiKey:n});case 5:f.canvaApi=e.sent;case 6:f.canvaApi.createDesign({type:"WattpadBookCover",publishLabel:s("Use Cover"),onDesignPublish:b}),(t=y())&&f.canvaApi.editDesign({designId:t,publishLabel:s("Update Cover"),onDesignPublish:b});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("button",{className:"canva-btn canva-btn-size-s",onClick:function(){return g.apply(this,arguments)}},a.a.createElement("span",{className:"canva-btn-i"}),y()?s("Edit Cover"):s("Create Cover"))}p.propTypes={createCanvaCover:s.a.func,canvaApiKey:s.a.string.isRequired,story:s.a.object}}).call(this,n(36))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),s=n(1),l=n.n(s),c=n(4),u=n.n(c),m=n(3),d=n(11);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,r,o=b(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),w(h(t=o.call(this,e)),"getSelectedPremiumTheme",(function(){var e=j?j.getCookie(d.k):t.props.reqCookies[d.k];return parseInt(e||d.e)})),w(h(t),"selectTheme",(function(e){if(e!==t.state.selectedTheme){var n=t.isPremium();n?(j.setPremiumTheme(e),t.setState({selectedTheme:e})):e!==d.f&&t.props.showSubscriptionModal();var r=d.o[e];C.te.push("event","profile","theme",null,"change",{premium:+n,theme:r})}}));var n=t.isPremium()?t.getSelectedPremiumTheme():d.f;return t.state={selectedTheme:n},t}return t=s,(n=[{key:"isPremium",value:function(){return this.props.isPremium}},{key:"render",value:function(){var e=this,t=i.a.range(1,d.i+1);return a.a.createElement("div",{role:"listbox","aria-labelledby":"panel-body-title"},t.map((function(t){return a.a.createElement("div",{key:t,className:"theme-option-wrapper"},a.a.createElement(O,{themeId:t,selected:t===e.state.selectedTheme,premium:e.isPremium(),selectTheme:e.selectTheme}))})))}}])&&p(t.prototype,n),r&&p(t,r),s}(a.a.Component);w(E,"propTypes",{isPremium:l.a.bool.isRequired,reqCookies:l.a.object,showSubscriptionModal:l.a.func});var O=function(e){var t=e.themeId,n=e.selected,r=e.premium,o=e.selectTheme,i=r||t===d.f?"":"unavailable";return a.a.createElement("div",{className:u()("theme-option","theme-".concat(t),{selected:n})},a.a.createElement("div",{className:u()("theme-option-inner","theme-".concat(t),i),onClick:function(){return o(t)},onKeyDown:function(){return o(t)},role:"option",tabIndex:"0","aria-selected":n,"aria-label":"theme-".concat(t)},a.a.createElement(S,{selected:n})))};O.propTypes={themeId:l.a.number.isRequired,selected:l.a.bool.isRequired,premium:l.a.bool.isRequired,selectTheme:l.a.func.isRequired};var S=function(e){var t=e.selected,n=a.a.createElement("div",null);return t&&(n=a.a.createElement(m.e,{iconName:"fa-check",height:"24",color:"wp-neutral-5"})),n};S.propTypes={selected:l.a.bool.isRequired};var C=C||e,j=i.a.get(C,"wattpad.utils")}).call(this,n(36))},function(e,t,n){"use strict";var r=n(6),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(8),c=n(2),u=n(3),m=n(119),d={1:"https://support.wattpad.com/hc/en-us/articles/360029365812",2:"https://support.wattpad.com/hc/fr/articles/360029365812",3:"https://support.wattpad.com/hc/it/articles/360029365812",4:"https://support.wattpad.com/hc/de/articles/360029365812",5:"https://support.wattpad.com/hc/es/articles/360029365812",6:"https://support.wattpad.com/hc/pt/articles/360029365812",20:"https://support.wattpad.com/hc/id/articles/360029365812",23:"https://support.wattpad.com/hc/tr/articles/360029365812"};function f(e){var t=e.toggleModal;return Object(i.useEffect)((function(){return t({className:"user404",disableClose:!0,component:function(){return s.a.createElement(p,null)}}),function(){t()}}),[t]),s.a.createElement("div",{id:"userError-404"},s.a.createElement(m.a,null),s.a.createElement(u.q,null))}function p(){var e=Object(c.o)().trans;var t=d[parseInt(app.get("language"),10)]?d[parseInt(app.get("language"),10)]:d[1];return s.a.createElement("div",{className:"user-not-found"},s.a.createElement("h3",null,e("User not found")),s.a.createElement("p",null,e("This user no longer exists, or is only visible to a selected audience.")),s.a.createElement("div",{className:"modal-btns"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-block learn-more",href:t},e("Learn more")),s.a.createElement("button",{className:"btn btn-sm btn-block go-back",onClick:function(){window.history.back()}},s.a.createElement("span",null," ",e("Go back")," "))))}f.propTypes={toggleModal:o.a.func.isRequired};var y=Object(r.b)(null,{toggleModal:l.b})(f);t.a=y},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3);t.a=function(){var e=Object(o.o)().trans;return a.a.createElement("div",{id:"story-404-wrapper"},a.a.createElement(i.c,{name:"errors/story-404.svg",className:"error-404-image"}),a.a.createElement("h3",null,e("This page got lost in a good story and never came back.")),a.a.createElement("p",null,e("We couldnt find what youre looking for. This page might have moved, no longer exists, or is only visible to a selected audience.")),a.a.createElement("div",{className:"buttons-404"},a.a.createElement("a",{className:"btn-primary on-navigate",href:"./home"},e("Go home"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3);t.a=function(){var e=Object(o.o)().trans;return a.a.createElement("div",{className:"merch-message-wrapper"},a.a.createElement(i.c,{name:"merch/merch_message.svg",className:"merch-message-image"}),a.a.createElement("h3",null,e("Sorry this product is in beta and only available on iOS at the moment.")),a.a.createElement("p",null,e("We hope to bring you exciting new merch experiences down the road.")))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(5),c=function(e){var t=e.group,n=e.authorMessage,r=e.onBuyCoins,o=e.trans,i=t.user,l=i.username,c=i.name,u=i.avatar;return a.a.createElement("div",{className:"story-paywall"},a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.e,{iconName:"fa-remove",height:"20",color:"wp-neutral-2"})),a.a.createElement("h2",null,o("If you are enjoying this story, please consider helping fund my writing")),a.a.createElement("div",{className:"avatar"},a.a.createElement(s.a,{avatar:u,username:l})),a.a.createElement("a",{className:"on-navigate profile-link",href:"/user/".concat(l)},"@",l),a.a.createElement("div",{className:"blocked-message"},a.a.createElement("span",{className:"italic"},n),a.a.createElement("div",{className:"author-name"},c)),a.a.createElement("button",{onClick:r,className:"btn btn-orange unlock unlock-part"},o("Get Coins to support me")),a.a.createElement("div",{className:"more-details"},o("When you unlock stories with Coins you are directly supporting writers, so they can keep writing stories you love.")," ",a.a.createElement("a",{href:"https://www.wattpad.com/paidstories/",target:"_blank",rel:"noopener noreferrer"},o("Learn how your support is empowering writers"))))};c.propTypes={group:i.a.shape({user:i.a.shape({username:i.a.string.isRequired,avatar:i.a.string.isRequired,name:i.a.string.isRequired}).isRequired}).isRequired,authorMessage:i.a.string.isRequired,onBuyCoins:i.a.func.isRequired,trans:i.a.func.isRequired},t.a=Object(l.n)(c)},function(e,t,n){"use strict";var r=n(6),a=n(4),o=n.n(a),i=n(1),s=n.n(i),l=n(0),c=n.n(l),u=n(5),m=n(2),d=n(108);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=f(Object(l.useState)(Object(u.o)()&&!parseInt(window.wattpad.utils.getCookie("seen-wallet-onboard"))),2),n=t[0],r=t[1];if(!n)return c.a.createElement(d.a,e);var a=e.isDesktop;return c.a.createElement("div",{className:o()("wallet-onboarding",{desktop:a})},c.a.createElement("div",{className:"wallet-overlay"}),c.a.createElement("div",{className:"wallet-bubble"},c.a.createElement(b,{onOnboardingFinish:function(){window.wattpad.utils.setCookie("seen-wallet-onboard",1),r(!1)}}),c.a.createElement(d.a,e)))}function b(e){var t=e.onOnboardingFinish,n=Object(m.o)().trans;return c.a.createElement("div",{className:"tooltip-content"},c.a.createElement("h6",null,n("Keep track of your Coin balance")),c.a.createElement("p",null,n("Visit the Coin Shop on the Wattpad mobile app to purchase Coins for Paid Stories")),c.a.createElement("button",{onClick:t,className:"btn ack-tooltip"},n("Got it")),c.a.createElement("div",{className:"arrow"}))}y.propTypes={isDesktop:s.a.bool.isRequired},b.propTypes={onOnboardingFinish:s.a.func.isRequired};var g=Object(r.b)((function(e){return{isDesktop:e.deviceData.isDesktop}}))(y);t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(6),a=n(72),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),m=n(3),d=n(5),f=n(16),p=n(8),y=n(2);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.onOnboardingFinish,n=void 0===t?function(){}:t,r=e.toggleModal,o=e.premium,s=void 0!==o&&o,l=Object(y.o)().trans,p=Object(c.useRef)(null);function g(){p.current.onResize()}var h=b(Object(c.useState)(!1),2),E=h[0],O=h[1],S=function(){!function(){if(!Object(d.o)())throw new Error("Can only be run on client");window.wattpad.utils.setCookie("seen-paid-onboard",1)}(),r(),n()},C=Object(f.h)(l);return s||(C=C.filter((function(e){return!e.showToPremiumOnly}))),u.a.createElement("div",{className:"onboarding-modal"},E&&u.a.createElement("button",{className:"btn-no-style",onClick:S},u.a.createElement(m.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),u.a.createElement(a.a,{dragging:!0,slidesToShow:1,ref:p,afterSlide:function(e){e===C.length-1&&O(!0)},renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomCenterControls:function(e){var t=e.nextSlide,n=e.goToSlide,r=e.currentSlide,a=e.previousSlide,o=r===e.slideCount-1,s=0===r,c=o?S:t,m=l(o?"Got it":"Next");return u.a.createElement("div",{className:"carousel-controls"},u.a.createElement(v,{slides:C,goToSlide:n,currentSlide:r}),u.a.createElement("button",{className:"btn btn-orange onboarding-nav nav-next",onClick:c},m),u.a.createElement("button",{className:i()("btn btn-no-background onboarding-nav nav-back",{invisible:s}),onClick:a},l("Back")))}},C.map((function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.learnMoreLink;return u.a.createElement(w,{key:t,onImageLoad:g,title:t,content:n,imageUrl:r,learnMoreLink:a})}))))}function v(e){var t=e.slides,n=e.goToSlide,r=e.currentSlide;return u.a.createElement("div",{className:"paging-buttons"},t.map((function(e,t){var a=t===r?"wp-neutral-2":"wp-neutral-3";return u.a.createElement("button",{className:"btn btn-no-background",key:t,onClick:function(){return n(t)}},u.a.createElement(m.e,{iconName:"fa-circle-filled",height:"10",color:a}))})))}h.propTypes={onOnboardingFinish:l.a.func,toggleModal:l.a.func.isRequired,premium:l.a.bool},v.propTypes={slides:l.a.array.isRequired,goToSlide:l.a.func.isRequired,currentSlide:l.a.number.isRequired};var w=function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.onImageLoad,o=e.learnMoreLink,i=Object(y.o)().trans;return u.a.createElement("div",{className:"slide"},u.a.createElement("div",{className:"slide-pane slide-image"},u.a.createElement(m.c,{width:"150",onLoad:a,name:r})),u.a.createElement("div",{className:"slide-pane slide-copy"},u.a.createElement("h4",null,t),u.a.createElement("span",null,n),o&&u.a.createElement(u.a.Fragment,null,". ",u.a.createElement("a",{className:"learn-more",href:o,target:"_blank",rel:"noopener noreferrer"},i("Learn more")))))};w.propTypes={title:l.a.string.isRequired,content:l.a.string.isRequired,imageUrl:l.a.string.isRequired,learnMoreLink:l.a.string,onImageLoad:l.a.func};var E={toggleModal:p.b},O=Object(r.b)(null,E)(h),S=function(e){window.store.dispatch(Object(p.b)({component:function(){return u.a.createElement(O,e)},disableClose:!0,useGlobalModalContainer:!0}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(8),m=n(2),d=function(e){var t=e.isDesktop,n=e.appLink,o=e.trackCoinsEvents,i=e.thankForInterest,s=void 0!==i&&i;Object(r.useEffect)((function(){return o(null,"view"),function(){o(null,"dismiss")}}),[o]);var l=Object(m.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"coins-cta background"},a.a.createElement("h3",null,l(s?"Thank you for your interest! You can purchase Coins on the app.":"Unlock Paid Stories with Coins")),a.a.createElement("p",null,l("Once you purchase Coins, you can unlock stories, and support writers, anywhere you use Wattpad - both on the app and on web!"))),a.a.createElement("div",{className:"how-to-buy"},t?a.a.createElement(p,{trans:l,learnMoreLink:"https://www.wattpad.com/paidstories/"}):a.a.createElement(f,{trans:l,appLink:n,onApplinkClick:function(){return o("purchase_cta","click")}})))};d.propTypes={isDesktop:i.a.bool.isRequired,appLink:i.a.string,trackCoinsEvents:i.a.func.isRequired,thankForInterest:i.a.bool};var f=function(e){var t=e.appLink,n=e.trans,r=e.onApplinkClick;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(y,{num:1},n("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),a.a.createElement(y,{num:2},n("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),a.a.createElement(y,{num:3},n("Choose and purchase a Coin bundle to unlock your favorite stories."))),a.a.createElement("a",{href:t,onClick:r,className:"btn btn-orange"},n("Go to the app")))};f.propTypes={appLink:i.a.string,trans:i.a.func.isRequired,onApplinkClick:i.a.func.isRequired};var p=function(e){var t=e.trans,n=e.learnMoreLink;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"row"},a.a.createElement(y,{num:1,isDesktop:!0},t("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),a.a.createElement(y,{num:2,isDesktop:!0},t("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),a.a.createElement(y,{num:3,isDesktop:!0},t("Choose and purchase a Coin bundle to unlock your favorite stories."))),a.a.createElement("div",{className:"row instructions-images"},a.a.createElement(b,{step:"1"}),a.a.createElement(b,{step:"2"}),a.a.createElement(b,{step:"3"})),a.a.createElement("div",{className:"learn-more"},a.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t("Learn how your support is empowering writers"))))};p.propTypes={trans:i.a.func.isRequired,learnMoreLink:i.a.string.isRequired};var y=function(e){var t=e.num,n=e.isDesktop,r=e.children;return a.a.createElement("div",{className:l()("cta-step",{"col-sm-4":n})},a.a.createElement("div",{className:"step-circle"},a.a.createElement("div",null,t)),a.a.createElement("p",{className:"step-instruction"},r))};y.propTypes={num:i.a.number.isRequired,children:i.a.node.isRequired,isDesktop:i.a.bool};var b=function(e){var t=e.step;return a.a.createElement("div",{className:"col-sm-4"},a.a.createElement(c.c,{name:"paid-content/buy-coins-step-".concat(t,".png")}))};b.propTypes={step:i.a.string.isRequired};var g=function(e){var t=e.isDesktop;window.store.dispatch(Object(u.b)({className:l()("buy-coins",{desktop:t,mobile:!t}),component:function(){return a.a.createElement(d,e)}}))}},function(e,t,n){"use strict";var r=n(176);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(13),i=n(1),s=n.n(i),l=n(9),c=n(27),u=n(5),m=n(2),d=n(62),f=n(8),p=n(6);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={staff:null===l.BadgeVariant||void 0===l.BadgeVariant?void 0:l.BadgeVariant.STAFF,ambassador:null===l.BadgeVariant||void 0===l.BadgeVariant?void 0:l.BadgeVariant.AMBASSADORS,verified:null===l.BadgeVariant||void 0===l.BadgeVariant?void 0:l.BadgeVariant.VERIFIED};function h(e){var t,n,i=e.author,s=e.createDate,b=e.isOffensive,h=e.id,v=e.isReply,w=e.numReplies,E=e.body,O=e.renderId,S=e.commentLocation,C=e.sentimentDetails,j=e.isStoryWriter,k=void 0!==j&&j,N=e.backboneModel,_=e.pushSentimentEvent,P=Object(m.o)(),T=P.trans,R=P.ngettext,x=Object(p.c)(),A=Object(m.f)(),I=y(Object(r.useState)(w),2),L=I[0],M=I[1],D=y(Object(r.useState)(!(null==C||null===(t=C[c.SentimentTypes.LIKE])||void 0===t||!t.interaction)),2),U=D[0],q=D[1],B=y(Object(r.useState)((null==C||null===(n=C[c.SentimentTypes.LIKE])||void 0===n?void 0:n.count)||0),2),F=B[0],W=B[1],V=T("Writer"),H={namespace:c.SentimentNamespaces.COMMENTS,resourceId:h},z=function(e){return function(){return M((function(t){return t+e}))}};Object(r.useEffect)((function(){v||(N.on("replyCount:add",z(1)),N.on("replyCount:sub",z(-1)))}),[]);var $,Y=function(e){var t,n;null===(t=app)||void 0===t||null===(n=t.trigger)||void 0===n||n.call(t,"app:comment:view-replies",e,h,O,S,v)},G=k?[{backgroundColor:"#a93e19",color:"#FFF",text:V}]:[],K={ariaLabel:T(U?"Unlike this comment":"Like this comment"),onClick:function(){return A.username?A.verified_email?void(U?(W((function(e){return e-1})),q(!1),Object(c.removeSentiment)(H,c.SentimentTypes.LIKE).then((function(){_("remove")})).catch((function(){q(!0),W((function(e){return e+1}))}))):(W((function(e){return e+1})),q(!0),Object(c.postSentiment)(H,c.SentimentTypes.LIKE).then((function(){_("add")})).catch((function(){q(!1),W((function(e){return e-1}))})))):wattpad.utils.showPleaseVerifyModal():(e={nextUrl:window.location.href},(t=function(){return a.a.createElement(d.a,e)}).displayName="AuthForm",void x(Object(f.b)({className:"signup-modal comments-signup-modal",disableScroll:!0,useGlobalModalContainer:!0,component:t})));var e,t},displayText:F>0&&Object(u.b)(F)},Z={ariaLabel:"Reply to comment",onClick:Y,displayText:T("Reply")},J=L>0&&{onClick:Y,ariaLabel:"View replies",displayText:Object(o.sprintf)(R("View %s Reply","View %s Replies",L),L)},Q=b&&T("This comment may be offensive.");return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.CommentCard,{badges:($=i.badges,$?$.map((function(e){return g[e]})):[]),content:Object(u.p)(E),commentAuthorAvatar:i.avatar,commentAuthorName:i.name,postedDate:Object(u.e)(s,{fuzzyTime:!0}),isStoryAuthor:k,pills:G,isLiked:U,actionLike:K,actionReply:Z,readMoreText:T("Read more"),actionViewMoreReplies:J,offensiveText:Q}),!v&&a.a.createElement("div",{id:"replies-".concat(O),className:"replies-list collapse","data-id":h,"data-message-owner":i.name}))}h.propTypes={author:s.a.shape({name:s.a.string,avatar:s.a.string,badges:s.a.array}),createDate:s.a.string,isOffensive:s.a.bool,id:s.a.string,isReply:s.a.bool,numReplies:s.a.number,body:s.a.string,isStoryWriter:s.a.bool,canDelete:s.a.bool,showMuteOption:s.a.bool,onMuteHelper:s.a.func,deeplink:s.a.string,reportModalId:s.a.object,renderId:s.a.string,commentLocation:s.a.string,sentimentDetails:s.a.object,backboneModel:s.a.object,pushSentimentEvent:s.a.func.isRequired}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),a=n.n(r),o=n(6),i=n(0),s=n.n(i),l=n(87),c=n(186);function u(e){return s.a.createElement(c.a,{tagGridTags:e.storyTags,onTagClicked:function(t){return e.removeStoryTag(t)}})}u.propTypes={storyTags:a.a.object,removeStoryTag:a.a.func.isRequired};var m=Object(o.b)((function(e){return{storyTags:e.storyTags}}),{removeStoryTag:l.c})(u)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(1),s=n.n(i),l=n(89),c=n(3),u=n(9),m=n(70),d=n(231),f=n(181);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=Object(c.r)(c.d),g=function(e){var t=e.errorMsg,n=e.model,i=e.preservedVal,s=void 0===i?{}:i,y=Object(o.o)().trans,g=s.email,h=s.token,v=s.type,w=s.username,E=p(Object(r.useState)(),2),O=E[0],S=E[1],C=p(Object(r.useState)(!1),2),j=C[0],k=C[1],N=p(Object(r.useState)(!1),2),_=N[0],P=N[1],T=p(Object(r.useState)(!1),2),R=T[0],x=T[1],A=p(Object(r.useState)(!1),2),I=A[0],L=A[1],M=p(Object(r.useState)(!1),2),D=M[0],U=M[1],q=Object(r.useRef)(),B=Object(r.useRef)(),F=Object(r.useRef)(),W=y("I have read and agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>"),V=j&&_&&R&&I&&D,H=function(e,t){t.toLowerCase().includes("username")?P(e):t.toLowerCase().includes("email")?k(e):t.toLowerCase().includes("birthday")&&L(e)};Object(r.useEffect)((function(){g&&(q.current.value=g,q.current.focus(),q.current.blur()),w?(B.current.value=w,B.current.focus(),B.current.blur()):B.current.focus()}),[w,g]);var z=function(e,t,n){return a.a.createElement("div",{className:"field-label"},a.a.createElement("span",{className:"field-label-text"},e),a.a.createElement("div",{"aria-label":t,"data-tip":n},a.a.createElement(d.Icon,{height:"16",iconName:"fa-info",color:"wp-neutral-1",className:"tooltip-icon"})))};return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"onboardingModal request-account-details modal fade in","data-backdrop":"static","data-keyboard":"false",style:{display:"block"}},a.a.createElement("div",{className:"v-align-wrap"},a.a.createElement("div",{className:"modal-dialog v-align"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("h1",{className:"modal-title text-center"},y("You're almost there."))),a.a.createElement("div",{className:"modal-body"},a.a.createElement("h2",{className:"text-center"},y("We need some details to keep in contact with you.")),a.a.createElement("form",{id:"signupForm",action:"",method:"POST",onSubmit:function(e){if(j||(e.preventDefault(),q.current.focus()),_||(e.preventDefault(),B.current.focus()),!D)return!1}},a.a.createElement(m.a,{className:"tool-tip",effect:"solid"}),z(y("Username"),"username hint",y("You do not have to use your real name. You can choose to use another name to protect your privacy.")),a.a.createElement(b,{name:"username",form:"signup",inputType:"text",title:y("Enter username"),inputRef:B,validationModel:n,showLabel:!0,onValid:function(e){return H(!0,e)},onInvalid:function(e){return H(!1,e)},onBlur:function(){var e;return S(null===(e=B.current)||void 0===e?void 0:e.value)}}),a.a.createElement(b,{name:"email",label:y("Email"),form:"signup",inputType:"text",title:y("Enter email"),inputRef:q,validationModel:n,showLabel:!0,onValid:function(e){return H(!0,e)},onInvalid:function(e){return H(!1,e)}}),a.a.createElement(l.a,{username:O,validatePassword:x}),z(y("Birthday"),"why we ask for your birthday",y("You need to enter the date you were born. This information will only be visible to you and Wattpads Support teams.")),a.a.createElement(f.a,{inputRef:F,validationModel:n,onValid:function(){return H(!0,"birthday")},onInvalid:function(){return H(!1,"birthday")}}),t&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},t),a.a.createElement("div",{className:"email-policy-agreement-container"},a.a.createElement(c.j,{contentId:"policy-consent",required:!0,checked:D,onChange:function(){return U(!D)},color:"ds-base-2-60"}),a.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:W}})),h&&a.a.createElement("input",{className:"token hidden",readOnly:!0,value:h,name:"token"}),v&&a.a.createElement("input",{className:"account-type hidden",readOnly:!0,value:v,name:"type"}),a.a.createElement(u.Button,{fullWidth:!0,disabled:!V,variant:u.ButtonVariant.PRIMARY,"aria-label":"Continue"},y("Continue")))))))))};g.propTypes={errorMsg:s.a.string,model:s.a.object,preservedVal:s.a.shape({email:s.a.string,token:s.a.string,type:s.a.string,username:s.a.string})},t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(2),m=n(10);function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n,o=e.username,i=e.genres,s=Object(u.o)().trans,p=Object(u.e)(),y=f(Object(r.useState)([]),2),b=y[0],g=y[1],h=f(Object(r.useState)(!1),2),v=h[0],w=h[1],E=(t=v,n=Object(r.useRef)(),Object(r.useEffect)((function(){n.current=t})),n.current);Object(r.useEffect)((function(){o&&i&&0!==i.length||app.router.navigate("/start/success",{trigger:!0})}),[p,o,i]),Object(r.useEffect)((function(){var e=setTimeout((function(){w(!1)}),5e3);return function(){clearTimeout(e)}}),[E,v]);var O=function(e,t){if("click"===t.type||13===t.keyCode){var n=e.name;if(b.includes(n)){var r=b.filter((function(e){return e!==n}));g(r),w(!1)}else b.length>=3?w(!0):g([].concat(d(b),[n]))}};return i&&0!==i.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in genres"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"onboarding-genres"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(c.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"greeting"},s("Hi, %s",o)),a.a.createElement("div",{className:"prompt",dangerouslySetInnerHTML:{__html:s("Choose <strong>up to three</strong> genres that you enjoy reading. This will help us better recommend stories you'll love.")}}),a.a.createElement(a.a.Fragment,null),a.a.createElement("div",{className:"genres"},i.map((function(e){var t=b.includes(e.name);return a.a.createElement("div",{key:e.name,className:"genre-tile",tabIndex:0,role:"button",onClick:function(t){O(e,t)},onKeyDown:function(t){O(e,t)}},a.a.createElement("div",{className:"genre-info",style:e.image?{backgroundImage:"url(".concat(e.image,")")}:{}},a.a.createElement("div",{className:"genre-name"},e.topic)),a.a.createElement("div",{className:"selected-wrapper"},a.a.createElement("div",{className:l()("overlay",{active:t,hidden:!t})}),a.a.createElement("div",{className:l()("selected-icon",{active:t,hidden:!t})},a.a.createElement(m.a,{iconName:"fa-check",color:"wp-neutral-5"}))))})),a.a.createElement("ul",{className:"overflow-padding","aria-hidden":!0})),v&&a.a.createElement("div",{className:"genre-error-toast-wrapper"},a.a.createElement("div",{className:"genre-error-toast"},a.a.createElement("p",null,s("Oops, you can only select three genres. Try removing one before adding another"))))),a.a.createElement("div",{className:"finish-button-wrapper"},a.a.createElement("button",{className:l()("finish-button","btn-primary",{enabled:b.length>0,disabled:b.length<=0}),onClick:function(){var e="/v5/users/".concat(o,"/content-settings");Promise.resolve($.ajax({url:e,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({preferredTags:b})})).finally((function(){window.te.push("event","onboarding",null,null,"complete"),app.router.navigate("/start/success",{trigger:!0})}))}},s("Finish"))),a.a.createElement("div",{className:"transparency"})))):null}b.propTypes={username:i.a.string.isRequired,genres:i.a.arrayOf(i.a.object).isRequired}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(3),i=n(2);function s(){var e=Object(i.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in success"},a.a.createElement("div",{className:"onboarding-success"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(o.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"title"},e("All done")),a.a.createElement("div",{className:"message"},e("Thanks for setting up your profile! A world of stories awaits you...")),a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/onboarding-success/book_lover.svg",alt:""})),a.a.createElement("button",{className:"start-reading-button btn-primary",onClick:function(){app.router.navigate("/home",{trigger:!0})}},e("Start reading")))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(5),c=n(44),u=n.n(c);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=y(i);function i(){var e;d(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=o.call.apply(o,[this].concat(n))),"removeMessaging",(function(){var t=e.props,n=t.id,r=t.groupId,a=t.partId;u.a.unmountComponentAtNode(document.getElementById("component-bannedimagemessaging-".concat(n,"-/myworks/").concat(r,"/write/").concat(a)))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.src,n=e.trans;return a.a.createElement("div",{className:"banned-image-wrapper",contentEditable:"false",suppressContentEditableWarning:!0},a.a.createElement("div",{className:"banned-image-messaging","data-url":t},a.a.createElement(s.e,{name:"warning-triangle",size:"68",color:"wp-warning-01",viewBox:"24",className:"warning-icon"}),a.a.createElement("span",{className:"message"},n("This image has been deemed unsafe and will only be visible to you."),a.a.createElement("button",{role:"link",className:"on-learn-more btn-no-background",onClick:function(){window.open("https://support.wattpad.com/hc/en-us/articles/360020840731-Image-Moderation-on-Wattpad","_blank","noopener")}},n("Learn more")))))}},{key:"componentDidMount",value:function(){window.app.currentView.listenTo(window.app,"works:editor:remove-banned-indicator",this.removeMessaging)}},{key:"componentWillUnmount",value:function(){window.app.currentView.stopListening(window.app,"works:editor:remove-banned-indicator")}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.Component);v(w,"propTypes",{trans:i.a.func.isRequired,id:i.a.any.isRequired,src:i.a.string.isRequired,groupId:i.a.string,partId:i.a.number,cleanupBannedMessaging:i.a.func}),t.a=Object(l.n)(w)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(3),l=n(2),c=n(4),u=n.n(c);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){var e=Object(l.o)().trans;return i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(s.c,{name:"/icons/spin/fa-loading.gif",className:"fa-spin spinner",alt:e("Spinner"),height:"48",width:"48"}))},p=function(e){var t=e.isIOS,n=e.isAndroid,r=Object(l.o)().trans,a=i.a.createElement("p",null,r("Thank you, we've received your appeal")),o=r("We ask that you leave your image in your story until weve processed your request."),c=n,m=c?"wattpad://home":t?"/inbox/Wattpad?success=true":"/inbox/Wattpad",d=u()("btn btn-md btn-orange",{"on-navigate":c});return i.a.createElement("div",{className:"col-xs-12 submission-success"},i.a.createElement(s.c,{name:"image-moderation/appeal-success.svg",className:"success-image"}),i.a.createElement("span",{className:"success-header"},a),i.a.createElement("span",{className:"success-info"},o),i.a.createElement("a",{href:m,className:d},r("OK, got it")))},y=function(e){var t=e.imageUrl,n=e.onSubmissionError,r=e.isIOS,a=e.isAndroid,s=Object(l.o)().trans,c=m(Object(o.useState)(!1),2),u=c[0],d=c[1],y=m(Object(o.useState)(!1),2),g=y[0],h=y[1];return i.a.createElement("div",{className:"image-appeal-flow"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},!u&&!g&&i.a.createElement("div",null,i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("h1",null,s("Appeal form")),i.a.createElement("span",{className:"form-info",dangerouslySetInnerHTML:{__html:s('This image has been flagged because it appears to violate our <a href="https://policies.wattpad.com/content" target=_blank class="on-click">%s</a>. Your readers will not be able to see this image, and there will not be an image in its place.',"Content Guidelines")}}),i.a.createElement("span",{className:"form-info"},s("If you think your image was mistakenly flagged, please describe why in the space below."))),i.a.createElement(b,{handleSubmit:function(){return d(!0),Promise.resolve($.ajax({type:"POST",url:"/v5/image_moderation/appeal",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({image_url:t})})).then((function(){d(!1),h(!0)})).catch((function(e){d(!1),h(!1),function(e){var t;switch(e){case"submitted":t=s("This image has already been appealed. Once a decision has been made, we will notify you.");break;case"resolved":t=s("Sorry, this image has already been reviewed by our team and cannot be appealed again.");break;default:t=s("Sorry, an error has occurred and were unable to submit your appeal. Please try again later.")}n(t)}(e.responseJSON.status)}))},imageUrl:t})),!u&&g&&i.a.createElement(p,{isIOS:r,isAndroid:a}),u&&i.a.createElement(f,null))))},b=function(e){var t=e.handleSubmit,n=e.imageUrl,r=Object(l.o)().trans,a=m(Object(o.useState)(0),2),s=a[0],c=a[1];return i.a.createElement("form",{id:"image-appeal",name:"image-appeal",className:"col-xs-12",onSubmit:function(e){e.preventDefault(),t()}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-reason"},i.a.createElement("textarea",{name:"reason",id:"reason",rows:"7",placeholder:"Tell us why",maxLength:"435",onKeyUp:function(e){c(e.target.value.length)}}),i.a.createElement("span",{className:"image-info col-xs-12"},i.a.createElement("div",{className:"image-container"},i.a.createElement("img",{src:n,alt:n})),i.a.createElement("a",{href:n,className:"image-url"},n))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("span",{className:"next-steps"},r("Once weve reviewed your appeal, we will notify you via your inbox. If your appeal is approved your image will be restored and made visible to your readers.")))),i.a.createElement("div",{className:"row submit"},i.a.createElement("button",{className:"btn btn-md btn-orange pull-right on-send",disabled:0===s},r("Send"))))};y.propTypes={imageUrl:a.a.string.isRequired,onSubmissionError:a.a.func.isRequired,isIOS:a.a.bool,isAndroid:a.a.bool},p.propTypes={isIOS:a.a.bool,isAndroid:a.a.bool},b.propTypes={imageUrl:a.a.string.isRequired,handleSubmit:a.a.func.isRequired},t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(57),c=n(179),u=n(3);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){return wattpad.utils.currentUser().authenticated()},p=function(e){return"/v5/users/".concat(e,"/privacy-settings/ccpa/")},y=function(){return f()?(e=wattpad.utils.getCurrentUserAttr("username"),Promise.resolve($.get(p(e)).then((function(e){return e.optout})))):Promise.resolve(!!window.wattpad.utils.getCookie("ccpa-oo"));var e},b=function(e){return f()?function(e){var t=wattpad.utils.getCurrentUserAttr("username");return Promise.resolve($.ajax({url:p(t),type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({optout:e})}))}(e):Promise.resolve(window.wattpad.utils.setCookie("ccpa-oo",e,3650))},g=function(){return-1!==window.location.search.indexOf("mode=app")},h=function(){var e="/home";g()&&(e="".concat(window.location.pathname,"?").concat("mode=app","&").concat("closeWebForm=true")),wattpad.utils.redirectToServer(e)};function v(e){var t=Object(s.o)().trans,n=m(Object(r.useState)(!0),2),o=n[0],i=n[1],d=m(Object(r.useState)(!1),2),p=d[0],v=d[1],w=m(Object(r.useState)(!1),2),E=w[0],O=w[1],S=m(Object(r.useState)(e.startWithError?"startWithError enabled":null),2),C=S[0],j=S[1];a.a.useEffect((function(){y().then((function(e){v(e),O(!0)})).catch((function(){v(!1),O(!0)}))}),[]);return E?a.a.createElement(c.a,{variant:"privacy-settings text-center max-width-and-wp-bg"},a.a.createElement(l.d,{variant:"large mb",text:t("Do not sell my personal information")}),p?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"icon-holder"},a.a.createElement(u.e,{iconName:"fa-check",color:"wp-neutral-5",size:20})),a.a.createElement("p",{className:"fs-14 mb-4 neutral-100",id:"opted-out-text"},t("You have successfully opted out. Wattpad will not sell your personal information to third parties.")),!f()&&a.a.createElement("p",{className:"fs-14 mb-3 b neutral-100",dangerouslySetInnerHTML:{__html:t('To save this preference permanently, you must <a class="base-2-60" href="%s">log in</a> or <a class="base-2-60" href="%s">create an account</a>.',"/login","/signup")}}),a.a.createElement(l.b,{variant:"base-2-60 full-width",text:t("Back to Wattpad"),onClick:h})):a.a.createElement(a.a.Fragment,null,a.a.createElement(l.c,{variant:"base-2"},a.a.createElement("p",{className:"fs-14"},t("If you choose to continue sharing your information, Wattpad will be able to provide you with a better reading experience by serving you ads that are more tailored to your interests.")),a.a.createElement(l.b,{variant:"base-2-60 full-width",id:"continue-sharing-button",text:t("Continue sharing information"),onClick:h})),a.a.createElement(l.c,null,a.a.createElement("p",{className:"fs-14 mb-3"},t("If you are a California resident, you have the right to opt out of the sharing of your personal information with third parties (subject to certain exceptions) under the California Consumer Privacy Act (CCPA). This is known as the right to opt out of the sale of your personal information.")),a.a.createElement("div",{className:"checkbox-holder"},a.a.createElement("input",{type:"checkbox",name:"californian",id:"californian",value:"yes",onChange:function(e){i(!e.target.checked)}}),a.a.createElement("label",{htmlFor:"californian",className:"fs-12 b"},t("I am a resident of California"))),a.a.createElement(l.b,{variant:"full-width mb-1 neutral-100",disabled:o,id:"optout-button",onClick:function(e){var t;t=!0,e.preventDefault(),o||b(t).then((function(){v(t),j(null),window.wattpad.utils.setCookie("usprivacy","",-1,!0)})).then((function(){g()&&app.router.navigate("".concat(window.location.pathname,"?").concat("mode=app","&").concat("optOut","=").concat(t),{trigger:!0})})).catch((function(e){j(e)}))},text:t("Do not sell my personal information")}),C&&a.a.createElement(l.a,{variant:"fs-12 text-left mb-1",messageNode:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t('There was an error submitting your opt-out request. Please try again or <a class="base-2-60" href="%s">report the issue</a>.',"https://support.wattpad.com/hc/en-us/requests/new")}})}),a.a.createElement("p",{className:"fs-12"},a.a.createElement("em",{dangerouslySetInnerHTML:{__html:t('You can also opt out of the sale of your personal information by sending us an email at <a class="base-2-60" href="%s">%s</a>.',"mailto:privacy@wattpad.com","privacy@wattpad.com")}}))))):a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(u.f,null))}v.propTypes={startWithError:i.a.bool},v.defaultProps={startWithError:!1}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(131),m=n(125),d=n(3),f=n(5),p=n(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){var t=e.isNew,n=e.isPublish,o=e.onSwitchTabs,i=e.updateActiveTab,s=e.activeTab,l=Object(p.o)().trans;function u(e){var t=e.currentTarget.getAttribute("data-section");i(t),o(t)}return Object(r.useEffect)((function(){i("toc")}),[i]),a.a.createElement("div",{className:"works-edit-select"},a.a.createElement("button",{className:c()("on-switch-type",{active:"story-detail"===s||t}),"data-section":"story-detail",onClick:u},l("Story Details")),!t&&!n&&a.a.createElement("button",{className:c()("on-switch-type",{active:"toc"===s}),"data-section":"toc",onClick:u},l("Table of Contents")),!t&&a.a.createElement(S,{onTabChange:u,activeTab:s,label:l("Story Notes")}))}O.defaultProps={onSwitchTabs:function(){}},O.propTypes={isNew:s.a.bool.isRequired,isPublish:s.a.bool.isRequired,onSwitchTabs:s.a.func.isRequired,updateActiveTab:s.a.func.isRequired,activeTab:s.a.string.isRequired};t.a=Object(o.b)((function(e){return{activeTab:e.worksItemDetails.worksItemDetailsActiveTab}}),{updateActiveTab:m.b})(O);var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=h(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=w(t),a=function(e){localStorage.setItem("seen-planner","true"),t.setState({isNew:!1}),t.props.onTabChange(e)},(r="onClickedPlannerTab")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={isNew:Object(f.o)()&&!localStorage.getItem("seen-planner")},t}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("button",{className:c()("on-switch-type",{active:this.props.activeTab===u.a.NOTES}),"data-section":u.a.NOTES,onClick:this.onClickedPlannerTab},a.a.createElement("div",{id:"story-planner-tab"},this.state.isNew&&a.a.createElement("div",{id:"story-planner-new-tag-container"},a.a.createElement(d.c,{name:"shared/new-tag-2x.png",id:"storyplanner-new-tag",height:"19px",width:"40px"})),a.a.createElement("div",null,this.props.label)))}}])&&b(t.prototype,n),r&&b(t,r),i}(a.a.Component);S.propTypes={onTabChange:s.a.func.isRequired,activeTab:s.a.string.isRequired,label:s.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement("div",{className:"acknowledge"},a.a.createElement(o.b,{defaultValue:!1,id:"acknowledge-checkbox"}),a.a.createElement("label",{htmlFor:"acknowledge-checkbox"},e("I acknowledge this is my own original work, or I have the permission from the original author to post this work. Copyright infringement may result in story deletion or account closure.")))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(5);function u(e){var t=e.story,n=e.section,r=e.trans;return a.a.createElement("nav",{className:"pull-right",id:"writer-analytics-nav-bar"},a.a.createElement("ul",null,a.a.createElement("li",{"data-section":"activities",className:l()({active:"activities"===n,"not-active":"activities"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/")},r("Overview"))),a.a.createElement("li",{"data-section":"interactions",className:l()({active:"interactions"===n,"not-active":"interactions"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/interactions")},r("Engagement"))),a.a.createElement("li",{"data-section":"demographics",className:l()({active:"demographics"===n,"not-active":"demographics"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/demographics")},r("Demographics")))))}u.propTypes={story:i.a.object.isRequired,section:i.a.string.isRequired,trans:i.a.func},t.a=Object(c.n)(u)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(13),l=n(2),c=n(129),u=function(e){var t=e.story,n=t.readCount,r=void 0===n?null:n,o=t.voteCount,i=void 0===o?null:o,u=t.numParts,m=void 0===u?null:u,d=Object(l.o)(),f=d.ngettext,p=d.trans;return a.a.createElement("ul",{className:"stats-list"},null!==r&&a.a.createElement("li",{className:"h5 readcount stats-list__item"},Object(s.sprintf)(f("%s Total Read","%s Total Reads",r),r),a.a.createElement(c.a,{popoverContent:{title:p("What is Total Reads?"),content:p("The total number of times your story parts have been viewed or read to any extent since they were published (all-time).")},color:"wp-neutral-5",className:"stats-list-read__info"})),null!==i&&a.a.createElement("li",{className:"h5 votecount stats-list__item"},Object(s.sprintf)(f("%s Vote","%s Votes",i),i)),null!==m&&a.a.createElement("li",{className:"h5 numparts stats-list__item"},Object(s.sprintf)(f("%s Story Part","%s Story Parts",m),m)))};u.propTypes={story:i.a.shape({readCount:i.a.number,voteCount:i.a.number,numParts:i.a.number}).isRequired},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(13),l=n(2),c=n(3),u=n(129),m=function(e){var t=e.story.qualifiedUniqueReaders,n=Object(l.o)(),r=n.ngettext,o=n.trans;return a.a.createElement("div",{className:"qur-label"},a.a.createElement(c.e,{className:"qur-label__book",name:"bookOpenBeta",size:"16",strokeWidth:"3",color:"ds-neutral-00-solid"}),a.a.createElement("span",{className:"h5 qur-label__text"},Object(s.sprintf)(r("%s Engaged Reader","%s Engaged Readers",t),t)),a.a.createElement(u.a,{color:"wp-neutral-5",popoverContent:{title:o("What is Engaged Readers?"),content:o("Unique readers with 5+ minutes of time spent reading your story in the last 365 days. Of your total story viewers during the same period, these readers were most interested in exploring your content.")}}))};m.propTypes={story:i.a.shape({qualifiedUniqueReaders:i.a.number.isRequired}).isRequired,handleOpenPopover:i.a.func,handleClosePopover:i.a.func},t.a=m},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(129),l=n(2),c=function(e){var t=e.title,n=e.metric,r=e.section,o=Object(l.o)().trans;return a.a.createElement("div",{className:"line-chart-header"},a.a.createElement("h2",{className:"line-chart-header__title"},t),"activities"===r&&"readers"===n&&a.a.createElement(s.a,{popoverContent:{title:o("What is Daily Unique Readers?"),content:o("The number of unique daily viewers or readers of your story over the last 30 days.")},color:"wp-neutral-1",className:"line-chart-header__info"}))};c.propTypes={title:i.a.string.isRequired,metric:i.a.string,section:i.a.string},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(10),l=n(2);function c(e){var t=e.msg,n=e.notice,r=e.nextUrl,o=Object(l.o)().trans,i="/forgot?nextUrl=".concat(r);return a.a.createElement("div",{id:"forgot-password"},a.a.createElement("header",{className:"forgot-password-header"},a.a.createElement("h2",null,o("Lost your password?")),a.a.createElement("span",{className:"instruction"},o("Type your username or email below and we'll send you instructions on how to reset it."))),a.a.createElement("div",{className:"forgot-password-body panel-body"},a.a.createElement("div",{className:"more-info",dangerouslySetInnerHTML:{__html:o('Visit <a href="https://support.wattpad.com/hc/en-us/articles/211235843-Resetting-or-changing-your-password">Wattpad Support</a> for more information')}}),a.a.createElement("hr",null),a.a.createElement("form",{action:i,method:"post"},a.a.createElement("div",{className:"form-group has-feedback","data-attr":"forgotEmail"},a.a.createElement("input",{id:"forgot-email",className:"form-control input-lg enable",name:"email",type:"text",placeholder:o("Username or Email")})),t&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.a.createElement(s.a,{iconName:"fa-info",height:"16",color:"wp-lighterror"})," ",t),n&&a.a.createElement("div",{className:"alert alert-info",role:"alert"},a.a.createElement(s.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),n),a.a.createElement("div",{className:"row"},a.a.createElement("input",{type:"submit",className:"btn btn-primary enable submit",value:o("Send instructions")}),a.a.createElement("a",{className:"btn btn-secondary cancel",rel:"nofollow",href:"/login?nextUrl=".concat(r),"data-form":"login"},o("Cancel"))))))}c.propTypes={nextUrl:i.a.string,notice:i.a.string,msg:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(89),c=n(9);function u(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.authToken,n=e.isFromPushNotification,o=e.username,i=e.name,d=Object(s.o)().trans,f=m(Object(r.useState)(!1),2),p=f[0],y=f[1],b=m(Object(r.useState)(!1),2),g=b[0],h=b[1],v=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,$.ajax({type:"POST",url:"apiv2/updateuserpassword",data:$(".reset-password").serialize()}).done((function(){n?h(!0):window.location.replace("/login?nexturl=home").reload()})).fail((function(e){var t;if(467===(null===(t=e.responseJSON)||void 0===t?void 0:t.code)){var n="/forgot?nextUrl=settings?msg="+encodeURIComponent(e.responseJSON.message);window.location.replace(n).reload()}var r=d("Something went wrong, your changes were not saved. ")+(e.responseJSON.message||"");wattpad.utils.showToast(r,{type:"dismissable"})}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,s,"next",e)}function s(e){u(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"panel-body"},g?a.a.createElement("div",{className:"form-group"},a.a.createElement("h3",null,d("Password successfully reset")),a.a.createElement("p",null,d("To continue, you need to log out of the Wattpad app on your mobile device and log in with your new password."))):a.a.createElement(a.a.Fragment,null,a.a.createElement("small",{dangerouslySetInnerHTML:{__html:d('Visit <a href="https://support.wattpad.com/hc/en-us/articles/211235843-Resetting-or-changing-your-password">Wattpad Support</a> for more information')}}),a.a.createElement("hr",null),a.a.createElement("form",{className:"reset-password"},a.a.createElement("input",{name:"at",value:t,type:"hidden"}),n&&a.a.createElement("input",{name:"isFromPushNotification",value:"true",type:"hidden"}),a.a.createElement(l.a,{validatePassword:function(e){y(e)},username:o,name:i}),a.a.createElement("div",{className:"buttons"},a.a.createElement(c.Button,{fullWidth:!0,disabled:!p,variant:c.ButtonVariant.PRIMARY,ariaLabel:"Reset password",onClick:v},d("Reset password")),a.a.createElement(c.Button,{fullWidth:!0,className:"cancel-btn",variant:c.ButtonVariant.SECONDARY,ariaLabel:"Cancel",onClick:function(e){e.preventDefault(),window.location.assign("/login")}},d("Cancel"))))))};f.propTypes={authToken:i.a.string,isFromPushNotification:i.a.bool,username:i.a.string,name:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(6),i=n(124),s=n(4),l=n.n(s),c=n(1),u=n.n(c),m=n(13),d=n(133),f=n(2),p=n(3);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){var e=Object(f.o)().trans;return a.a.createElement("div",{className:"quest-progress"},a.a.createElement("div",{className:"placeholder-container"},a.a.createElement(p.c,{name:"quests/incoming-quests.svg"}),a.a.createElement("div",{className:"title"},e("You're on your way")),a.a.createElement("div",null,e("Keep an eye out for more Quests. The more you do, the more eligible you become to have your story featured!"))))}function v(e){var t=e.title,n=e.description,r=e.is_complete,o=e.body.click_url,i=e.type;return a.a.createElement("div",{className:"quest-task"},a.a.createElement(p.b,{disabled:!0,defaultValue:r}),a.a.createElement("div",{className:"quest-task-right-content"},a.a.createElement(d.b,{type:i,link:o,isLinkable:!r},a.a.createElement("h6",{className:l()("quest-task-title",{complete:r})},t),a.a.createElement("div",{className:l()("quest-task-description",{complete:r})},n))))}function w(e){var t=e.style,n=e.description,o=e.tasks_total,i=e.tasks_completed,s=e.title,c=e.tasks,u=e.badges,p=b(Object(r.useState)(!1),2),g=p[0],h=p[1],w=Object(f.o)().ngettext,E=function(){return h(!g)},O=o-i||0;return a.a.createElement("div",{className:l()("quest-card",{expanded:g})},a.a.createElement("div",{className:"left-content",style:{background:t.banner_color}},a.a.createElement("img",{src:t.avatar_url,alt:"Quest avatar"})),a.a.createElement(d.a,{isExpandable:!g,onClick:E,className:"right-content"},a.a.createElement(d.a,{isExpandable:g,onClick:E},a.a.createElement("h3",null,s),g&&n&&a.a.createElement("div",null,n)),g&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("hr",null)),c&&c.map((function(e){return a.a.createElement(v,y({key:e.id},e))}))),a.a.createElement("div",{className:"tasks-container"}),a.a.createElement("div",{className:"tasks-count"},Object(m.sprintf)(w("%s task left to complete","%s tasks left to complete",O),O)),u.length>0&&a.a.createElement("div",{className:"quest-badges-container"},u.map((function(e){return a.a.createElement("div",{key:e.title,className:"quest-badge"},e.title)})))))}function E(e){var t=e.loadQuests,n=e.questMapById,o=Object(f.o)().trans;Object(r.useEffect)((function(){t()}),[t]);var i=Object.values(n);return a.a.createElement("div",{id:"quests"},a.a.createElement("h3",null,o("Do these quests to become a better Wattpader!")),a.a.createElement("div",{className:"split-view"},a.a.createElement("div",{className:"quest-cards"},i.map((function(e){return a.a.createElement(w,y({key:e.id},e))}))),i.length>0&&a.a.createElement(h,null)))}v.propTypes={title:u.a.string,description:u.a.string,is_complete:u.a.bool,body:u.a.object,type:u.a.string},v.defaultProps={body:{click_url:"",tracking_url:""},type:""},w.propTypes={id:u.a.number,description:u.a.string,tasks_total:u.a.number,tasks_completed:u.a.number,title:u.a.string,style:u.a.object,tasks:u.a.array,badges:u.a.array},w.defaultProps={tasks_total:0,style:{},badges:[]},E.propTypes={loadQuests:u.a.func,questMapById:u.a.object};var O=Object(o.b)((function(e){return{questMapById:e.quests.mapById}}),{loadQuests:i.c})(E)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(6),i=n(124),s=n(1),l=n.n(s),c=n(2),u=n(3),m=n(133);function d(e){var t=e.loadEmbeddedQuests,n=e.embeddedType,o=e.embeddedQuests,i=e.username,s=Object(c.o)().trans;Object(r.useEffect)((function(){t(n)}),[t,n]);var l=o&&o[0];if(!l)return null;var d,f=l.tasks&&l.tasks.find((function(e){return!e.is_complete}));return d=f?a.a.createElement(m.b,{type:f.type,link:f.body&&f.body.click_url,isLinkable:!0},a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},f.title),a.a.createElement("div",null,f.description)))):a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest completed-banner"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},s("Congrats, youve completed all recommended tasks.")),a.a.createElement("div",null,s("Youre well on your way to becoming a superstar writer. Keep the momentum up by completing more tasks. The more you do the closer you are to getting featured on a special Featured List.")))),a.a.createElement("div",{id:"embedded-quests"},a.a.createElement("div",{className:"header"},a.a.createElement("span",{className:"title"},l.title,": "),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:s("<strong>%s</strong> of %s completed",l.tasks_completed,l.tasks_total)}})),d,a.a.createElement("a",{className:"link-quests right-icon",href:"/user/".concat(i,"/quests")},a.a.createElement(u.e,{name:"arrowRight",size:20}),s("Complete more tasks and get featured")," "))}d.propTypes={loadEmbeddedQuests:l.a.func,embeddedType:l.a.string.isRequired,embeddedQuests:l.a.array,username:l.a.string};var f=Object(o.b)((function(e,t){return{embeddedQuests:e.quests.mapByEmbeddedType[t.embeddedType]}}),{loadEmbeddedQuests:i.b})(d);f.defaultProps={embeddedType:"profile-about",embeddedQuests:[]}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(9),l=n(2),c=n(5),u=function(e){var t=e.group,n=e.modifyDate,r=e.nextPart,o=Object(l.o)().trans,i=t.completed,u=t.title,m=o("Last updated: %s",Object(c.e)(n,{fuzzyTime:!0})),d=o("You've finished reading %s",'<span class="title">'.concat(u,"</span>"));return a.a.createElement("div",{id:"story-part-navigation"},!r&&(i?a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"top-message",dangerouslySetInnerHTML:{__html:" ".concat(d," ")}})):a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"top-message"},o("You've reached the end of published parts.")),a.a.createElement("p",{className:"last-updated-text"}," ".concat(m," ")),a.a.createElement("p",{className:"bottom-message"},o("Add this story to your Library to get notified about new parts!")))),(r||!i)&&a.a.createElement(s.Button,{fullWidth:!0,disabled:!r,href:null==r?void 0:r.url},o("Continue to next part")))};u.propTypes={group:i.a.object,modifyDate:i.a.string,nextPart:i.a.object},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(190),l=n(18);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t,n=e.id,o=e.group,i=e.deeplinkData,u=e.adData,m=c(Object(r.useState)(!1),2),d=m[0],f=m[1],p=c(Object(r.useState)(void 0),2),y=p[0],b=p[1],g={page:"comment",storyid:parseInt(null==o?void 0:o.id),partid:parseInt(n),entity_type:"comment",sentiment_type:"like"},h=function(){b({commentId:i.commentId}),f(!0)};return Object(r.useEffect)((function(){null!=i&&i.paragraphId?(window.app.on(l.g,h),window.app.on(l.f,(function(){return f(!0)}))):null!=i&&i.commentId?h():f(!0)}),[i]),a.a.createElement("div",{id:"story-part-comments"},d&&a.a.createElement(s.a,{partId:n,storyAuthor:null==o||null===(t=o.user)||void 0===t?void 0:t.username,location:l.e.STORY_PART,initialLimit:l.i,sentimentEventData:g,initialComment:y,adData:"mobile"===(null==u?void 0:u.deviceType)?u:void 0}))};m.propTypes={id:i.a.number.isRequired,group:i.a.object,deeplinkData:i.a.shape({commentId:i.a.string.isRequired,paragraphId:i.a.string}),adData:l.a},t.a=m},,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement("div",{className:"validation-success"},a.a.createElement("div",{className:"message-wrapper"},a.a.createElement("div",{className:"animation-wrapper"},a.a.createElement(o.g,{animationId:"validation-success-animation",animationOptions:{animType:"svg",loop:!1,path:"/img/lottie-animations/success.json"}})),a.a.createElement("h1",null,"Success!"),a.a.createElement("p",null,e("Your email is verified and sign-up is complete. Enjoy!")),a.a.createElement("a",{className:"btn-primary on-navigate",href:"/home"},e("Continue"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=function(e){var t=e.searchTerm,n=void 0===t?"":t,r=e.resultType,o=Object(c.o)().trans;return a.a.createElement("div",{className:"container"},a.a.createElement("nav",{id:"tabs",className:"search-tabs"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:"/search/".concat(encodeURIComponent(n),"/stories"),"data-target":"stories",className:l()("on-tab-navigate",{active:"stories"===r})},o("Stories"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/search/".concat(encodeURIComponent(n),"/people"),"data-target":"people",className:l()("on-tab-navigate",{active:"people"===r})},o("Profiles"))))))};u.propTypes={searchTerm:i.a.string,resultType:i.a.string},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3),c=function(e){var t=e.resultType,n=Object(s.o)().trans,r=n("stories"===t?"Try a different search to see if we can find you some stories to read":"Try a different search to see if we can find you the user youre looking for");return a.a.createElement("div",{className:"empty-search-results"},a.a.createElement(l.c,{name:"search/no-results.svg",title:""}),a.a.createElement("div",{className:"message"},a.a.createElement("h4",null,n("Hmmm...there are no results")),a.a.createElement("p",{className:"message"},r)))};c.propTypes={resultType:i.a.string.isRequired},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(173),l=n(170),c=function(e){var t=e.bannerMessages,n=e.isMobile,r=e.searchTerm,o=e.handleSearchSubmit,i=e.handleSaveSearchTerm;return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(l.a,{searchTerm:r,handleSaveSearchTerm:i,handleSearchSubmit:o}),(null==t?void 0:t.length)>0&&a.a.createElement(s.a,{bannerMessages:t}))};c.defaultProps={isMobile:!1,bannerMessages:[],handleSearchSubmit:function(){},handleSaveSearchTerm:function(){}},c.propTypes={bannerMessages:i.a.arrayOf(i.a.string),isMobile:i.a.bool,searchTerm:i.a.string.isRequired,handleSearchSubmit:i.a.func,handleSaveSearchTerm:i.a.func},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(172),l=n(175),c=function(e){var t=e.recentSearches,n=e.browseTopics;return!e.searchTerm&&a.a.createElement("div",{className:"blank-search"},a.a.createElement("div",{className:"recent-searches"},a.a.createElement(s.a,{suggestedSearchTerms:t})),a.a.createElement("div",{id:"browse-topics"},a.a.createElement(l.a,{browseTopics:n})))};c.propTypes={recentSearches:i.a.array,browseTopics:i.a.array,searchTerm:i.a.string},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(3),c=n(5),u=n(4),m=n.n(u),d=n(2);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=f(Object(r.useState)(!1),2),n=t[0],o=t[1],i=f(Object(r.useState)(null),2),s=i[0],l=i[1];return Object(d.a)(s,(function(){return o(!1)})),a.a.createElement("div",{id:e.id,ref:function(e){return l(e)},className:m()("dropdown",{visible:n})},a.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(!n)}},e.label,a.a.createElement("span",{className:"caret"})),n?e.children:null)};y.propTypes={id:i.a.string,label:i.a.string,children:i.a.object};var b=y;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C,j,k,N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=E(i);function i(){return h(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"community-dropdown"},a.a.createElement("ul",{"aria-label":"Community"},a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/awards",target:"_blank",rel:"noopener noreferrer"},e("The Wattys"))),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/story/25279524",target:"_blank",rel:"noopener noreferrer"},e("Community Happenings"))),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/823619",target:"_blank",rel:"noopener noreferrer"},e("Wattpad Ambassadors")))))}}])&&v(t.prototype,n),r&&v(t,r),i}(r.Component);C=N,j="propTypes",k={trans:i.a.func.isRequired},j in C?Object.defineProperty(C,j,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[j]=k;var _=N,P=function(){return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"writer-opportunities-dropdown"},a.a.createElement("ul",{"aria-label":"Writer-Opportunities",className:"writer-opportunities-dropdown-list"},a.a.createElement("li",null,a.a.createElement("a",{href:"https://creators.wattpad.com/",target:"_blank",rel:"noopener noreferrer"},"Writer Resources")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://creators.wattpad.com/programs-and-opportunities/",target:"_blank",rel:"noopener noreferrer"},"Writer Programs")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/go/writing-contests/",target:"_blank",rel:"noopener noreferrer"},"Writer Contests"))))};function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.browseTopics,n=e.curatedLists,r=Object(d.o)().trans,o=1===parseInt(app.get("language"),10);return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"browse-dropdown"},a.a.createElement("div",{className:"col-xs-9 discover-categories"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Browse Topics"},r("Browse")),t.map((function(e){var t=e.name,n=e.topic,o=e.browseURL||wattpad.utils.categoryNameToUrl(t);return a.a.createElement("li",{className:"col-xs-4",key:t},a.a.createElement("a",{className:"on-navigate",href:o},r(n)))})))),o&&a.a.createElement("div",{className:"col-xs-3 wattpad-picks"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Wattpad Picks"},r("Wattpad Picks")),n.map((function(e){var t=e.name,n=e.id;return a.a.createElement("li",{className:"col-xs-12",key:t},a.a.createElement("a",{href:"/featured/".concat(n)},r(t)))})))))}x.propTypes={browseTopics:i.a.array.isRequired,curatedLists:i.a.array.isRequired};var A=function(){var e=Object(d.o)().trans,t=T(Object(r.useState)([]),2),n=t[0],o=t[1],i=T(Object(r.useState)([]),2),s=i[0],l=i[1];return Object(r.useEffect)((function(){var e=new app.collections.ReadingLists([],{username:"WattpadExplorer"}),t=new app.collections.BrowseTopics;Promise.all([e.fetchNextSet(),t.fetch()]).then((function(){o(wattpad.utils.sortByColumns(t.toJSON(),3)),l(e.toJSON())}))}),[]),a.a.createElement(b,{id:"discover-dropdown",label:e("Browse")},a.a.createElement(x,{browseTopics:n,curatedLists:s}))};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var a=B(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,e);var t,n,r,o=U(i);function i(){return L(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("form",{id:"header-item-search",name:"search",role:"search",action:"/search/",method:"GET",autoComplete:"off"},a.a.createElement("button",{type:"submit"},a.a.createElement(l.e,{iconName:"fa-search",color:"wp-neutral-1",height:"16"})),a.a.createElement("input",{id:"search-query",name:"q",type:"text",spellCheck:"false",placeholder:e("Search"),"aria-label":"Search"}),a.a.createElement("input",{type:"hidden",name:"ref",value:"1"}))}}])&&M(t.prototype,n),r&&M(t,r),i}(r.Component);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var a=K(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(F,"propTypes",{trans:i.a.func.isRequired});var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,r,o=$(i);function i(){var e;V(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(G(e=o.call.apply(o,[this].concat(n))),"changeLanguage",(function(e){wattpad.utils.setCookie("locale",e,3650,!0),window.location.reload()})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.translatedLangs;return a.a.createElement("ul",{id:"language-options",className:"dropdown-menu align-right columns"},t.map((function(t){return a.a.createElement("li",{key:t.id,className:"col-xs-4 col-sm-3"},a.a.createElement("a",{href:"#",onClick:function(n){n.preventDefault(),e.changeLanguage(t.locale)}},t.name))})))}}])&&H(t.prototype,n),r&&H(t,r),i}(r.Component);Z(J,"propTypes",{translatedLangs:i.a.array.isRequired});var Q=J;function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var a=oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){return ee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.translatedLangs,o=t.locale,i=r.find((function(e){return e.locale===o}));return a.a.createElement("nav",{id:"WPNavbar",className:"container"},a.a.createElement("div",{id:"header-item-logo"},a.a.createElement("a",{href:"/",className:"on-navigate",title:"Wattpad Home","aria-label":"Home"},a.a.createElement(l.c,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"123",className:"wp-logo hidden-xs"}))),a.a.createElement(A,null),function(e){return"en"===e.code}(i)&&a.a.createElement(b,{id:"writer-opportunities-dropdown",label:n("Writer Opportunities")},a.a.createElement(P,null)),a.a.createElement(b,{id:"community-dropdown",label:n("Community")},a.a.createElement(_,{trans:n})),a.a.createElement(F,{trans:n}),a.a.createElement("div",{id:"authentication"},a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-sm",onClick:function(){e.props.toggleModal({type:"login"})}},n("Log in"))),a.a.createElement(b,{id:"language-dropdown",label:i.name},a.a.createElement(Q,{translatedLangs:r}))))}}])&&te(t.prototype,n),r&&te(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ie,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired,translatedLangs:i.a.array.isRequired,locale:i.a.string.isRequired});var se=Object(s.b)((function(e){return{translatedLangs:e.appData.translatedLangs,locale:e.userData.locale}}))(Object(c.n)(ie)),le=function(e){return[{name:e("Writing Contests"),description:e("Enter writing contests to get published, win awards, and partner with global brands."),img:"/landing/writing-contests.png",url:"https://www.wattpad.com/go/writing-contests/",id:"contests"},{name:e("The Wattys"),description:e("Wattpads annual awards program committed to celebrating the best stories around the world."),img:"/landing/wattys_avatar.png",url:"https://wattys.wattpad.com",id:"wattys"},{name:e("Wattpad Picks"),description:e("Get featured on our hand-picked reading list."),img:"/landing/wp-picks.png",url:"https://www.wattpad.com/featured/551324301",id:"picks"}]},ce=[{quoteText:"Working with Wattpad Studios is like a dream. Not only do they care about your success, but also staying true to your vision.",author:"KARA BARBIERI (@PANDEAN)",about:"Kara Barbieri is a twenty-two year old author with a love for the weird and mystic. Her debut novel, WHITE STAG, will be published by Wednesday Books/Macmillan in January 2019.",cover:"/landing/white-stag.png",url:"/story/51067091-white-stag-permafrost-1",id:"white_stag"},{quoteText:"When I joined Wattpad, I gained a second family who were as passionate about reading and writing as I am.",author:"ALI NOVAK (@FALLZSWIMMER)",about:"Ali Novak is a Wisconsin native and a graduate of the University of Wisconsin-Madison's creative writing program. She started writing her debut novel My Life with the Walter Boys when she was only fifteen. Since then, her work has received more than 150 million hits online and My Life with the Walter Boys has been optioned for television by Komixx Entertainment and Sony Pictures Television.",cover:"/landing/walter-boys.png",url:"/story/80479-my-life-with-the-walter-boys-wattpad-version",id:"walter_boys"},{quoteText:"Being a Wattpad Star is the foundation for everything I do as a writer, from the behind the scenes wrangling to the big, game-changing projects.",author:"BEN SOBIECK (@BENSOBIECK)",about:"Benjamin Sobieck is a Wattpad Star and editor of The Writers Guide to Wattpad, published in August 2018 by Writers Digest Books and featuring contributions by 23 Wattpad Stars, ambassadors, and staff. His stories on Wattpad, such as When the Black-Eyed Children Knock, have drawn more than 1.5 million reads.",cover:"/landing/black-eye.png",url:"/story/59324321-black-eye-confessions-of-a-fake-psychic-detective",id:"black_eye"},{quoteText:"Having been active on Wattpad for several  years, I knew it would be the perfect platform for a thriller with lots of cliffhangers for readers to discuss. Teen horror is my passion, so I cant wait to be able to share Light as a Feather with other horror aficionados on Hulu.",author:"ZOE AARSEN (@ZAARSENIST)",about:"Zoe Aarsen is a graphic designer and copywriter. Her first paranormal YA novel, Light as a Feather, Stiff as a Board, is being published by Simon & Schuster and turned into a television series on Hulu.",cover:"/landing/feather.png",url:"/story/5949534-light-as-a-feather-stiff-as-a-board",id:"light_as_a_feather"},{quoteText:"The Wattpad Stars Program gave me opportunities I never thought possible. It connected me to a world that I had only imagined. I dont know how else to say it. It changed my life!",author:"ISABELLE RONIN (@ISABELLERONIN)",about:"Chasing Red was one of 2016s most-read stories on Wattpad -- and that was just the beginning for this Winnipeg-Manitoba-based writer. In a single year, her explosive hit has racked up over 127 million reads on Wattpad. Newly edited and expanded, the book was split into two and hit bookstore shelves in 2017.",cover:"/landing/chasing-red.png",url:"/story/18024139-chasing-red",id:"chasing_red"}];function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var a=be(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,r,o=pe(i);function i(){return me(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"Hero"},a.a.createElement("div",{className:"container content"},a.a.createElement("div",null,a.a.createElement("h2",null,t("Hi, we're Wattpad.")),a.a.createElement("h3",null,t("The world's most-loved social storytelling platform")),a.a.createElement("h4",null,t("Wattpad connects a global community of %s million readers and writers through the power of story.",90)),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_top"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"writer_top"})}},t("Start Writing")))),a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{name:"landing/hero-devices.png",title:"hero-devices"}))))}}])&&de(t.prototype,n),r&&de(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ge,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var he=Object(c.n)(ge);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var a=_e(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(i,e);var t,n,r,o=ke(i);function i(){return Se(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"HowWattpadWorks"},a.a.createElement("div",{className:"container content"},a.a.createElement("h2",null,e("How Wattpad Works")),a.a.createElement("p",null,e("Get your story discovered through the power of community and technology on Wattpad.")),a.a.createElement("div",{id:"steps"},function(e){return[{number:1,title:e("Create"),description:e("Share your unique voice and original story on Wattpad. Find the writing resources you need to craft a story only you can tell."),stat:{count:e("50+"),title:e("Writing Resources")}},{number:2,title:e("Build"),description:e("Establish a global fan base as your story gains readership and momentum. Connect with other like-minded writers through storytelling."),stat:{count:e("%s <span>MILLION</span>",90),title:e("Readers")}},{number:3,title:e("Amplify"),description:e("Gain Wattpad Star status and get your story published or adapted into film or television with Wattpad Books and Wattpad Studios!"),stat:{count:e("1000+"),title:e("Story deals")}}]}(e).map((function(e){return a.a.createElement(Re,Oe({},e,{key:e.number}))})))))}}])&&Ce(t.prototype,n),r&&Ce(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Pe,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var Te=Object(c.n)(Pe),Re=function(e){var t=e.number,n=e.title,r=e.description,o=e.stat;return a.a.createElement("div",{className:"stepContainer"},a.a.createElement("div",{className:"step"},a.a.createElement("h2",{className:"number"},t),a.a.createElement("div",null,a.a.createElement("h3",{className:"title"},n),a.a.createElement("p",{className:"description"},r))),a.a.createElement("div",{className:"dots"},we(Array(6)).map((function(e,t){return a.a.createElement("span",{className:"dot",key:t})}))),a.a.createElement("div",{className:"statBubble"},a.a.createElement("div",null,a.a.createElement("div",{className:"count",dangerouslySetInnerHTML:{__html:o.count}}),a.a.createElement("div",{className:"title"},o.title))))};Re.propTypes={number:i.a.number,title:i.a.string,description:i.a.string,stat:i.a.object};var xe=n(72),Ae=function(e,t){wattpad.utils.pushEvent({category:"new_landing",action:"click:".concat(e)}),t&&window.open(t,"_blank")};function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var a=Ve(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(i,e);var t,n,r,o=Fe(i);function i(){return Ue(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{id:"Carousel"},a.a.createElement("div",{className:"container"},a.a.createElement(xe.a,{autoplay:!0,wrapAround:!0,heightMode:"max",renderCenterLeftControls:null,renderBottomCenterControls:null,renderCenterRightControls:function(e){var t=e.nextSlide;return a.a.createElement("div",{onClick:t,onKeyDown:t,role:"button",tabIndex:"0"},a.a.createElement(l.c,{name:"/landing/next-btn.svg"}))},renderBottomRightControls:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return a.a.createElement("div",{className:"controls"},Me(Array(n)).map((function(e,n){var o=m()("control",{active:n===t});return a.a.createElement("div",{className:o,key:n,onClick:function(){r(n)},onKeyDown:function(){r(n)},role:"tab",tabIndex:"0"})})))}},ce.map((function(e){return a.a.createElement(ze,Le({},e,{key:e.id}))})))))}}])&&qe(t.prototype,n),r&&qe(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(He,"propTypes",{mobile:i.a.bool});var ze=function(e){var t=e.quoteText,n=e.author,r=e.about,o=e.cover,i=e.url,s=e.id;return a.a.createElement("div",{className:"slide"},a.a.createElement("div",{className:"cover-container",onClick:function(){Ae(s,i)},onKeyDown:function(){Ae(s,i)},role:"link","aria-roledescription":"slide",tabIndex:"0"},a.a.createElement(l.c,{name:o,title:o})),a.a.createElement("div",{className:"details"},a.a.createElement("div",{className:"quote"},a.a.createElement("p",{className:"text"},t),a.a.createElement("p",{className:"author"},n)),a.a.createElement("p",{className:"about"},r),a.a.createElement("button",{id:"startReading",className:"btn btn-md btn-teal",onClick:function(){Ae(s,i)}},"Start Reading")))};function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var a=Xe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ze.propTypes={quoteText:i.a.string,author:i.a.string,about:i.a.string,cover:i.a.string,url:i.a.string,id:i.a.string,mobile:i.a.bool};var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(i,e);var t,n,r,o=Je(i);function i(){return Ge(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"Links"},function(e){return[{title:e("Get Discovered"),id:"GetDiscovered",links:le(e)}]}(e).map((function(e){return a.a.createElement("div",{id:e.id,key:e.id},a.a.createElement("div",{className:"container"},a.a.createElement("h3",null,e.title),a.a.createElement("div",{className:"links"},e.links.map((function(e){return a.a.createElement(nt,Ye({},e,{key:e.id}))})))))})))}}])&&Ke(t.prototype,n),r&&Ke(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(et,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var tt=Object(c.n)(et),nt=function(e){var t=e.name,n=e.description,r=e.img,o=e.url,i=e.id,s=e.className;return a.a.createElement("div",{className:m()("link",s),onClick:function(){Ae(i,o)},onKeyDown:function(){Ae(i,o)},role:"link",tabIndex:"0"},a.a.createElement("div",{className:"image"},a.a.createElement(l.c,{name:r,title:t})),a.a.createElement("div",{className:"info"},a.a.createElement("h4",null,t),a.a.createElement("p",null,n)))};function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var a=ct(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nt.propTypes={name:i.a.string,description:i.a.string,img:i.a.string,url:i.a.string,id:i.a.string,className:i.a.string};var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(i,e);var t,n,r,o=st(i);function i(){return at(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"TakeWPWithYou"},a.a.createElement("div",{className:"container content"},a.a.createElement("h3",null,t("Take Wattpad With You")),a.a.createElement("p",null,t("Read and write anywhere, even offline.")),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_bot"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"login"})}},t("Start Writing"))),a.a.createElement(l.c,{className:"devices",name:"landing/footer-devices.png",title:"devices"})))}}])&&ot(t.prototype,n),r&&ot(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ut,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var mt=Object(c.n)(ut);function dt(e){var t=e.leftPart,n=e.rightPart,r=e.className;return a.a.createElement("div",{className:m()("container content",r)},t,n)}function ft(){var e=Object(d.o)().trans;return a.a.createElement(dt,{className:"studiosContainer",rightPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{width:"348",name:"/landing/wattpadBooksPoster.png",title:"wattpad books poster"})),leftPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"190",name:"/landing/wattpadBooksLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your voice belongs on bookshelves")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Books aspires to recognize and reflect diverse voices by taking Wattpad stories to published book and onto bookshelves around the world.")),a.a.createElement("p",null,e("Wattpad Books works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"110",name:"/landing/macmillan.png",title:"macmillan Publishers logo"}),a.a.createElement(l.c,{className:"partner",width:"87",name:"/landing/anvil.png",title:"Anvil Publishing logo"}),a.a.createElement(l.c,{className:"partner",width:"97",name:"/landing/penguin.png",title:"Penguin Random House UK logo"}))})}function pt(){var e=Object(d.o)().trans;return a.a.createElement(dt,{rightPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"203",name:"/landing/wattpadStudiosLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your original story could be the next big hit")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Studios discovers untapped, unsigned, and talented writers on Wattpad and connects them to global multi-media entertainment companies.")),a.a.createElement("p",null,e("Wattpad Studios works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"31",name:"/landing/sony.svg",title:"Sony logo"}),a.a.createElement(l.c,{className:"partner",width:"61",name:"/landing/hulu.svg",title:"Hulu logo"}),a.a.createElement(l.c,{className:"partner",width:"81",name:"/landing/syfy.svg",title:"SYFY logo"})),leftPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{width:"414",name:"/landing/wattpadStudiosPoster.png",title:e("Wattpad Studios TV and film projects collage"),alt:e("Wattpad Studios TV and film projects collage")}))})}function yt(){var e=Object(d.o)().trans;return a.a.createElement("div",{className:"seeYourStoryContainer"},a.a.createElement("h3",null,e("See Your Story...")),a.a.createElement("div",{className:"itemContainer"},a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/tv-icon.svg",title:"tv"}),e("Get produced to movie or film")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/reel-icon.svg",title:"reel"}),e("Get adapted to a TV series")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/book-icon.svg",title:"book"}),e("Get published"))))}dt.propTypes={leftPart:i.a.object.isRequired,rightPart:i.a.object.isRequired,className:i.a.string};var bt=n(8),gt=n(62);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var a=kt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ct(this,n)}}function Ct(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(i,e);var t,n,r,o=St(i);function i(){var e;wt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(jt(e=o.call.apply(o,[this].concat(n))),"toggleModal",(function(t){var n=t.type,r=void 0===n?"login":n,o=t.source,i=void 0===o?"":o,s={model:e.props.model,nextUrl:e.props.nextURL};switch(r){case"signup":e.props.toggleModal({className:"signup-modal",component:function(){return a.a.createElement(gt.a,vt({},s,{source:i}))}});break;case"login":e.props.toggleModal({className:"login-modal",component:function(){return a.a.createElement(gt.a,vt({},s,{login:!0}))}})}})),e}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{id:"landing"},a.a.createElement(se,{toggleModal:this.toggleModal}),a.a.createElement(he,{toggleModal:this.toggleModal}),a.a.createElement("div",{id:"Intro"},a.a.createElement(yt,null),a.a.createElement(pt,null),a.a.createElement(ft,null)),a.a.createElement("div",{id:"FindOutMore"},a.a.createElement("a",{href:"https://creators.wattpad.com/",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("h4",null,this.props.trans("Find out more about what we do for writers")," "))),a.a.createElement(Te,null),a.a.createElement(He,null),a.a.createElement(tt,null),a.a.createElement(mt,{toggleModal:this.toggleModal}),a.a.createElement(l.q,null))}}])&&Et(t.prototype,n),r&&Et(t,r),i}(r.Component);Nt(_t,"propTypes",{model:i.a.object,root:i.a.string,nextURL:i.a.string,toggleModal:i.a.func,hybridLayout:i.a.bool,trans:i.a.func.isRequired});var Pt=Object(s.b)(null,{toggleModal:bt.b})(_t);t.a=Object(c.n)(Pt)},function(e,t,n){"use strict";n.d(t,"a",(function(){return se}));var r=n(0),a=n.n(r),o=n(86),i=n(33),s=n(5),l=n(1),c=n.n(l),u=n(6),m=n(123),d=n(2);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.toggleModal,n=Object(d.o)().trans,o=f(Object(r.useState)(""),2),i=o[0],s=o[1],l=f(Object(r.useState)([]),2),c=l[0],u=l[1],m=f(Object(r.useState)([]),2),p=m[0],y=m[1];return a.a.createElement("div",{className:"new-msg-modal"},a.a.createElement("div",{className:"new-msg-header"},a.a.createElement("h3",null,n("New Message")),a.a.createElement("p",null,n("Send message to")+":"),a.a.createElement("input",{type:"text",value:i,onChange:function(e){var t=e.target.value;s(t);var r="api/v3/autocomplete/following_user?term=".concat(t);Promise.resolve($.get(r)).then((function(e){u(e.filter((function(e){return"Other People"===e.category}))),y(e.filter((function(e){return"Your Friends"===e.category})))})).catch((function(){new window.app.views.ErrorToast({message:n("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()}))}})),""!==i&&a.a.createElement("div",{className:"search-results"},p.length>0&&a.a.createElement("p",null,n("People You Follow")),p.map((function(e){return a.a.createElement(b,{toggleModal:t,key:e.label,user:e})})),c.length>0&&a.a.createElement("p",null,n("People on Wattpad")),c.map((function(e){return a.a.createElement(b,{key:e.label,user:e,toggleModal:t})}))))}function b(e){var t=e.user,n=e.toggleModal;return a.a.createElement("button",{className:"search-result btn-no-background",onClick:function(){n(),window.app.router.navigate("/inbox/".concat(t.label),{trigger:!0})}},a.a.createElement("img",{src:t.image,alt:"".concat(t.label,"'s avatar"),className:"avatar avatar-sm3"}),a.a.createElement("p",null,t.label))}y.propTypes={toggleModal:c.a.func},b.propTypes={user:c.a.object,toggleModal:c.a.func};var g=n(8),h=n(3);function v(e){var t=e.direction,n=e.threshold,r=e.total,o=e.offset,i=e.isLoading,s=e.isDisabled,l=e.onLoad,c=Object(d.o)().trans;return Object(d.l)({direction:t,threshold:n,onThreshold:function(){s||o===r||l(o)}}),i?a.a.createElement("div",{className:"load-more-container"},a.a.createElement(h.c,{name:"/icons/spinner.svg",className:"fa-spin load-more",title:c("Spinner"),height:"24",width:"24"})):null}v.defaultProps={direction:"down",threshold:200},v.propTypes={direction:c.a.string.isRequired,threshold:c.a.number.isRequired,total:c.a.number.isRequired,offset:c.a.number.isRequired,isLoading:c.a.bool.isRequired,isDisabled:c.a.bool.isRequired,onLoad:c.a.func.isRequired};var w=v,E=n(4),O=n.n(E),S=n(30),C=n.n(S),j=n(126),k=n(78),N=n(20),_=n(45),P=n(117),T=n(84),R=n(91);function x(e){var t=e.isLoading,n=e.activeThread,r=e.isMutedByCurrentUser,o=e.isBlockedByCurrentUser,i=e.muteUser,s=e.deleteConversation,l=e.unmuteUser,c=e.toggleModal,u=e.toggleToast,m=Object(d.o)().trans;return a.a.createElement("div",null,!t&&a.a.createElement(h.p,{username:n,isMutedByCurrentUser:r,isBlockedByCurrentUser:o,onMuteUser:function(){var e=function(){return a.a.createElement(P.a,{username:n,toggleModal:c,muteUser:i})};e.displayName="MuteModal",c({className:"mute-modal",hideClose:!0,component:e})},onUnmuteUser:function(){var e=function(){return a.a.createElement(T.a,{username:n,toggleModal:c,onUnmute:l})};e.displayName="UnmuteModal",c({className:"mute-modal",hideClose:!0,component:e})},onDeleteConversation:function(){confirm(m("Delete all messages between you and %s?",n))&&s(n).then((function(){"/inbox"===window.location.pathname?window.location.reload():window.app.router.navigate("/inbox",{trigger:!0})}))},onReportUser:function(){var e=function(e){u({className:"report-private-message-toast",body:e})},t=function(){return a.a.createElement(R.c,{title:m("Report a Private Message"),reportType:"private-message",requesterUsername:wattpad.utils.currentUser().get("username"),requesterEmail:wattpad.utils.currentUser().get("email"),reportId:{name:n},hideModal:c,showErrorToast:e})};t.displayName="ReportModal",c({className:"report-modal",hideClose:!0,component:t})},showModerationOptions:!0}))}x.propTypes={activeThread:c.a.string.isRequired,isLoading:c.a.bool.isRequired,deleteConversation:c.a.func.isRequired,isMutedByCurrentUser:c.a.bool.isRequired,isBlockedByCurrentUser:c.a.bool,muteUser:c.a.func.isRequired,unmuteUser:c.a.func.isRequired,toggleModal:c.a.func,toggleToast:c.a.func};var A=Object(u.b)(null,{deleteConversation:k.b,muteUser:N.f,unmuteUser:N.k,toggleModal:g.b,toggleToast:_.c})(x);function I(e){var t,n=e.thread,o=e.username,i=n.user.name,s=n.user.isActive;t=function(){window.te.push("event","private_messages",null,null,"view",{sender_username:i,recipient_username:o})},Object(r.useEffect)(t,[]);var l=n.user.badges.length?n.user.badges[0]:"";return a.a.createElement("div",{className:"thread-row"},a.a.createElement("div",{className:O()("unread-dot",{show:n.unread})},1===n.unread&&a.a.createElement(h.e,{iconName:"fa-circle-filled",height:"6",color:"wp-base-1"})),a.a.createElement("a",{style:{marginRight:0},className:"thread-column on-navigate",href:"/user/".concat(i)},s?a.a.createElement("img",{src:n.user.avatar,alt:"".concat(i,"'s avatar"),className:"thread-column avatar avatar-sm3"}):a.a.createElement(h.c,{name:"avatar/empty.png",className:"thread-column avatar avatar-sm3"})),a.a.createElement("a",{className:"thread-column on-navigate thread-meta",href:"/inbox/".concat(i)},a.a.createElement("div",{className:"thread-user right-icon"},i,a.a.createElement(j.a,{name:l,allowedBadges:["staff","verified"]})),a.a.createElement("div",{className:O()("thread-message",{unread:n.unread})},n.recentMessage.body)),a.a.createElement("div",{className:"thread-column thread-date"},C()(n.recentMessage.createDate).format("MMM DD, YYYY [at] LT")),a.a.createElement("div",{className:"button-group inline-block relative "},a.a.createElement("button",{className:"btn btn-white dropdown-toggle inbox-more-options","data-toggle":"dropdown","aria-controls":"inbox-more-options","aria-expanded":"false","aria-label":"more options"},a.a.createElement(h.e,{name:"more",size:"24"})),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(A,{activeThread:i,isLoading:!1,isMutedByCurrentUser:n.user.isMutedByCurrentUser,isBlockedByCurrentUser:n.user.isBlockedByCurrentUser}))))}I.propTypes={thread:c.a.object,username:c.a.string},I.defaultProps={thread:{}};var L=I;function M(e){var t=e.filter,n=e.loadThreads,r=Object(d.o)().trans;return a.a.createElement("div",{className:"threads-filter"},a.a.createElement("select",{value:t,onChange:function(e){var t=e.target.value;n({filter:t})}},a.a.createElement("option",{value:""},r("All")),a.a.createElement("option",{value:"followers"},r("My Followers")),a.a.createElement("option",{value:"following"},r("People I'm Following")),a.a.createElement("option",{value:"unread"},r("Unread Messages"))))}M.propTypes={filter:c.a.string.isRequired,loadThreads:c.a.func.isRequired};var D=M,U=n(46),q=n(164);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){var t,n=e.loadThreads,o=e.isLoading,i=e.isLoadingMore,s=e.isEmailVerified,l=e.threads,c=e.username,u=e.total,m=e.offset,f=e.filter,p=e.toggleModal,b=Object(d.o)().trans;Object(d.m)("".concat(b("Inbox")," - Wattpad")),t=function(){n({})},Object(r.useEffect)(t,[]);return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"threads-container"},a.a.createElement("div",{className:"threads-header"},a.a.createElement("div",{className:"flex-part"},a.a.createElement("h2",null,b("My Messages"))),a.a.createElement(D,{filter:f,loadThreads:n}),a.a.createElement("button",{className:"new-msg-btn",onClick:function(){if(s){var e=function(){return a.a.createElement(y,{toggleModal:p})};e.displayName="NewMessage",p({className:"new-message-modal",component:e})}else{var t=function(){return a.a.createElement(q.a,{email:wattpad.utils.currentUser().get("email"),userId:wattpad.utils.currentUser().get("id"),hideModal:p})};t.displayName="PleaseVerify",p({className:"please-verify-modal",hideClose:!0,component:t})}}},a.a.createElement("span",null," ",b("+ New Message")," ")),a.a.createElement(h.q,null)),a.a.createElement("div",{className:"threads-list"},0!==l.length||o?l.map((function(e){return a.a.createElement(L,{key:e.user.name,thread:e,username:c})})):a.a.createElement("div",{className:"thread-row empty-row"},b("You have no messages."))),a.a.createElement(w,{direction:"down",threshold:0,isLoading:i,isDisabled:i,total:u,offset:m,onLoad:function(e){n({offset:e,filter:f})}})),a.a.createElement(U.a,null))};W.propTypes={isLoading:c.a.bool.isRequired,isLoadingMore:c.a.bool.isRequired,isEmailVerified:c.a.bool.isRequired,threads:c.a.array.isRequired,username:c.a.string.isRequired,loadThreads:c.a.func.isRequired,total:c.a.number.isRequired,offset:c.a.number.isRequired,filter:c.a.string.isRequired,toggleModal:c.a.func};var V=Object(u.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.threads)}),{loadThreads:m.b,toggleModal:g.b})(W),H=C()(),z=H.clone().startOf("day"),Y=H.clone().subtract(1,"days").startOf("day"),G=H.clone().subtract(7,"days").startOf("day");function K(e){var t,n=e.dateDisplay,r=Object(d.o)().trans;return t=n.isSame(z,"d")?r("Today at %s",n.format("h:mm a")):function(e){return e.isSame(Y,"d")}(n)?r("Yesterday at %s",n.format("h:mm a")):function(e){return e.isAfter(G)}(n)?n.format("ddd [at] h:mm a"):n.format("MMM D, YYYY, [at] h:mm a"),a.a.createElement("div",{className:"date-separator"},a.a.createElement("div",null,a.a.createElement("span",{className:"date"},t)))}K.propTypes={dateDisplay:c.a.object.isRequired};var Z=function(e){var t=e.message,n=e.username,r=e.isActive,o=e.differentSender,i=e.scrollToMessageId,l=e.setRef,c=t.from.name===n;return a.a.createElement("div",{ref:i===t.id?l:null,className:O()("conversation-row",c?"from-me":"from-other",{"different-sender":o})},a.a.createElement("a",{className:"on-navigate avatar-link",href:"/user/".concat(t.from.name)},r||c?a.a.createElement("img",{src:t.from.avatar,alt:"".concat(n,"'s avatar"),className:"avatar avatar-sm3"}):a.a.createElement(h.c,{name:"avatar/empty.png",className:"avatar avatar-sm3"})),a.a.createElement("div",{className:"conversation-message"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(s.p)(t.body)}})))};Z.propTypes={message:c.a.shape({body:c.a.string,createDate:c.a.string,from:c.a.object,id:c.a.number,latestReplies:c.a.array,numReplies:c.a.number,unread:c.a.bool}).isRequired,isActive:c.a.bool.isRequired,username:c.a.string.isRequired,differentSender:c.a.bool.isRequired,scrollToMessageId:c.a.number.isRequired,setRef:c.a.object.isRequired};var J=Z;function Q(e){var t,n,r=e.messages,o=e.username,i=e.isActive,s=e.scrollToMessageId,l=e.setRef,c=e.isLastBatch;return a.a.createElement("div",{className:"conversations"},r.map((function(e,r){var u=!1,m=null;t!==e.from.name&&(u=!0,t=e.from.name);var d=C()(e.createDate);if(0===r&&c)m=d;else if(n){C.a.duration(d.diff(n)).asHours()>=6&&(m=d)}return n=d,a.a.createElement(a.a.Fragment,{key:e.id},m&&a.a.createElement(K,{dateDisplay:m}),a.a.createElement(J,{setRef:l,scrollToMessageId:s,message:e,username:o,isActive:i,differentSender:u}))})))}function X(e){var t,n,r,o=e.isMutedByCurrentUser,i=e.isBlockedByCurrentUser,s=e.activeThreadUsername,l=Object(d.o)().trans;return i?(t=l("You have blocked %s and cannot reply to this conversation.",s),n=l("View Profile"),r={href:"/user/".concat(s),className:"on-navigate"}):o?(t=l("You have muted %s and cannot reply to this conversation.",s),n=l("View Profile"),r={href:"/user/".concat(s),className:"on-navigate"}):(t=l("You cant reply to this conversation."),n=l("Learn more"),r={target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/en-us/articles/205956030-I-Can-t-Message-Another-User-"}),a.a.createElement("div",{className:"bottom-sticky"},a.a.createElement("div",{className:"disabled-reply"},a.a.createElement("p",null,t+" ",a.a.createElement("a",r,n))))}Q.propTypes={messages:c.a.array.isRequired,username:c.a.string.isRequired,isActive:c.a.bool.isRequired,scrollToMessageId:c.a.number.isRequired,setRef:c.a.object.isRequired,isLastBatch:c.a.bool.isRequired},X.propTypes={isMutedByCurrentUser:c.a.bool.isRequired,isBlockedByCurrentUser:c.a.bool,activeThreadUsername:c.a.string.isRequired};var ee=X;function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e){var t=e.activeThread,n=e.postMessage,o=e.username,i=e.isReply,s=e.isFirstTimeMessaging,l=Object(d.o)().trans,c=te(Object(r.useState)(""),2),u=c[0],m=c[1];return a.a.createElement("form",{className:"conversation-form bottom-sticky",onSubmit:function(e){e&&(e.preventDefault(),e.stopPropagation()),""!==u&&(window.te.push("event","private_messages","message","send",{sender_username:o,recipient_username:t,is_reply:i,page:"message"}),n(t,{body:u}),m(""))}},s&&a.a.createElement("div",{className:"first-time-msgs"},a.a.createElement("strong",null,l("You are about to send a message to someone you dont follow.")),l(" Wattpad is an inclusive space where everyone can belong. Hate speech and cyberbullying are never tolerated.")),a.a.createElement(h.m,{characterLimit:2e3,value:u,onChange:function(e){var t=e.target.value;m(t.substr(0,2e3))},autoFocus:!0,placeholder:l("Write a message...")}),a.a.createElement("div",{className:"btn-container"},a.a.createElement("button",{type:"submit",disabled:""===u,className:"btn btn-large btn-orange"},l("Send"))))}re.propTypes={activeThread:c.a.string.isRequired,postMessage:c.a.func.isRequired,username:c.a.string.isRequired,isReply:c.a.bool.isRequired,isFirstTimeMessaging:c.a.bool.isRequired};var ae=re;function oe(e){var t,n=e.username,o=e.messages,s=e.badges,l=e.isActive,c=e.isLoading,u=e.isLoadingMore,m=e.isDeleting,f=e.isPosting,p=e.total,y=e.offset,b=e.isEmailVerified,g=e.isMutingCurrentUser,v=e.isMutedByCurrentUser,E=e.isBlockedByCurrentUser,O=e.scrollToMessageId,S=e.postMessage,C=e.loadConversation,k=Object(d.o)().trans,N=Object(r.useRef)(),_=Object(r.useRef)(),P=Object(i.i)().activeThread;Object(d.m)("".concat(k("Messages between you and %s",P)," - Wattpad")),t=function(){window.te.push("event","private_messages","conversation",null,"view",{sender_username:P,recipient_username:n}),C(P)},Object(r.useEffect)(t,[]),function(e,t){Object(r.useEffect)(e,t)}((function(){if(N.current&&_.current){window.scrollTo(0,N.current.offsetTop-_.current.getBoundingClientRect().bottom-10)}}),[O]);var T=o.find((function(e){return e.from.name===P})),R=y===p,x=s.length?s[0]:"",I=0===o.length&&!c,L=!g&&!v&&!E&&l&&b;return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"conversation-container"},a.a.createElement("div",{className:"column"}),a.a.createElement("div",{className:"column main"},a.a.createElement("div",{className:"conversation-header",ref:_},a.a.createElement("h2",null,P),a.a.createElement(j.a,{name:x,size:"20",allowedBadges:["staff","verified"]})),a.a.createElement(w,{direction:"up",threshold:0,isLoading:u,isDisabled:u||m||f,total:p,offset:y,onLoad:function(e){C(P,e)}}),a.a.createElement(Q,{scrollToMessageId:O,setRef:N,messages:o,username:n,isActive:l,isLastBatch:R}),!c&&(L?a.a.createElement(ae,{activeThread:P,isReply:Boolean(T),postMessage:S,isActive:l,username:n,isFirstTimeMessaging:I}):a.a.createElement(ee,{isMutedByCurrentUser:v,isBlockedByCurrentUser:E,activeThreadUsername:P}))),a.a.createElement("div",{className:"column"},a.a.createElement("div",{className:"column-content"},a.a.createElement(A,{activeThread:P,isLoading:c,isMutedByCurrentUser:v,isBlockedByCurrentUser:E}),a.a.createElement("div",{className:"extra-content-container"},a.a.createElement("a",{href:"https://creators.wattpad.com/programs-and-opportunities/wattpad-creators-program/",rel:"noopener noreferrer",target:"_blank"},a.a.createElement("img",{src:"/img/desktop-web/2019_Wattpad-Stars_300x250.jpg",alt:"Wattpad Stars"})))))),a.a.createElement(h.q,null),a.a.createElement(U.a,null))}oe.propTypes={username:c.a.string.isRequired,badges:c.a.array.isRequired,messages:c.a.array.isRequired,isActive:c.a.bool.isRequired,isLoading:c.a.bool.isRequired,isLoadingMore:c.a.bool.isRequired,isDeleting:c.a.bool.isRequired,isPosting:c.a.bool.isRequired,total:c.a.number.isRequired,offset:c.a.number.isRequired,postMessage:c.a.func.isRequired,loadConversation:c.a.func.isRequired,scrollToMessageId:c.a.number.isRequired,isEmailVerified:c.a.bool.isRequired,isMutingCurrentUser:c.a.bool.isRequired,isMutedByCurrentUser:c.a.bool.isRequired,isBlockedByCurrentUser:c.a.bool};var ie=Object(u.b)((function(e){return{messages:e.conversation.messages,badges:e.conversation.badges,isActive:e.conversation.isActive,isLoading:e.conversation.isLoading,isLoadingMore:e.conversation.isLoadingMore,isDeleting:e.conversation.isDeleting,isPosting:e.conversation.isPosting,total:e.conversation.total,offset:e.conversation.offset,isEmailVerified:e.conversation.isEmailVerified,isMutingCurrentUser:e.conversation.isMutingCurrentUser,isMutedByCurrentUser:e.conversation.isMutedByCurrentUser,isBlockedByCurrentUser:e.conversation.isBlockedByCurrentUser,scrollToMessageId:e.conversation.scrollToMessageId}}),{loadConversation:k.c,postMessage:k.d})(oe),se=function(e){var t=e.username,n=e.url,r=Object(s.o)()?o.a:i.d;return a.a.createElement(r,{basename:"/inbox",location:n,context:{}},a.a.createElement(i.e,null,a.a.createElement(i.b,{exact:!0,path:"/"},a.a.createElement(V,{username:t})),a.a.createElement(i.b,{exact:!0,path:"/:activeThread"},a.a.createElement(ie,{username:t}))))};se.propTypes={username:c.a.string.isRequired,url:c.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(14),c=n.n(l),u=n(22),m=n(12),d=n(4),f=n.n(d),p=n(3),y=n(5),b=n(40),g=n(183);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.tags,n=void 0===t?[]:t,o=e.isPaid,i=e.max,s=void 0===i?1:i,l=e.filter,c=void 0===l?function(e){return e}:l,u=h(Object(r.useState)(n),2),m=u[0],d=u[1];return Object(r.useEffect)((function(){d(_.shuffle(n).filter(c).slice(0,s))}),[n,s,c]),a.a.createElement("div",{className:"tags-list"},o?a.a.createElement(p.e,{name:"paidStory",className:"paid-stories-badge",size:"24",color:"ds-neutral-100",strokeWidth:"0",fill:!0}):null,n?m.map((function(e,t){return a.a.createElement(b.a,{key:t+e,name:e,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){e.preventDefault(),app.router.navigate("/stories/".concat(t),{trigger:!0})},link:"/stories/".concat(e)})})):null)};w.propTypes={tags:s.a.array,isPaid:s.a.bool,max:s.a.number,filter:s.a.func};var E=function(e){var t=e.sectionType,n=e.title,o=e.id,i=e.cover,s=e.user,l=e.tags,c=e.description,u=e.isPaid,m=e.sources,d=e.index,f=e.offset,p=e.windowWidth,b=e.wasSeen,h=e.clickTrackingUrls,v=e.impressionTrackingUrls,E=e.callTrackingUrls,O=e.isPromoted,S=e.onStoryClick,C=e.heroItem,j=500,k=200,N=3,_=!0,P=18,T=v&&v.length>0,R=Object(y.h)(i),x=Object(y.g)(i,104);p>575&&p<=960||p>=545&&p<=575?(j=250,N=2):p<545&&p>=400?(j=100,k=60,P=10,N=2,_=!1):p<400&&(j=60,k=30,P=8,N=1,_=!1);var A=Object(r.useCallback)((function(e){return e.length<P}),[P]);Object(r.useEffect)((function(){b&&(window.te.push("event","story",null,null,"view",{storyid:o,page:"home",algo_source:m,position:d,offset:f,type:t}),T&&wattpad.utils.pushEvent({category:"homePromotedImpression",action:"viewed",label:"storyId-".concat(o)}))}),[b]);var I=function(e,n){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:o,page:"home",algo_source:m,position:d,offset:f,type:t}),h&&E(h),"mobile"!==wattpad.utils.getDeviceType()&&S?S(C):app.router.navigate(n,{trigger:!0})};return a.a.createElement("div",{className:"paid-stories-item hero"},a.a.createElement("div",{className:"cover"},a.a.createElement("a",{href:"/story/".concat(o),onClick:function(e){return I(e,"/story/".concat(o))}},a.a.createElement("img",{srcSet:R,sizes:"(max-width: 575px) ".concat(104,"px, ").concat(200,"px"),src:x,alt:"".concat(n," cover")}))),a.a.createElement("div",{className:"hero-content"},a.a.createElement("a",{className:"title",href:"/story/".concat(o),onClick:function(e){return I(e,"/story/".concat(o))},"aria-label":"Read ".concat(n)},a.a.createElement("p",null,Object(y.w)(n,k,!1))),s&&_?a.a.createElement("a",{className:"author on-navigate",href:"/user/".concat(s.name)},s.name):null,a.a.createElement("p",{className:"description"},Object(y.w)(c,j,!1)),a.a.createElement(w,{tags:l,isPaid:u,max:N,filter:A})),O&&a.a.createElement("div",{className:"right-section"},a.a.createElement(g.a,null),T&&v.map((function(e,t){return function(e,t){return a.a.createElement("img",{key:"pixel-".concat(t),src:e,height:"1",width:"1",alt:""})}(e,t)}))))};E.defaultProps={onStoryClick:null,sources:[],offset:0},E.propTypes={cover:s.a.string.isRequired,id:s.a.oneOfType([s.a.string,s.a.number]).isRequired,index:s.a.number.isRequired,isPaid:s.a.bool,offset:s.a.number,sectionType:s.a.string,sources:s.a.array,tags:s.a.array,title:s.a.string.isRequired,user:s.a.object,description:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number,clickTrackingUrls:s.a.array,impressionTrackingUrls:s.a.array,callTrackingUrls:s.a.func,isPromoted:s.a.bool,onStoryClick:s.a.func,heroItem:s.a.object};var O=E,S=n(109),C=n(134);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=function(e){var t=e.callTrackingUrls,n=e.clickTrackingUrls,o=e.impressionTrackingUrls,i=e.expandPrompt,s=e.heading,l=e.heroItem,c=e.index,u=e.isPromoted,m=e.multiRows,d=e.onStoryClick,p=e.page,y=e.sectionType,b=e.setPosition,g=e.storyItems,h=e.subheading,v=e.wasSeen,w=e.windowWidth,E=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=E.current.getBoundingClientRect();b(c,y,e.top+window.scrollY,e.bottom+window.scrollY)}),[c,y,b]),g&&0!==g.length||l?a.a.createElement("div",{className:f()("story-swimlane-with-hero",y),ref:E},a.a.createElement("div",{className:"module-content"},a.a.createElement(C.a,{expandPrompt:i,heading:s,sectionType:y,subheading:h,isPromoted:!1}),a.a.createElement("div",{className:"hero-item"},a.a.createElement(O,j({},l,{windowWidth:w,clickTrackingUrls:n,impressionTrackingUrls:o,isPromoted:u,callTrackingUrls:t,onStoryClick:d,heroItem:l,index:c,wasSeen:v,sectionType:y}))),m?m.map((function(e,t){return[a.a.createElement(C.a,{heading:e.heading,subheading:e.subheading,key:"".concat(e.heading,"-").concat(t)}),a.a.createElement("div",{className:"story-carousel",key:"".concat(e.items[0].id,"-").concat(t)},a.a.createElement(S.a,{index:c,onStoryClick:d,page:p,sectionType:y,stories:e.items,wasSeen:v,windowWidth:w}))]})):a.a.createElement("div",{className:"story-carousel"},a.a.createElement(S.a,{index:c,onStoryClick:d,page:p,sectionType:y,stories:g,wasSeen:v,windowWidth:w})))):null};k.defaultProps={onStoryClick:null},k.propTypes={callTrackingUrls:s.a.func.isRequired,clickTrackingUrls:s.a.array,impressionTrackingUrls:s.a.array,expandPrompt:s.a.object,heading:s.a.string,heroItem:s.a.object.isRequired,index:s.a.number.isRequired,isPromoted:s.a.bool,multiRows:s.a.array,navigationItem:s.a.object,onStoryClick:s.a.func,page:s.a.string.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,storyItems:s.a.array,subheading:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number};var N=k,P=n(128),T=n(72),R=n(90),x=n.n(R);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.sectionType,n=e.slides,o=void 0===n?[]:n,i=e.index,s=e.setPosition,l=e.windowWidth,c=e.wasSeen,u=e.wrapAround,m=x()(parseInt(app.get("language"),10)),d=Object(r.useRef)(null),y=L(Object(r.useState)([]),2),b=y[0],g=y[1],h=L(Object(r.useState)(),2),v=h[0],w=h[1],E=L(Object(r.useState)(),2),O=E[0],S=E[1];Object(r.useEffect)((function(){if(c)D(0);else{var e=d.current.getBoundingClientRect();w(e.top),S(e.bottom),s(i,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[c,i,t,s,D]);var C=l<575,j=!C&&c,k=C?{autoplay:j,autoplayInterval:5500,animation:"zoom",cellSpacing:8,frameOverflow:"visible",initialSlideHeight:168,initialSlideWidth:282,slideOffset:25,slidesToShow:1.1,swiping:!0,withoutControls:!0,wrapAround:!0}:{autoplay:j,autoplayInterval:5500,dragging:!1,slidesToShow:1,initialSlideHeight:400,renderCenterRightControls:function(e){var t=e.currentSlide,n=e.nextSlide,r=e.slideCount;return _(t,n,r)},renderCenterLeftControls:function(e){var t=e.currentSlide,n=e.previousSlide;return P(t,n)},renderBottomCenterControls:null,renderBottomRightControls:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return R(t,n,r)},wrapAround:!0},N=C?157:267,_=function(e,t,n){return e!==n-1||u?a.a.createElement("button",{className:"next-btn",onClick:t},a.a.createElement(p.e,{name:"arrowRight",size:"22",alt:"next",strokeWidth:"4"})):null},P=function(e,t){return 0!==e||u?a.a.createElement("button",{className:"prev-btn",onClick:t},a.a.createElement(p.e,{name:"arrowLeft",size:"22",alt:"previous",strokeWidth:"4"})):null},R=function(e,t,n){return a.a.createElement("div",{className:"controls"},I(Array(t)).map((function(t,r){var o=f()("control",{active:r===e});return a.a.createElement("div",{className:o,key:r,onClick:function(){n(r)},onKeyDown:function(){n(r)},role:"tab",tabIndex:"0"})})))},M=function(e){!d.current||d.current.getBoundingClientRect().top<(v-O)/2||d.current.getBoundingClientRect().top>window.innerHeight-(O-v)/2||b.includes(e)||(window.te.push("event","home","featured",null,"view",{itemid:o[e].id,offset:e}),g([].concat(I(b),[e])))},D=Object(r.useCallback)(M);return null!==o&&0!==o.length?a.a.createElement("div",A({ref:d},m?{dir:"ltr",className:"featured-carousel rtl-adjust"}:{className:"featured-carousel"}),a.a.createElement(T.a,A({},k,{afterSlide:M,enableKeyboardControls:!0,heightMode:"max",renderAnnounceSlideMessage:function(e){var t=e.currentSlide,n=e.slideCount;return"Slide ".concat(t," out of ").concat(n)}}),o.map((function(e,t){var n=t===o.length-1;return a.a.createElement(q,A({},e,{height:N,topHeader:C,ind:t,isLastSlide:n,offset:t,key:t}))}))),a.a.createElement("hr",{className:"module-divider"})):null};U.propTypes={index:s.a.number.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,slides:s.a.array.isRequired,wasSeen:s.a.bool.isRequired,windowWidth:s.a.number,wrapAround:s.a.bool.isRequired};var q=function(e){var t=e.id,n=e.image,r=e.heading,o=e.subheading,i=e.weblink,s=e.ind,l=e.offset,c=e.isLastSlide,u=e.height;return a.a.createElement("div",{className:f()("featured-slide","slide-".concat(s),{"last-slide":c,"not-last-slide":!c})},a.a.createElement("a",{href:i,onClick:function(){window.te.push("event","home","featured",null,"click",{itemid:t,offset:l})}},a.a.createElement("div",{className:"image-container",style:{backgroundImage:"url(".concat(n,")"),height:"".concat(u,"px"),backgroundSize:"cover"},alt:"featured slide",loading:"lazy"})),a.a.createElement("div",{className:"featured-text"},a.a.createElement("h2",null,r),a.a.createElement("p",null,o)))};q.propTypes={heading:s.a.string,height:s.a.number.isRequired,id:s.a.oneOfType([s.a.number,s.a.string]),image:s.a.string.isRequired,ind:s.a.number.isRequired,isLastSlide:s.a.bool,offset:s.a.number.isRequired,subheading:s.a.string,topHeader:s.a.bool,weblink:s.a.string};var B=U,F=function(e){var t=e.sectionType,n=e.heading,o=e.subheading,i=e.background,s=e.index,l=e.isSubsection,c=e.setPosition,u=e.link,m=e.image,d=e.wasSeen,p=Object(r.useRef)(null);Object(r.useEffect)((function(){if(!l){var e=p.current.getBoundingClientRect();c(s,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[l,s,t,c]),Object(r.useEffect)((function(){d&&window.te.push("event","home","navigation",null,"view",{nav_target:n,position:s})}),[d]);var y=!!m;return a.a.createElement("div",{className:f()("small-nav",i,"".concat(t,"-banner"),{twoSections:y,oneSection:!y}),ref:p},a.a.createElement("a",{href:u,target:"_blank",onClick:function(){window.te.push("event","home","navigation",null,"click",{nav_target:n,position:s})},rel:"noopener noreferrer",className:"banner-content"},a.a.createElement("div",{className:"contest-content"},a.a.createElement("div",{className:"contest-info"},a.a.createElement("h1",null,n),a.a.createElement("h2",null,o)),y&&a.a.createElement("div",{className:"graphic-container",style:{backgroundImage:"url(".concat(m,")")}}))))};F.propTypes={wasSeen:!1},F.propTypes={index:s.a.number.isRequired,isSubsection:s.a.bool,heading:s.a.string.isRequired,background:s.a.string,setPosition:s.a.func.isRequired,sectionType:s.a.string.isRequired,subheading:s.a.string,link:s.a.string,image:s.a.string,wasSeen:s.a.bool};var W=F,V=n(10),H=n(2),z=function(e){var t=e.greeting,n=e.index,o=e.openContentSettings,i=e.sectionType,s=e.setPosition,l=e.showContentSettings,c=Object(H.o)().trans,u=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=u.current.getBoundingClientRect();s(n,i,e.top+window.scrollY,e.bottom+window.scrollY)}),[n,i,s]),a.a.createElement("div",{className:"greeting-and-content-settings",ref:u},a.a.createElement("div",{className:"module-content"},a.a.createElement("div",{className:"greeting"},t&&a.a.createElement("h2",{className:"greeting-text"},Object(y.o)()&&t.includes("%s")?t.replace("%s",wattpad.user.name||wattpad.user.username||""):t)),l&&a.a.createElement("h2",{className:"content-settings"},a.a.createElement("div",{role:"button",tabIndex:0,className:"content-settings-label",onClick:o},a.a.createElement(V.a,{name:"preferences",size:"17",color:"wp-neutral-1"}),a.a.createElement("p",null,c("Content Preferences"))))),a.a.createElement("hr",{className:"module-divider"}))};z.propTypes={greeting:s.a.string.isRequired,index:s.a.number.isRequired,openContentSettings:s.a.func,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,showContentSettings:s.a.bool};var Y=z,G=n(71);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){var t=e.completed,n=e.cover,o=e.description,i=e.getCollectionsForStoryIds,s=e.id,l=e.index,c=e.isPaid,u=e.numParts,m=e.offset,d=e.onLibraryClick,f=e.readingLists,b=e.sectionType,g=e.setPosition,h=e.sources,v=e.storiesCollections,w=e.storiesCollectionsLoading,E=void 0!==w&&w,O=e.title,S=e.wasSeen,C=e.windowWidth,j=e.mature,k=void 0!==j&&j,N=Object(r.useRef)(null),_=Object(H.o)().trans,P=K(Object(r.useState)(),2),T=P[0],R=P[1];Object(r.useEffect)((function(){var e=N.current.getBoundingClientRect();g(l,b,e.top+window.scrollY,e.bottom+window.scrollY)}),[l,b,g]),Object(r.useEffect)((function(){S&&window.te.push("event","story",null,null,"view",{storyid:s,page:"home",algo_source:h,position:l,offset:m,type:b})}),[S]),Object(r.useEffect)((function(){Promise.resolve($.get("/api/v3/stories/".concat(s,"?fields=firstPartId"))).then((function(e){R(e.firstPartId)})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e)}))}),[s]),Object(r.useEffect)((function(){"mobile"===wattpad.utils.getDeviceType()||E||v&&v[s]||i(s)}),[i,s,v,E]);var x=function(){window.te.push("event","story",null,null,"click",{storyid:s,page:"home",algo_source:h,position:l,offset:m,type:b})},A=function(e){e.preventDefault(),x(),app.router.navigate("/story/".concat(s),{trigger:!0})},I=Object(y.h)(n),L=Object(y.g)(n,238),M=Object(r.useRef)(),D=function(e){var t=e.id,n=e.description,r=e.characterDisplayLimit,o=e.handleStoryDetailsClick;return a.a.createElement("div",{className:"description"},a.a.createElement("p",{className:"description-text"},Object(y.w)(n,r,!1)),a.a.createElement("a",{className:"link",onClick:o,href:"/story/".concat(t)},_("More details"),a.a.createElement(p.e,{name:"chevRight",size:"24"})))};return a.a.createElement("div",{className:"module"},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement("div",{className:"story-spotlight-details",ref:N},a.a.createElement("div",{className:"cover-wrapper"},a.a.createElement("a",{href:"/story/".concat(s),onClick:A},a.a.createElement("img",{className:"story-spotlight-cover",srcSet:I,sizes:"(max-width: 574px) 151px, 238px",src:L,alt:"".concat(O," cover")})),a.a.createElement("div",{className:"story-info"},a.a.createElement("div",{className:"new-flag"},_("New")),a.a.createElement("div",{className:"title"},O),a.a.createElement(G.a,{numParts:u,isMature:k,isCompleted:t,isPaid:c}),a.a.createElement("div",{className:"buttons-wrapper"},a.a.createElement("a",{className:"read btn-primary",onClick:function(e){e.preventDefault(),x();var t=T?"/".concat(T):"/story/".concat(s);app.router.navigate(t,{trigger:!0})},href:"/story/".concat(s)},_("Free preview")),f&&a.a.createElement("button",{className:"btn-icon",title:_("Add story to..."),"aria-label":_("Add story to..."),ref:M,onClick:function(){d(M,s)}},a.a.createElement(p.e,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))),C>575&&a.a.createElement(D,{id:s,handleStoryDetailsClick:A,description:o,characterDisplayLimit:290}))),(!C||C<=575)&&a.a.createElement(D,{id:s,handleStoryDetailsClick:A,description:o,characterDisplayLimit:290}))))};J.propTypes={characterDisplayLimit:s.a.number,completed:s.a.bool,cover:s.a.string,description:s.a.string,getCollectionsForStoryIds:s.a.func,handleStoryDetailsClick:s.a.func,id:s.a.number,index:s.a.number,isPaid:s.a.bool,numParts:s.a.number,offset:s.a.number,onLibraryClick:s.a.func,readingLists:s.a.array,sectionType:s.a.string,setPosition:s.a.func,sources:s.a.array,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,title:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number,mature:s.a.bool};var Q=J,X=function(e){var t=e.sectionType,n=e.index,o=e.prompt,i=e.button,s=e.weblink,l=e.background,c=e.wasSeen;Object(r.useEffect)((function(){c&&window.te.push("event","home","cta",null,"view",{page:"home",position:n,type:t})}),[c]);return o&&s?a.a.createElement("div",{className:f()("cta module",l)},a.a.createElement("div",{className:"module-content"},a.a.createElement("a",{href:s,className:f()("on-navigate btn-secondary",i),onClick:function(){window.te.push("event","home","cta",null,"click",{page:"home",position:n,type:t})}},o))):null};X.propTypes={wasSeen:!1},X.propTypes={sectionType:s.a.string.isRequired,index:s.a.number.isRequired,prompt:s.a.string,button:s.a.string,applink:s.a.string,weblink:s.a.string,background:s.a.string,image:s.a.string,message:s.a.string,wasSeen:s.a.bool};var ee=X;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ne=function(e){var t={sectionType:e.type,index:e.index,setPosition:e.setPosition,windowWidth:e.windowWidth,wasSeen:e.wasSeen,page:"home"};switch(e.type){case"paidMultiRow":case"paid":case"storyHeroGroup":return a.a.createElement(N,te({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,subheading:e.data.subheading,heroItem:e.data.heroItem||e.data.heroItems[0],storyItems:e.data.listItems,multiRows:e.data.rows,navigationItem:e.data.navigation,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,impressionTrackingUrls:e.data.tracking&&e.data.tracking.impressions,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"storyExpanded":case"storyList":return a.a.createElement(P.a,te({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,background:e.data.background,subheading:e.data.subheading,stories:e.data.items,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"featured":return!!e.data.items&&a.a.createElement(B,te({},t,{slides:e.data.items,wrapAround:!0}));case"cta":return a.a.createElement(ee,te({},t,{prompt:e.data.prompt,button:e.data.button,message:e.data.message,background:e.data.background,weblink:e.data.weblink,image:e.data.image}));case"smallNavigation":return a.a.createElement(W,te({},t,{heading:e.data.heading,subheading:e.data.subheading,background:e.data.background,link:e.data.weblink,image:e.data.image}));case"greeting":return a.a.createElement(Y,te({},t,{greeting:e.data.greeting,openContentSettings:e.openContentSettings,showContentSettings:e.data.showContentSettings}));case"storySpotlight":return a.a.createElement(Q,te({},e.data.item,t,{onLibraryClick:e.onLibraryClick,readingLists:e.readingLists,getCollectionsForStoryIds:e.getCollectionsForStoryIds,storiesCollections:e.storiesCollections,storiesCollectionsLoading:e.storiesCollectionsLoading}));default:return null}};ne.propTypes={index:s.a.number.isRequired,setPosition:s.a.func.isRequired,windowWidth:s.a.number,wasSeen:s.a.bool.isRequired,type:s.a.string,openContentSettings:s.a.func,openStoryDetails:s.a.func,onLibraryClick:s.a.func,readingLists:s.a.array,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,data:s.a.shape({expandPrompt:s.a.object,heading:s.a.string,background:s.a.string,subheading:s.a.string,isPromoted:s.a.bool,heroItem:s.a.object,heroItems:s.a.array,navigation:s.a.object,clickTrackingUrls:s.a.array,listItems:s.a.array,greeting:s.a.string,image:s.a.string,prompt:s.a.string,button:s.a.string,message:s.a.string,weblink:s.a.string,items:s.a.array,item:s.a.object,tracking:s.a.object,rows:s.a.array,showContentSettings:s.a.bool}),callTrackingUrls:s.a.func};var re=ne;function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){var t=e.visible,n=Object(H.o)().trans,o=ae(Object(r.useState)(null),2),i=o[0],s=o[1],l=ae(Object(r.useState)(0),2),u=l[0],m=l[1],d=ae(Object(r.useState)(""),2),f=d[0],p=d[1],b=ae(Object(r.useState)(""),2),g=b[0],h=b[1],v=ae(Object(r.useState)(""),2),w=v[0],E=v[1],O=t?"0px":"150px",S=Object(r.useCallback)((function(e){var t=c.a.get(e,"readingPosition.partId",null),n=c.a.get(e,"parts",null),r=c.a.find(n,{id:parseInt(t)}),a=c.a.get(r,"url",null);return a?wattpad.utils.formatStoryUrl(a):null}),[]);Object(r.useEffect)((function(){var e=wattpad.user.username||"",t="/v4/users/".concat(e,"/recent_reads");Promise.resolve($.get({url:t,cache:!1})).then((function(e){var t=e.stories[0],n=Object(y.h)(t.cover),r=Object(y.g)(t.cover,40),a=t&&t.parts&&t.readingPosition?wattpad.utils.calcPercentRead(t.parts,t.readingPosition):0;s(t),m(a),p(S(t)),h(n),E(r)})).catch((function(){s(null),m(0),p(""),h(""),E("")}))}),[S]);return!!i&&!!f&&a.a.createElement("div",{className:"continue-reading-wrapper"},a.a.createElement("button",{className:"continue-reading",label:n("Continue reading %s",i.title),onClick:function(){f&&app.router.navigate(f,{trigger:!0})},style:{transform:"translate(0, ".concat(O,")")}},a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"story-info"},a.a.createElement("div",{className:"cover"},a.a.createElement("img",{srcSet:g,sizes:"(max-width: 575px) ".concat(40,"px, ").concat(60,"px"),src:w,alt:i.title+" cover"})),a.a.createElement("div",{className:"story-details"},a.a.createElement("div",{className:"header"},n("Continue Reading")),a.a.createElement("div",{className:"story-title"},i.title))),a.a.createElement("div",{className:"read"},n("READ"))),a.a.createElement("div",{className:"percentage-read"},a.a.createElement("div",{className:"percentage-position",style:{width:"".concat(u,"%")}}))))}ie.propTypes={visible:s.a.bool};var se=n(106);function le(e){var t=e.onRefresh,n=Object(H.o)().trans;return a.a.createElement("div",{className:"load-home-failed"},a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/homepages/homeIllustration.svg",alt:""})),a.a.createElement("div",{className:"text"},a.a.createElement("div",{className:"title"},n("Lets find your way back home")),a.a.createElement("div",{className:"subtitle"},n("Something went wrong, try refreshing."))),a.a.createElement("button",{className:"refresh btn-primary",onClick:t},n("Refresh")))}le.propTypes={onRefresh:s.a.func},le.defaultProps={onRefresh:function(){}};var ce=n(165),ue=n(41),me=n(127),de=n(46);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var a=Ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(i,e);var t,n,r,o=he(i);function i(){var e;ye(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oe(we(e=o.call.apply(o,[this].concat(n))),"state",{windowWidth:null,lastSectionLoadedIndex:4,lastScrollY:0,showContinueReading:!0}),Oe(we(e),"sectionWrapperRef",a.a.createRef()),Oe(we(e),"sectionLimitPerPage",5),Oe(we(e),"showContinueReading",(function(){var t=window.scrollY;t<=0||t<e.state.lastScrollY?e.setState({showContinueReading:!0}):e.setState({showContinueReading:!1}),e.setState({lastScrollY:t})})),Oe(we(e),"showContinueReadingThrottled",c.a.throttle(e.showContinueReading,300,{leading:!0,trailing:!1})),Oe(we(e),"handleInfScroll",(function(){var t;e.state.lastSectionLoadedIndex!==e.props.sections.length-1?e.isAtBottom(e.sectionWrapperRef.current)&&(t=e.state.lastSectionLoadedIndex>e.props.sections.length-1-e.sectionLimitPerPage?e.props.sections.length-1:e.state.lastSectionLoadedIndex+e.sectionLimitPerPage,e.setState({lastSectionLoadedIndex:t}),window.wattpad.homeSectionsIndex=t):window.removeEventListener("scroll",c.a.debounce(e.handleInfScroll,300,{leading:!1,trailing:!0}))})),Oe(we(e),"handleOpenContentSettings",(function(){e.props.openContentSettings(),window.te.push("event","app","page",null,"view",{page:"content_settings",source:"home"})})),Oe(we(e),"isAtBottom",(function(e){return e&&e.getBoundingClientRect().bottom-200<=window.innerHeight})),Oe(we(e),"handleOpenStoryDetails",(function(t){e.props.openStoryDetails(t)})),Oe(we(e),"checkIntersections",(function(){var t=window.scrollY,n=t+window.innerHeight;Object.keys(e.props.sectionBounds).map((function(r){if(!e.props.sectionBounds[r].viewed){var a=e.props.sectionBounds[r],o=a.bottom-a.top;(o-(a.top<t?t-a.top:0)-(a.bottom>n?a.bottom-n:0))/o>=.5&&(window.te.push("event","home","section",null,"view",{type:a.type,position:a.index}),e.props.sectionViewed(r))}}))})),Oe(we(e),"handleLibraryClick",(function(t,n){e.props.openPopover({component:function(){return a.a.createElement(me.a,{readingLists:e.props.readingLists,storyId:n,updateCollection:e.props.updateCollection,removeStoriesFromCollection:e.props.removeStoriesFromCollection,storiesCollections:e.props.storiesCollections[n],getReadingLists:e.props.getReadingLists,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds})},triggerRef:t,passthroughProps:{showArrow:"true"}})})),Oe(we(e),"refresh",(function(){e.props.clearError(),e.props.fetchHomeSections()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.fetchEmailReverificationStatus&&this.props.fetchEmailReverificationStatus(),"mobile"===wattpad.utils.getDeviceType()||void 0!==this.props.readingLists||this.props.readingListsLoading||this.props.getReadingLists(),void 0!==this.props.sections&&0!==this.props.sections.length||this.props.fetchHomeSections(),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",(function(){return e.setState({windowWidth:window.innerWidth})}));var t=window.wattpad.homeSectionsIndex;t&&this.setState({lastSectionLoadedIndex:t}),window.addEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.addEventListener("scroll",this.checkIntersections),window.addEventListener("scroll",this.showContinueReadingThrottled),window.te.push("event","app","page",null,"view",{page:"home"})}},{key:"componentDidUpdate",value:function(e){0===Object.keys(e.sectionBounds).length&&0!==Object.keys(this.props.sectionBounds).length&&this.checkIntersections(),e.error!==this.props.error&&this.props.error&&console.error("An error has occurred:\n".concat(this.props.error.errorMessage))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",(function(){return e.setState({windowWidth:window.innerWidth})})),window.removeEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.removeEventListener("scroll",this.checkIntersections),window.removeEventListener("scroll",this.showContinueReadingThrottled)}},{key:"render",value:function(){var e=this;return this.props.homeLoading&&this.props.showLoader?a.a.createElement("div",{className:"home-sections-wrapper loading-spinner"},a.a.createElement(se.a,null)):this.props.error&&this.props.error.errorType===m.u.fetchError?a.a.createElement(le,{onRefresh:this.refresh}):void 0===this.props.sections||0===this.props.sections.length?null:a.a.createElement("div",{className:"home-sections-wrapper",ref:this.sectionWrapperRef},a.a.createElement(a.a.Fragment,null,this.state.windowWidth<575&&a.a.createElement("div",{className:"try-premium-container"},a.a.createElement(ce.a,{ctaType:"home_header"})),this.props.sections.slice(0,this.state.lastSectionLoadedIndex+1).map((function(t,n){var r=!(!e.props.sectionBounds[n]||!e.props.sectionBounds[n].viewed);return a.a.createElement(re,pe({},t,{openContentSettings:e.handleOpenContentSettings,openStoryDetails:e.handleOpenStoryDetails,onLibraryClick:e.handleLibraryClick,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds,storiesCollections:e.props.storiesCollections,storiesCollectionsLoading:e.props.storiesCollectionsLoading,readingLists:e.props.readingLists,index:n,key:"".concat(t.type,"-").concat(n),setPosition:e.props.receiveSectionPosition,wasSeen:r,windowWidth:e.state.windowWidth,callTrackingUrls:e.props.callTrackingUrls}))})),a.a.createElement(ie,{visible:this.state.showContinueReading})),a.a.createElement(p.q,null),a.a.createElement(de.a,null))}}])&&be(t.prototype,n),r&&be(t,r),i}(a.a.Component);Oe(Se,"propTypes",{callTrackingUrls:s.a.func,clearError:s.a.func,error:s.a.object,fetchHomeSections:s.a.func,showLoader:s.a.bool,homeLoading:s.a.bool,openContentSettings:s.a.func,openStoryDetails:s.a.func,scrollIndex:s.a.number,sectionBounds:s.a.object,sections:s.a.array,sectionViewed:s.a.func,receiveSectionPosition:s.a.func,getReadingLists:s.a.func,readingLists:s.a.array,readingListsLoading:s.a.bool,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,updateCollection:s.a.func,removeStoriesFromCollection:s.a.func,openPopover:s.a.func,openEmailReverification:s.a.func,fetchEmailReverificationStatus:s.a.func}),Se.defaultProps={homeLoading:!0,showLoader:!0};var Ce={fetchHomeSections:u.d,receiveSectionPosition:u.l,sectionViewed:u.o,clearError:u.b,callTrackingUrls:u.a,openContentSettings:u.i,openStoryDetails:u.k,getReadingLists:u.g,getCollectionsForStoryIds:u.e,updateCollection:u.p,removeStoriesFromCollection:u.m,openPopover:ue.c,openEmailReverification:u.j,fetchEmailReverificationStatus:u.c};t.a=Object(o.b)((function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,showLoader:t.showLoader,sections:t.sections,sectionBounds:t.sectionBounds,error:t.error,readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,storiesCollections:t.storiesCollections,storiesCollectionsLoading:t.storiesCollectionsLoading}}),Ce)(Se)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(130),l=n(185),c=n(40),u=n(2),m=n(70),d=n(5),f=function(e){var t=e.isCompleted,n=e.isMature,r=e.user,o=r.username,i=r.avatar,s=e.publishDate,f=Object(u.o)().trans,p=null,y=null;t?(p=f("Complete"),y="#1C6F65"):!1===t&&(p=f("Ongoing"),y="#8D5610");var b=f("Mature"),g=Object(d.e)(s,{fuzzyTime:!0});return a.a.createElement("div",{className:"xxs-container-padding badges"},o&&a.a.createElement(l.a,{username:o,avatar:i}),a.a.createElement("div",{className:"story-badges"},p&&y&&a.a.createElement("div",{className:"icon completed","data-tip":!0,"data-for":"publish-date","aria-describedby":"publish-date",tabIndex:"0","aria-hidden":!0},a.a.createElement(c.a,{name:p,bgColor:y,color:"#ffffff",disableClick:!0})),a.a.createElement("span",{className:"sr-only"},f("%s, First published %s",p,g)),d.a?a.a.createElement(m.a,{id:"publish-date",effect:"solid",role:"tooltip",backgroundColor:"#000000",overridePosition:function(e,t,n,r){var a=e.left;return{top:e.top,left:"string"==typeof r?a:Math.max(a,0)}},"aria-hidden":!0},f("First published"),a.a.createElement("strong",null," ",f("%s",g))):null,n&&a.a.createElement("div",{className:"icon mature"},a.a.createElement(c.a,{name:b,bgColor:"#9E1D42",color:"#ffffff",disableClick:!0}))))};f.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired}),isCompleted:i.a.bool,isMature:i.a.bool,publishDate:i.a.string};var p=f,y=n(3),b=function(){var e=Object(u.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.e,{className:"card__action-icon",width:"32",height:"32",size:"32",name:"reportFlag",viewBox:"32",strokeWidth:"1"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{id:"report-title",className:"card__title"},e("Report this story"))),a.a.createElement(y.e,{className:"card__nav-icon",name:"chevRight",size:"24"}))},g=function(e){var t=e.storyId,n=e.storyTitle,r=e.authorUsername,o=e.storyLanguage,i=Object(u.o)().trans,s=Object(u.k)().openReportStoryModal;return a.a.createElement("div",null,a.a.createElement("a",{className:"card",href:"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines",target:"_blank",rel:"noopener noreferrer",tabIndex:"0"},a.a.createElement(y.e,{className:"card__action-icon",width:"32",height:"32",size:"32",name:"link",viewBox:"32",strokeWidth:"3"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{id:"content-title",className:"card__title"},i("Content Guidelines"))),a.a.createElement(y.e,{className:"card__nav-icon",name:"chevRight",size:"24"})),a.a.createElement("button",{className:"card",onClick:function(){s(t.toString(),n,r,o)}},a.a.createElement(b,null)))};g.propTypes={storyId:i.a.number.isRequired,storyTitle:i.a.string,authorUsername:i.a.string,storyLanguage:i.a.string};var h=g,v=function(e){var t=e.storyRankings,n=e.storyId;return t&&0!==t.length?a.a.createElement("a",{className:"card on-navigate",href:"/story/".concat(n,"/rankings"),"aria-label":"Number ".concat(t[0].rank," in ").concat(t[0].name,". Tap for all tag rankings for this story.")},a.a.createElement(y.e,{className:"card__action-icon",size:"32",name:"rankingBadge",fillColor:"wp-base-1",viewBox:"32",strokeWidth:"0"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{className:"card__title"},"#".concat(t[0].rank),a.a.createElement("span",{className:"title__name"},"".concat(t[0].name)))),a.a.createElement(y.e,{className:"card__nav-icon",name:"chevRight",size:"24"})):null};v.propTypes={storyRankings:i.a.array,storyId:i.a.number};var w=v,E=n(4),O=n.n(E),S=function(e){var t=e.children,n=e.className,r=e.lastUpdated,o=Object(u.o)().trans;return a.a.createElement("div",{className:O()("table-of-contents",n)},a.a.createElement("div",{className:"table-of-contents__header"},o("Table of contents"),a.a.createElement("span",{className:"table-of-contents__last-updated",dangerouslySetInnerHTML:{__html:o("Last updated <strong>%s</strong>",r)}})),t)};S.propTypes={children:i.a.node,className:i.a.string,lastUpdated:i.a.string};var C=S,j=function(e){var t=e.storyId,n=e.sources,r=e.parts,o=e.isPaywalled,i=e.readingPosition,s=e.className,l=Object(u.o)().trans;return a.a.createElement("div",{className:O()("story-parts",s)},a.a.createElement("ul",null,r&&r.map((function(e){var r=i&&i.part===e.id;return a.a.createElement("li",{key:e.id,className:O()({"is-bonus-part":e.isBonusPart})},a.a.createElement("a",{href:e.url&&Object(d.d)(e.url),className:O()("story-parts__part",{"story-parts__part-currently-reading":r}),onClick:function(r){return function(e,r,a){e.preventDefault(),window.te.push("event","client","story",null,null,"click",{storyid:t,page:"story_details",type:"primary",source:"story_details",partid:r,algo_source:n||""}),app.router.navigate(a,{trigger:!0})}(r,e.id,Object(d.d)(e.url))}},a.a.createElement("div",{className:"part__label"},e.isBonusPart&&a.a.createElement("div",{className:"part__bonus-type"},e.bonusTypeName),e.title,e.draft&&a.a.createElement("span",{className:"draft-tag"},"[",l("Draft"),"]"),e.deleted&&a.a.createElement("span",{className:"deleted-tag"},"[",l("Deleted"),"]"),r&&a.a.createElement("div",{className:"part__reading-progress"},l("%s%% Complete",(100*i.position).toFixed(0)))),!r&&o&&a.a.createElement(y.e,{className:O()("part__icon",{"part__icon--hidden":!e.isBlocked}),name:"lock",size:"24",color:e.isBonusPart?"ds-base-2-60":"ds-neutral-100",title:e.isBlocked?l("Locked"):null})))}))))};j.propTypes={parts:i.a.arrayOf(i.a.shape({id:i.a.number,title:i.a.string})).isRequired,storyId:i.a.number,sources:i.a.array,isPaywalled:i.a.bool.isRequired,readingPosition:i.a.shape({part:i.a.number,position:i.a.oneOfType([i.a.string,i.a.number])}),className:i.a.string};var k=j,N=n(13),_=function(e){var t=e.numParts,n=e.lastUpdated,r=e.handleClick,o=e.storyPartsVisible,i=e.className,s=Object(u.o)(),l=s.trans,c=s.ngettext;return a.a.createElement("button",{className:O()("card",i),onClick:r},a.a.createElement(y.e,{className:"card__action-icon",name:"partsBeta",size:"32",fill:!0,viewBox:"16",strokeWidth:"1"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{className:"card__title"},Object(N.sprintf)(c("%s part","%s parts",t),t)),a.a.createElement("span",{className:"card__description",dangerouslySetInnerHTML:{__html:l("Last updated <strong>%s</strong>",n)}})),a.a.createElement(y.e,{className:O()("card__nav-icon",{"card__nav-icon--rotated":o}),name:"chevRight",size:"24"}))};_.propTypes={className:i.a.string,numParts:i.a.number,lastUpdated:i.a.string,handleClick:i.a.func,storyPartsVisible:i.a.bool};var P=_,T=function(e){var t=e.description,n=e.license;return a.a.createElement("div",{className:"xxs-container-padding description"},a.a.createElement("pre",{className:"description-text"},t),n&&a.a.createElement("div",{className:"story-copyright"},a.a.createElement("span",{className:"fa fa-copyright fa-wp-neutral-8","aria-hidden":"true"}),"".concat(n.name)))};T.propTypes={description:i.a.string,license:i.a.object};var R=T,x=n(191),A=n(350),I=n(351),L=n(88);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.user,n=(t=void 0===t?{}:t).username,r=t.avatar,o=t.age,i=t.country,s=e.currentUserRoles,l=Object(u.o)().trans;return a.a.createElement("div",{className:"author-content"},a.a.createElement("img",{src:r,alt:""}),a.a.createElement("div",{className:"author-content__details"},a.a.createElement("div",{className:"author-details__username"},n),s.isSysAdmin&&a.a.createElement("div",{className:"author-details__info"},o&&a.a.createElement("div",{className:"author-info__age"},l("%s yrs old",o)),i&&a.a.createElement("div",{className:"author-info__country"},i))))};U.defaultProps={currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},U.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired,age:i.a.number,country:i.a.string}),currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var q=function(e){var t=e.currentUserRoles,n=e.user,o=e.storyId,i=e.storyTranslateUrl,s=e.storyLanguage,l=e.languages,c=e.onLanguageChange,m=e.categories,f=e.storyCategories,p=e.onCategoryChange,b=e.onFileSelected,g=e.onCoverRemove,h=Object(u.o)().trans,v=M(Object(r.useState)(""),2),w=v[0],E=v[1],O=M(Object(r.useState)(null),2),S=O[0],C=O[1],j=M(Object(r.useState)(null),2),k=j[0],N=j[1],_=M(Object(r.useState)(null),2),P=_[0],T=_[1],R=M(Object(r.useState)(s),2),x=R[0],A=R[1],I=M(Object(r.useState)(f&&f[0]),2),L=I[0],D=I[1],q=function(e,t){t?(E(t),e(!1)):e(!0),window.setTimeout((function(){e(null),E("")}),3e3)};return a.a.createElement("div",{className:"admin-panel__content"},a.a.createElement(U,{user:n,currentUserRoles:t}),a.a.createElement("ul",{className:"admin-panel-content-grid"},a.a.createElement("li",{className:"story-admin-dropdown-row error-row"},w&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},w)),a.a.createElement("li",{className:"admin-panel-content-row review-row"},a.a.createElement("strong",{className:"row-name"},h("Review:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/contentreview?groupid=".concat(o)},h("Story")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row options-row"},a.a.createElement("strong",{className:"row-name"},h("Options:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/myworks/".concat(o)},h("Edit Story Details"))),a.a.createElement("li",null,a.a.createElement("a",{href:i},h("Translate")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row paid-story-row"},a.a.createElement("strong",{className:"row-name"},h("Paid Story"),":"),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/admin/paid_stories_manager?storyId=".concat(o)},h("Manage")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row download-row"},a.a.createElement("strong",{className:"row-name"},h("Download:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/apiv2/storytext?group_id=".concat(o,"&no_format=false&include_deleted=true&include_drafts=true&include_private=true&output=zip")},h("Story Group")))))),a.a.createElement("li",{className:"admin-panel-content-row language-row"},a.a.createElement("strong",{className:"row-name"},h("Language:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("select",{defaultValue:x,onChange:function(e){var t=e.target.value;c(N,t,A,q)},id:"story-language-select",className:"form-control"},l&&l.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement("span",{className:"response-status pull-right"},k&&a.a.createElement(y.e,{name:"check",size:"18",color:"ds-success"}),!1===k&&a.a.createElement(y.e,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),a.a.createElement("li",{className:"admin-panel-content-row category-row"},a.a.createElement("strong",{className:"row-name"},h("Category:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("select",{defaultValue:L,onChange:function(e){var t=e.target.value;p(T,t,D,q)},id:"story-category-select",className:"form-control"},m&&m.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement("span",{className:"response-status pull-right"}),a.a.createElement("span",{className:"response-status pull-right"},P&&a.a.createElement(y.e,{name:"check",size:"18",color:"ds-success"}),!1===P&&a.a.createElement(y.e,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row cover-row"},a.a.createElement("strong",{className:"row-name"},h("Cover:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("div",{className:"cover-upload-btn file-upload file-drop"},a.a.createElement("button",{className:"file-select"},h("Upload")),a.a.createElement("input",{onChange:function(){b(C,q)},accept:"image/jpeg, image/png, image/gif",type:"file",name:"file"}))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){g(C,q)}},h("Remove"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/banner?id=".concat(o)},h("Banner"))))),a.a.createElement("span",{className:"response-status pull-right"},S&&a.a.createElement(y.e,{name:"check",size:"18",color:"ds-success"}),!1===S&&a.a.createElement(y.e,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row rating-row"},a.a.createElement("strong",{className:"row-name"},h("Rating:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/admin/community_reports?model_type=2&model_id=".concat(o)},h("Reports"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/admin/story_rating_history.php?story_id=".concat(o)},h("History")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row total-reads-row"},a.a.createElement("strong",{className:"row-name"},h("Total Reads By Author:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},n.totalReads&&a.a.createElement("li",null,"".concat(n.totalReads," (").concat(Object(d.b)(n.totalReads),")"))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row"},a.a.createElement("strong",{className:"row-name"},h("Admin Notes:")),a.a.createElement("pre",{className:"notes"},n.notes),a.a.createElement("a",{href:"https://admin.wattpad.com/admin/manage_user.php?&username=".concat(n.username)},h("Add/Delete notes")))))};q.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},q.propTypes={user:i.a.object,storyId:i.a.number,storyTranslateUrl:i.a.string,languages:i.a.array,storyLanguage:i.a.number,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var B=function(e){var t=e.currentUserRoles,n=e.user,o=e.storyId,i=e.storyTranslateUrl,s=e.storyLanguage,l=e.languages,c=e.onLanguageChange,m=e.categories,d=e.storyCategories,f=e.onCategoryChange,p=e.onFileSelected,b=e.onCoverRemove,g=Object(u.o)().trans,h=M(Object(r.useState)(!1),2),v=h[0],w=h[1];return a.a.createElement("div",{className:"admin-panel"},a.a.createElement("button",{onClick:function(){w(!v)},className:"admin-panel__header-btn"},a.a.createElement(y.e,{name:"lock",size:"24",color:"ds-neutral-100"}),a.a.createElement("div",{className:"admin-header__title"},g("Story lock")),a.a.createElement(y.e,{className:O()("admin-header__chevron",{"admin-header__chevron--rotated":v}),name:"chevRight",size:"24",color:"ds-neutral-100"})),(v||"undefined"==typeof window)&&a.a.createElement(q,{currentUserRoles:t,user:n,storyId:o,storyTranslateUrl:i,languages:l,storyLanguage:s,onLanguageChange:c,categories:m,storyCategories:d,onCategoryChange:f,onFileSelected:p,onCoverRemove:b}))};B.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},B.propTypes={user:i.a.object,storyId:i.a.number,storyTranslateUrl:i.a.string,storyLanguage:i.a.number,languages:i.a.array,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var F=B,W=n(167),V=n(9),H=function(){var e=Object(u.o)().trans;return a.a.createElement("div",{className:"story-500-wrapper"},a.a.createElement(y.c,{name:"errors/story-500.png",className:"error-500-image"}),a.a.createElement("div",{className:"error-500-info"},a.a.createElement("h3",null,e("Hmmm... something's wrong.")),a.a.createElement("p",null,e("We cant seem to load this story right now. Try going back or reloading.")),a.a.createElement("div",{className:"buttons-500"},a.a.createElement("button",{className:"btn btn-primary",onClick:function(){window.location.reload(!0)}},e("Reload")))))},z=n(144),Y=n(6),G=n(22),K=n(62);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=n(92),ne=function(e){var t=e.currentUserRoles,n=e.username,o=e.userLang,i=e.isLoggedIn,l=e.languages,c=e.onLanguageChange,m=e.onCategoryChange,f=e.categories,y=e.onFileSelected,b=e.onCoverRemove,g=e.isDesktop,v=e.storyData,E=(v=void 0===v?{}:v).id,O=v.title,S=v.description,j=v.createDate,N=v.cover,_=v.user,T=void 0===_?{}:_,M=v.isPaywalled,D=v.isPaidPreview,U=v.length,q=v.numParts,B=v.storyTags,J=v.readCount,Q=v.completed,ee=v.draft,ne=v.deleted,re=v.rating,ae=v.voteCount,oe=v.firstPartId,ie=v.serverError,se=v.language,le=v.storyLanguage,ce=v.lastPublishedPart,ue=v.parts,me=v.storyReportUrl,de=v.storyTranslateUrl,fe=v.tagRankings,pe=v.recommendedStories,ye=void 0===pe?[]:pe,be=v.sources,ge=v.writerPreviewHasBannedCover,he=v.copyright,ve=v.canDisplayAdvertisement,we=v.shouldDelayAds,Ee=v.shouldShowAds,Oe=v.adsSkipReason,Se=v.firstStoryPart,Ce=v.storyCategories,je=v.url,ke=e.signupModel,Ne=Object(r.useMemo)((function(){return X(X({},B),{},{tags:B&&B.tags.map((function(e){return X(X({},e),{},{bgColor:"".concat(te["ds-neutral-40"]),color:"".concat(te["ds-neutral-80"])})}))})}),[B]),_e=Object(Y.c)(),Pe=Object(Y.d)((function(e){return e.homeSections.readingLists})),Te=Object(Y.d)((function(e){return e.homeSections.storiesCollections})),Re=Z(Object(r.useState)(!1),2),xe=Re[0],Ae=Re[1],Ie=Z(Object(r.useState)({}),2),Le=Ie[0],Me=Ie[1],De=Z(Object(r.useState)(!0),2),Ue=De[0],qe=De[1],Be=Object(z.a)(),Fe=he?he+"":"1",We=Be&&Be.find((function(e){return e.value.toString()===Fe}));Object(r.useEffect)((function(){Ue&&(je+window.location.search+window.location.hash!==window.location.href&&"undefined"!=typeof wattpad&&O&&history.replaceState({},O,wattpad.utils.formatStoryUrl(je)+window.location.search+window.location.hash),window.te.push("event","app","page",null,"view",{page:"story_details"}),window.te.push("event","story",null,null,"view",{storyid:E,page:"story_details",type:"primary",source:"story_details",algo_source:be||""}),qe(!1),n&&(_e(Object(G.g)()),_e(Object(G.e)(E))))}),[E,be,Ue,n,_e,je,O]),Object(r.useEffect)((function(){n&&$.get("/apiv2/syncreadingposition",{story_id:oe}).then((function(e){Me(e||{})}))}),[n,oe]);var Ve=Object(u.o)().trans,He=[{icon:"views",label:Ve("Reads"),size:"16",viewBox:"16",value:J},{icon:"votesBeta",label:Ve("Votes"),size:"16",viewBox:"16",value:ae},{icon:"partsBeta",label:Ve("Parts"),size:"16",viewBox:"16",value:q}],ze=ce?Object(d.e)(ce.createDate,{fuzzyTime:!0}):null;if(1===se){var $e=Object(d.c)(Object(d.k)(U));He.push({icon:"readTime",label:Ve("Time"),size:"16",viewBox:"16",hoursVal:$e.hours,minutesVal:$e.minutes})}var Ye=Ve("Get notified when %s is updated","<strong>"+Object(d.u)(O)+"</strong>");return a.a.createElement("div",{className:"story-details-page"},ie?a.a.createElement(H,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(A.a,{title:O,cover:N,user:T,draft:ee,isLoggedInUser:!!n,isPaid:M,isPaidPreview:D,numParts:q,readCount:J,storyLength:U,voteCount:ae,firstPartId:oe,storyId:E,sources:be,statsItems:He,readingLists:Pe,storiesCollections:Te,writerPreviewHasBannedCover:ge}),a.a.createElement("div",{className:"story-info-container"},a.a.createElement("div",{className:"left-container"},ne&&a.a.createElement("p",{className:"story-status story-status--important xxs-container-padding"},Ve("Deleted")),ee&&!ne&&a.a.createElement("p",{className:"story-status xxs-container-padding"},Ve("Draft")),a.a.createElement(L.a,{statsItems:He,className:"shown-xxs",showTooltip:!0}),(t.isSysAdmin||t.isAmbassador)&&a.a.createElement(F,{currentUserRoles:t,user:T,storyId:E,storyTranslateUrl:de,languages:l,categories:f,storyCategories:Ce,onLanguageChange:c,onCategoryChange:m,storyLanguage:se,onFileSelected:y,onCoverRemove:b}),a.a.createElement(p,{isCompleted:Q,isMature:4===re,user:T,publishDate:j}),!g&&ve&&a.a.createElement(s.a,{placement:"storylanding_bottom_mweb",shouldDelayAds:we,shouldShowAds:Ee,adsSkipReason:Oe}),a.a.createElement(R,{description:S,license:We}),B&&a.a.createElement(V.TagCloud,{tagGridTags:Ne,onTagClicked:function(e){app.router.navigate("/stories/".concat(e),{trigger:!0})},className:"hidden-xxs"}),B&&a.a.createElement(W.a,{relatedTags:Ne,onTagClicked:function(e){app.router.navigate("/stories/".concat(e),{trigger:!0})},className:"shown-xxs"}),a.a.createElement(C,{className:"hidden-xxs",lastUpdated:ze},a.a.createElement(k,{storyId:E,sources:be,parts:ue,isPaywalled:M,readingPosition:Le}))),a.a.createElement("div",{className:"xxs-container-padding right-container"},!i&&a.a.createElement("div",{className:"signup-modal card hidden-xxs"},a.a.createElement(K.a,{formType:"sidebar",subtitle:Ye,nextUrl:Se&&Se.url||null,model:ke,focus:!1})),g&&ve&&a.a.createElement(s.a,{placement:"storylanding_top",shouldDelayAds:we,shouldShowAds:Ee,adsSkipReason:Oe}),a.a.createElement(w,{storyRankings:fe,storyId:E}),a.a.createElement(P,{numParts:q,lastUpdated:ze,className:"shown-xxs",storyPartsVisible:xe,handleClick:function(){Ae(!xe)}}),(xe||"undefined"==typeof window)&&a.a.createElement(k,{parts:ue,isPaywalled:M,className:"shown-xxs",readingPosition:Le}),a.a.createElement(h,{storyId:E,storyTitle:O,authorUsername:T.username,storyReportUrl:me,storyLanguage:le}),Array.isArray(ye)&&ye.length>0&&a.a.createElement(I.a,{stories:ye,userLang:o,page:"story_details"})))),a.a.createElement("div",{className:"action-bar--sticky shown-xxs"},a.a.createElement(x.a,{isPaid:M,isPaidPreview:D,firstPartId:oe,storyId:E,isLoggedInUser:!!n,readingLists:Pe,storiesCollections:Te,sources:be,isMobile:!0,draft:ee})))};ne.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isAdmin:!1,isAmbassador:!1}},ne.propTypes={storyData:i.a.shape({id:i.a.number,title:i.a.string,description:i.a.string,createDate:i.a.string,user:i.a.shape({username:i.a.string,avatar:i.a.string,totalReads:i.a.number,age:i.a.number,country:i.a.string}),cover:i.a.string,completed:i.a.bool,draft:i.a.bool,deleted:i.a.bool,isPaywalled:i.a.bool,isPaidPreview:i.a.bool,length:i.a.number,numParts:i.a.number,storyTags:i.a.object,readCount:i.a.number,rating:i.a.number,voteCount:i.a.number,firstPartId:i.a.number,serverError:i.a.bool,storyReportUrl:i.a.string,storyTranslateUrl:i.a.string,tagRankings:i.a.array,sources:i.a.array,copyright:i.a.number,canDisplayAdvertisement:i.a.bool,shouldDelayAds:i.a.bool,shouldShowAds:i.a.bool,adsSkipReason:i.a.string,firstStoryPart:i.a.shape({url:i.a.string}),recommendedStories:i.a.array,url:i.a.string}),currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool}),username:i.a.string,userLang:i.a.number,isLoggedIn:i.a.bool,signupModel:i.a.object,languages:i.a.array,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,isDesktop:i.a.bool};t.a=ne},function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(44),u=n.n(c),m=n(6),d=n(5),f=n(30),p=n.n(f),y=n(9);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,e);var t,n,r,a=v(o);function o(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),n=E(t),i=function(){var e=!t.state.checked;t.setState({checked:e}),t.props.onCheckboxChange(t.props.name,e)},(r="onCheckboxChange")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,"checkbox"===t.props.type&&(t.state={checked:t.props.value}),t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,r=e.name,a=e.type,o=e.icon,i=e.children;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-6 account-label"},l.a.createElement("label",{htmlFor:r,className:"profile-label"},t),o),l.a.createElement("div",{className:"col-xs-6 account-value"},"text"===a&&l.a.createElement("input",{type:"text",name:r,id:r,defaultValue:Object(d.u)(n)}),"checkbox"===a&&l.a.createElement("input",{type:"checkbox",name:r,id:r,value:this.state.checked,defaultChecked:this.state.checked,onChange:this.onCheckboxChange}),i))}}])&&g(t.prototype,n),r&&g(t,r),o}(l.a.Component);S.propTypes={label:i.a.string,value:i.a.any,name:i.a.string,type:i.a.string,icon:i.a.node,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var C=S,j=n(2),k=n(3);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T={1:"https://support.wattpad.com/hc/en-us/articles/201708720-Becoming-a-Beta-tester",2:"https://support.wattpad.com/hc/fr/articles/201708720-Devenir-un-b%C3%AAta-testeur",3:"https://support.wattpad.com/hc/it/articles/201708720-Come-diventare-un-Beta-tester-per-Wattpad",4:"https://support.wattpad.com/hc/de/articles/201708720-Ein-Beta-Tester-werden",5:"https://support.wattpad.com/hc/es/articles/201708720-Convi%C3%A9rtete-en-un-usuario-Beta",6:"https://support.wattpad.com/hc/pt/articles/201708720-Como-se-tornar-um-testador-Beta",18:"https://support.wattpad.com/hc/fil/articles/201708720-Pagiging-Beta-tester",20:"https://support.wattpad.com/hc/id/articles/201708720-Menjadi-Beta-tester",23:"https://support.wattpad.com/hc/tr/articles/201708720-Beta-Kullan%C4%B1c%C4%B1s%C4%B1-Olma"},R=function(e){var t=Object(j.o)().trans,n=N(Object(s.useState)(e.email),2),r=n[0],a=n[1],o=N(Object(s.useState)(e.beta_enabled),2),i=o[0],c=o[1],u=e.username,m=e.has_password,f=e.app,b=e.verified_email,g=e.birthdate,h=T[f.language]?T[f.language]:T[1],v=function(e){a(e)},w=function(t,n){t.preventDefault(),"email"==n?e.openEditModal(n,v,r):e.openEditModal(n)};return l.a.createElement("div",{id:"account"},l.a.createElement("h2",{className:"subheading"},t("Change your account information and privacy settings")),l.a.createElement("form",{id:"account_form",name:"account_form",onSubmit:function(t){t.preventDefault();var n=[{name:"beta_enabled",value:i}];e.onSubmit(t,n)}},l.a.createElement("div",{className:"row account-wrapper"},l.a.createElement("br",null),l.a.createElement(C,{label:t("Username")},u,l.a.createElement("button",{className:"info",id:"changeUsername",onClick:function(e){return w(e,"username")}},t("change"))),l.a.createElement(C,{label:t("Password")},m&&l.a.createElement("span",null,Object(d.u)("********"),l.a.createElement("button",{className:"info",id:"changePassword",onClick:function(e){return w(e,"password")}},t("change"))),!m&&l.a.createElement("button",{className:"info",id:"addPassword",onClick:function(e){return w(e,"addPassword")}},t("create password"))),l.a.createElement(C,{label:t("Email")},r,l.a.createElement("button",{className:"info",id:"changeEmail",onClick:function(e){return w(e,"email")}},t("change")),!b&&l.a.createElement("div",null,t("Not Verified"),l.a.createElement("a",{className:"info",href:"user_activation?action=send&username=".concat(u)},t("Send Activation Code")))),l.a.createElement(C,{label:t("Date of Birth"),name:"birthdate"},l.a.createElement("div",{className:"birthdate-wrapper"},l.a.createElement("input",{id:"birthdate",type:"date",name:"birthdate",max:p()().format("YYYY-MM-DD"),defaultValue:p()(g).format("YYYY-MM-DD")}),l.a.createElement("span",{id:"dob-tooltip",className:"help"},l.a.createElement(k.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})))),l.a.createElement(C,{label:t("Join Beta Program"),name:"betaEnabled",value:i,type:"checkbox",onCheckboxChange:function(){c((function(e){return!e}))}},l.a.createElement("a",{className:"info",href:h,target:"_blank",rel:"noopener noreferrer"},t("Learn more")),l.a.createElement("span",{id:"beta-tooltip",className:"help"},l.a.createElement(k.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement(C,{label:t("Download your Personal Information")},l.a.createElement("a",{href:"/settings/your-wattpad-data"},t("HTML")),l.a.createElement("a",{href:"/settings/your-wattpad-data?json=1",style:{paddingLeft:"5px"}},t("JSON")),l.a.createElement("span",{id:"info-tooltip",className:"help"},l.a.createElement(k.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement("div",{className:"submit"},l.a.createElement(y.Button,{variant:y.ButtonVariant.PRIMARY},t("Submit"))))),l.a.createElement("div",{className:"close-account"},l.a.createElement("a",{className:"on-navigate",href:"/user_close"},t("Close Account"))))};R.propTypes={username:i.a.string.isRequired,has_password:i.a.bool,name:i.a.string,email:i.a.string.isRequired,language:i.a.number.isRequired,verified_email:i.a.bool,birthdate:i.a.string,beta_enabled:i.a.bool.isRequired,app:i.a.object.isRequired,openEditModal:i.a.func,onSubmit:i.a.func,onUpdateEmail:i.a.func},Object(d.o)()&&_.extend(R.propTypes,{openEditModal:i.a.func.isRequired,onSubmit:i.a.func.isRequired});var x=R,A=n(8),I=n(84),L=n(20);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){var t=e.mutedUsers,n=e.toggleModal,r=e.unmuteUser,a=Object(s.useRef)(null),o=function(e){var t=function(){return l.a.createElement(I.a,{username:e,toggleModal:n,onUnmute:r})};t.displayName="UnmuteModal",n({className:"unmute-modal",hideClose:!0,component:t})};return Object(s.useEffect)((function(){a.current&&a.current.focus()}),[t]),t.map((function(e,t){var n,r=e.username,i=e.avatar;return 0==t&&(n=a),l.a.createElement("li",{key:r,className:"muted-user"},l.a.createElement("img",{src:i,alt:r,align:"top",width:"64",height:"64"}),l.a.createElement("div",{className:"username-wrapper"},l.a.createElement("a",{href:"/user/".concat(r),className:"user-profile on-navigate",title:r,ref:n},r)),l.a.createElement("div",{className:"button-group inline-block relative "},l.a.createElement("button",{className:"btn btn-white dropdown-toggle more-options unmute-button","data-toggle":"dropdown","aria-controls":"more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(k.e,{name:"more",size:"24"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("div",{className:"dropdown-menu align-right"},l.a.createElement(k.p,{username:r,showModerationOptions:!0,isLoading:!1,isMutedByCurrentUser:!0,onUnmuteUser:o,onReportUser:function(){}}))))}))},z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=q(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),V(F(t=o.call(this,e)),"moveBackward",(function(e){if("Tab"!==e.key&&!e.shiftKey){var n=t.state.currentPage;n>1&&t.setState({currentPage:n-1})}})),V(F(t),"moveForward",(function(e){if("Tab"!==e.key&&!e.shiftKey){var n=t.state.currentPage;n<t.totalPages&&t.setState({currentPage:n+1})}})),t.state={currentPage:1},t.pageLimit=8,t}return t=i,(n=[{key:"render",value:function(){var e,t,n=this.props,r=n.mutedUsers,o=n.trans,i=n.toggleModal,s=n.unmuteUser,c=this.state.currentPage;this.totalPages=(e=this.props.mutedUsers.length,t=this.pageLimit,Math.ceil(e/t));var u=a()("",{"wp-base-1":1!==c,"wp-neutral-2":1===c}),m=a()("",{"wp-base-1":r.length>this.pageLimit&&c!==this.totalPages,"wp-neutral-2":c>=this.totalPages}),d=(c-1)*this.pageLimit,f=r.slice(d,d+this.pageLimit);return l.a.createElement("div",{id:"mute-list"},l.a.createElement("h5",{className:"subheading"},o("These are the users you have muted")),l.a.createElement("div",{id:"muted-users"},l.a.createElement("ul",{className:"user-list"},l.a.createElement(H,{mutedUsers:f,toggleModal:i,unmuteUser:s})),l.a.createElement("div",{className:"controls"},l.a.createElement("div",{onClick:this.moveBackward,onKeyDown:this.moveBackward,role:"button",tabIndex:"0"},l.a.createElement(k.e,{iconName:"fa-left",height:"18",color:u})),l.a.createElement("span",{className:"current-page"},this.state.currentPage),l.a.createElement("div",{onClick:this.moveForward,onKeyDown:this.moveForward,role:"button",tabIndex:"0"},l.a.createElement(k.e,{iconName:"fa-right",height:"18",color:m})))))}}])&&D(t.prototype,n),r&&D(t,r),i}(l.a.Component);z.propTypes={trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired,toggleModal:i.a.func,unmuteUser:i.a.func.isRequired};var $=Object(m.b)((function(e){return{mutedUsers:e.profileData.mutedUsers}}),{unmuteUser:L.k,toggleModal:A.b})(z),Y=Object(d.n)($),G=n(83),K=n(118);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){var t=e.blockedUsers,n=e.toggleModal,r=e.unblockUser,a=Object(s.useRef)(null),o=function(e){var t=function(){return l.a.createElement(K.a,{username:e,toggleModal:n,onUnblock:r})};t.displayName="UnblockModal",n({className:"unblock-modal",hideClose:!0,component:t})};return Object(s.useEffect)((function(){a.current&&a.current.focus()}),[t]),t.map((function(e,t){var n,r=e.username,i=e.avatar;return 0==t&&(n=a),l.a.createElement("li",{key:r,className:"blocked-user"},l.a.createElement("img",{src:i,alt:r,align:"top",width:"64",height:"64"}),l.a.createElement("div",{className:"username-wrapper"},l.a.createElement("a",{href:"/user/".concat(r),className:"user-profile on-navigate",title:r,ref:n},r)),l.a.createElement("div",{className:"button-group inline-block relative "},l.a.createElement("button",{className:"btn btn-white dropdown-toggle more-options unblock-button","data-toggle":"dropdown","aria-controls":"more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(k.e,{name:"more",size:"24"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("div",{className:"dropdown-menu align-right"},l.a.createElement(k.p,{username:r,showModerationOptions:!0,showBlockOption:!0,isLoading:!1,isBlockedByCurrentUser:!0,onUnblockUser:o,onReportUser:function(){}}))))}))};function X(e){var t=e.toggleModal,n=e.unblockUser,r=e.blockedUsers,o=Object(G.a)().trans,i=Z(Object(s.useState)(1),2),c=i[0],u=i[1],m=function(e){if(e.preventDefault(),"Tab"!==e.key&&!e.shiftKey){c>1&&u(c-1)}},d=function(e){(e.preventDefault(),"Tab"===e.key||e.shiftKey)||u(c+1)},f=function(e,t){return Math.ceil(e/t)}(r.length,8),p=a()("",{"wp-base-1":1!==c,"wp-neutral-2":1===c}),y=a()("",{"wp-base-1":r.length>8*c&&c!==f,"wp-neutral-2":c>=f}),b=8*(c-1),g=r.slice(b,b+8);return l.a.createElement("div",{id:"block-list"},l.a.createElement("h5",{className:"block-subheading"},o("When you block someone, that person wont be able to follow you, send you messages, post on your profile or read and comment on your stories."),l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"learn-more",href:"https://wattpad.zendesk.com/knowledge/articles/4408465238164/en-us?brand_id=119734"},o("Learn more"))),l.a.createElement("div",{id:"blocked-users"},l.a.createElement("ul",{className:"user-list"},l.a.createElement(Q,{blockedUsers:g,toggleModal:t,unblockUser:n})),l.a.createElement("div",{className:"controls"},l.a.createElement("button",{className:"back-btn",onClick:m,onKeyPress:m,disabled:1===c},l.a.createElement(k.e,{iconName:"fa-left",height:"18",color:p})),l.a.createElement("span",{className:"current-page"},c),l.a.createElement("button",{className:"forward-btn",onClick:d,onKeyPress:d,disabled:c>=f||g.length<8},l.a.createElement(k.e,{iconName:"fa-right",height:"18",color:y})))))}X.propTypes={blockedUsers:i.a.array,toggleModal:i.a.func,unblockUser:i.a.func.isRequired,currentUser:i.a.string};var ee=Object(m.b)((function(e){return{blockedUsers:e.profileData.blockedUsers}}),{unblockUser:L.j,toggleModal:A.b})(X);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var a=se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(o,e);var t,n,r,a=ae(o);function o(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),n=ie(t),i=function(){var e=!t.state.checked;t.setState({checked:e}),t.props.onCheckboxChange(t.props.name,e)},(r="onCheckboxChange")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t.state={checked:t.props.value},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,r=e.children,a=this.state.checked;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-2"},l.a.createElement("input",{type:"checkbox",name:t,value:n,defaultChecked:a,onChange:this.onCheckboxChange})),l.a.createElement("div",{className:"col-xs-10"},r))}}])&&ne(t.prototype,n),r&&ne(t,r),o}(l.a.Component);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var a=ye(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}le.propTypes={name:i.a.string,value:i.a.any,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(o,e);var t,n,r,a=de(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),be(pe(t=a.call(this,e)),"handleSubmit",(function(e){t.props.updateNotifications(e)})),be(pe(t),"onCheckboxChange",(function(e,n){var r={};r[e]=n,t.setState(r)}));var n=e.alerts,r=e.alertssub,i=e.subscribe;return t.state={alerts:1===parseInt(n,10),alertssub:r,subscribe:1===parseInt(i,10)},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.trans,n=e.userId,r=this.state,a=r.alerts,o=r.alertssub,i=r.subscribe;return l.a.createElement("div",{id:"notification"},l.a.createElement("h2",{className:"subheading"},t("Receive email notifications for these events")),l.a.createElement("form",{id:"notifications_form",name:"notifications_form",className:"row",onSubmit:this.handleSubmit},l.a.createElement("input",{type:"hidden",name:"id",value:n}),l.a.createElement(le,{name:"alerts",value:a,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Messages")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Someone writes on your message board")),l.a.createElement("li",null,t("Someone starts following you")),l.a.createElement("li",null,t("Someone comments on your story")),l.a.createElement("li",null,t("Someone mentions you in a comment")),l.a.createElement("li",null,t("You receive a message")))),l.a.createElement(le,{name:"alertssub",value:o,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Users you follow upload a story"))),l.a.createElement(le,{name:"subscribe",value:i,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Updates")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Important announcements from Wattpad")))),l.a.createElement("div",{className:"col-xs-12 submit"},l.a.createElement("input",{type:"submit",className:"btn btn-md btn-orange",value:t("Save")})),l.a.createElement("input",{type:"hidden",name:"alertssubmask",value:"0"})))}}])&&ue(t.prototype,n),r&&ue(t,r),o}(l.a.Component);ge.propTypes={trans:i.a.func.isRequired,userId:i.a.number.isRequired,alerts:i.a.any.isRequired,alertssub:i.a.bool.isRequired,subscribe:i.a.any.isRequired,updateNotifications:i.a.func},Object(d.o)()&&_.extend(ge.propTypes,{updateNotifications:i.a.func.isRequired});var he=Object(d.n)(ge),ve=n(161),we=n(46);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var a=_e(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,r,o=je(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pe(Ne(t=o.call(this,e)),"onSubmitChanges",(function(e,n){t.props.onSaveAccountChanges(e,n)})),Pe(Ne(t),"onSaveAvatarChanges",(function(e){t.props.saveAvatarChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))})),Pe(Ne(t),"onSaveBackgroundChanges",(function(e){t.props.saveBackgroundChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))})),t.state={selectedTab:"account"},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.renderTooltips(),this.props.initializeMutedUsers(this.props.userObj.id),this.props.isBlockMVP&&this.props.setBlockedUsers(this.props.userObj.username)}},{key:"onTabSelect",value:function(e,t){"Tab"===t.key||t.shiftKey||this.setState({selectedTab:e})}},{key:"render",value:function(){var e=this.props,t=e.userObj,n=e.app,r=e.trans,o=this.state.selectedTab,i=r("Account"),s=r("Notifications"),c=r("Muted Accounts"),u=r("Blocked Accounts"),m=a()({hide:"account"!==o}),d=a()({hide:"notifications"!==o}),f=a()({hide:"mute"!==o}),p=a()({hide:"block"!==o}),y=a()("info-tabs",{selected:"account"===o}),b=a()("info-tabs",{selected:"notifications"===o}),g=a()("info-tabs",{selected:"mute"===o}),h=a()("info-tabs",{selected:"block"===o});return l.a.createElement("div",{id:"content_block",className:"user-settings"},l.a.createElement(ve.a,null),l.a.createElement(we.a,null),l.a.createElement("div",{className:"container"},l.a.createElement("ol",{role:"tablist"},l.a.createElement("li",{id:"select_account",className:y,onClick:this.onTabSelect.bind(this,"account"),onKeyDown:this.onTabSelect.bind(this,"account"),role:"tab",tabIndex:0},l.a.createElement("span",null,i)),l.a.createElement("li",{id:"select_notifications",className:b,onClick:this.onTabSelect.bind(this,"notifications"),onKeyDown:this.onTabSelect.bind(this,"notifications"),role:"tab",tabIndex:0},l.a.createElement("span",null,s)),l.a.createElement("li",{id:"select_ignore_list",className:g,onClick:this.onTabSelect.bind(this,"mute"),onKeyDown:this.onTabSelect.bind(this,"mute"),role:"tab",tabIndex:0},l.a.createElement("span",null,c)),this.props.isBlockMVP&&l.a.createElement("li",{id:"select_block_list",className:h,onClick:this.onTabSelect.bind(this,"block"),onKeyDown:this.onTabSelect.bind(this,"block"),role:"tab",tabIndex:0},l.a.createElement("span",null,u))),l.a.createElement("div",{className:m},l.a.createElement(x,Oe({},t,{app:n,onSubmit:this.onSubmitChanges,openEditModal:this.props.openUserSettingsModal}))),l.a.createElement("div",{className:d},l.a.createElement(he,Oe({},t.notificationSettings,{userId:t.id,updateNotifications:this.props.updateNotifications}))),l.a.createElement("div",{className:f},l.a.createElement(Y,null)),this.props.isBlockMVP&&l.a.createElement("div",{className:p},l.a.createElement(ee,{currentUser:t.username}))),l.a.createElement("div",{className:"mute-accounts-options-modal"}))}}])&&Se(t.prototype,n),r&&Se(t,r),i}(l.a.Component);Te.propTypes={userObj:i.a.object.isRequired,app:i.a.object.isRequired,trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired,onSaveAccountChanges:i.a.func,openUserSettingsModal:i.a.func,saveAvatarChanges:i.a.func,saveBackgroundChanges:i.a.func,renderTooltips:i.a.func,updateNotifications:i.a.func,initializeMutedUsers:i.a.func,setBlockedUsers:i.a.func,isBlockMVP:i.a.bool},Object(d.o)()&&_.extend(Te.propTypes,{saveAvatarChanges:i.a.func.isRequired,saveBackgroundChanges:i.a.func.isRequired,onSaveAccountChanges:i.a.func.isRequired,openUserSettingsModal:i.a.func.isRequired,renderTooltips:i.a.func.isRequired,updateNotifications:i.a.func.isRequired});var Re=Object(m.b)(null,{initializeMutedUsers:L.e,setBlockedUsers:L.g})(Te);t.a=Object(d.n)(Re)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(9),l=n(2),c=n(1),u=n.n(c);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d="input",f="textArea",p=function(e){var t=e.id,n=e.label,r=e.initialValue,o=e.validations,s=e.hasError,l=e.placeholder,c=e.inputType,u=void 0===c?d:c;return a.a.createElement("div",{className:"report-input-field"},a.a.createElement("label",{htmlFor:t},n,(null==o?void 0:o.required)&&a.a.createElement("span",null,"*"),":"),u===f?a.a.createElement("textarea",m({id:t,rows:5,placeholder:l,defaultValue:r},o,{className:i()({error:s})})):a.a.createElement("input",m({id:t,placeholder:l,defaultValue:r},o,{className:i()({error:s})})))};p.propTypes={id:u.a.string.isRequired,label:u.a.string.isRequired,initialValue:u.a.string,validations:u.a.object,hasError:u.a.bool,placeholder:u.a.string,inputType:u.a.string};var y=p,b=n(3);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.id,n=e.label,o=g(Object(r.useState)(!1),2),i=o[0],s=o[1];return a.a.createElement("div",{className:"report-checkbox-field"},a.a.createElement(b.j,{id:t,required:!0,checked:i,contentId:"content-".concat(t),onChange:function(){return s((function(e){return!e}))}},n,a.a.createElement("span",null,"*")))};v.propTypes={id:u.a.string.isRequired,label:u.a.string.isRequired};var w=v,E=function(e){var t=e.id,n=e.label,r=e.options;return a.a.createElement("div",{className:"report-dropdown-field"},a.a.createElement("label",{htmlFor:t},n,a.a.createElement("span",null,"*"),":"),a.a.createElement("select",{id:t,name:t,defaultValue:"",required:!0},r.map((function(e){return a.a.createElement("option",{key:e.key||"empty",value:e.key,disabled:e.disabled},e.value)}))))};E.propTypes={id:u.a.string.isRequired,label:u.a.string.isRequired,options:u.a.array.isRequired};var O=E;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={required:!0},N=C(C({},k),{},{pattern:"[a-z\\d!#$%&'*+/=?^_{|}~-]+(?:\\.[a-z\\d!#$%&'*+/=?^_{|}~-]+)*@(?:[a-z\\d](?:[a-z\\d-]*[a-z\\d])?\\.)+[a-z\\d](?:[a-z\\d-]*[a-z\\d])?"}),_=C(C({},k),{},{minLength:5}),P={FIRST_NAME:"firstName",LAST_NAME:"lastName",USERNAME:"username",EMAIL:"email",COMPANY:"company",ADDRESS:"address",COUNTRY:"country",CITY:"city",PROVINCE:"province",POSTAL_CODE:"postalCode",PHONE_NUMBER:"phoneNumber",DESC_ALLEGED:"descriptionAlleged",ORIGINAL_WORK:"originalWorkUrl",WHERE_TO_FIND_ORIGINAL:"whereToFindOriginal",REPORTED_URLS:"reportedUrls",IS_ACCURATE:"isAccurate",GOOD_FAITH:"goodFaith",OWNER:"owner",SIGNATURE:"signature"},T=function(e){return[{key:"",value:e("Select an option"),disabled:!0},{key:"Word_for_word_copy_of_my_work",value:e("Word for word copy of my work")},{key:"Translation_of_my_work",value:e("Translation of my work")},{key:"Adaptation_of_my_work",value:e("Adaptation of my work (For example, character name changes, gender swaps, additional characters added, etc.)")},{key:"Image_photos_illustrations_etc",value:e("Image, photos, illustrations, etc.")},{key:"Piracy_spam",value:e("Piracy/spam")},{key:"Other",value:e("Other (Please specify in the description below)")}]},R=function(e,t){return'<a target="_blank" href="'.concat(e,'">').concat(t,"</a>")},x=function(e){var t=R("/terms",e("Terms of Service")),n=R("https://support.wattpad.com/hc/articles/204471770",e("Repeat Infringer Policy"));return e("Copyright laws protect your original works. Wattpads %s prohibits uploading content that violates any intellectual property rights. As a service provider, we also comply with all applicable provisions of the Digital Millennium Copyright Act (DMCA). Our policy is to respond to valid notices of alleged copyright infringement by removing or disabling access to allegedly infringing material and terminating users, when appropriate, according to our %s.",t,n)},A=function(e){var t=R("https://support.wattpad.com/hc/articles/204471770",e("Reporting Copyright Infringement"));return e("If you are a copyright owner, are authorized to act on behalf of one, or are authorized to act under any exclusive right under copyright, you can report alleged infringements taking place on or through Wattpad by completing the following DMCA Notice of Alleged Infringement form. If you are not the copyright holder, or you are reporting infringements located outside of the Wattpad platform, please check out our reporting article: %s.",t)},I=function(e){var t=R("https://support.wattpad.com/hc/articles/360033371032",e("check your request status"));return e("Weve received your request and will do our best to get back to you soon. Please note that we offer support during regular business days.  Submitting multiple requests about the same issue will delay our response to you as it can move your request to the bottom of the queue. If you have a Wattpad account, you can %s in our Help Center.",t)},L=function(e){var t=R("https://support.wattpad.com/hc/categories/8301500664212-Copyright",e("Help Center articles"));return e("For information about Copyright on Wattpad, check out our %s",t)};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q="story",B=48864,F="reported_copyright",W="Story Report",V=25248746,H="dmca",z=function(e){return Object.values(P).reduce(function(e){return function(t,n){return D(D({},t),{},U({},n,e[n].value))}}(e),{})},Y=function(e){return e?"".concat(window.location.origin,"/story/").concat(e):""},G=function(e){return e?"".concat(window.location.origin,"/").concat(e):""},K=function(e,t,n,r){return"-------------------------------------\nForm Information\n-------------------------------------\n"+"First name: ".concat(e.firstName,"\n")+"Last name: ".concat(e.lastName,"\n")+"Wattpad username: ".concat(e.username,"\n")+"Email: ".concat(e.email,"\n")+"Company: ".concat(e.company,"\n")+"Mailing address: ".concat(e.address,"\n")+"Country: ".concat(e.country,"\n")+"City: ".concat(e.city,"\n")+"State/Province: ".concat(e.province,"\n")+"Postal code: ".concat(e.postalCode,"\n")+"Phone number: ".concat(e.phoneNumber,"\n")+"Description of the alleged infringement: ".concat(e.descriptionAlleged,"\n")+"URL of your original work: ".concat(e.originalWorkUrl,"\n")+"Please tell us where we can find the alleged infringement within the story or account: ".concat(e.whereToFindOriginal,"\n")+"URL(s) of the allegedly infringing work located on Wattpad: ".concat(e.reportedUrls,"\n")+"The information in this notice is accurate: ".concat(e.isAccurate,"\n")+"I have a good faith belief that the disputed use of the copyrighted material is not authorized by the copyright owner, its agent, or the law: ".concat(e.goodFaith,"\n")+"I state under penalty of perjury that I am the owner, or authorized to act on behalf of the owner, of the copyright or of an exclusive right under the copyright that is allegedly infringed: ".concat(e.owner,"\n")+"Electronic signature: ".concat(e.signature)+"\n-------------------------------------\nType of Content: Story\nType of Report: DMCA\n"+(n?"Reported Story Part: ".concat(G(n),"\n"):"")+"Reported Story: ".concat(Y(t),"\n")+"Reported User's Profile: ".concat((a=r)?"".concat(window.location.origin,"/user/").concat(a):"","\n")+"Reported Group ID: ".concat(t||"","\n");var a};function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(){var e,t=Object(l.f)(),n=Object(l.o)().trans,o=Object(l.j)(),c=Z(Object(r.useState)(!1),2),u=c[0],m=c[1],d=Z(Object(r.useState)(!1),2),p=d[0],b=d[1],g=Z(Object(r.useState)(!1),2),h=g[0],v=g[1],E=o.get("partId"),S=o.get("storyId"),C=o.get("reportedUser"),j=o.get("language"),R=E?G(E):Y(S),M=function(e){var t=e.currentTarget;m(t.checkValidity())},D=function(e){var t;(v(!0),m(e.isValid),e.isValid)&&(t=function(e,t,n,r,a){return{requester:{name:"".concat(e.firstName," ").concat(e.lastName),email:e.email},id:t,comment:K(e,t,n,r),ticket_form_id:B,username:r,reportType:q,reason:F,subject:W,custom_fields:[{id:22592474,value:a||"English"},{id:21519886,value:"mobile"===wattpad.utils.getDeviceType()?"mobile_web":"web"},{id:21523158,value:F},{id:V,value:H}]}}(e.data,S,E,C,j),$.ajax({type:"POST",url:"/v4/support/tickets/",data:t})).done((function(){b(!0),window.scrollTo({top:0,behavior:"smooth"})})).fail((function(){var e,t;null===(e=wattpad)||void 0===e||null===(t=e.utils)||void 0===t||t.showToast(n("Something went wrong. Please try again"))}))};return a.a.createElement("div",{className:"help-dmca-page",role:"main"},a.a.createElement("h1",{className:"text-center"},n("DMCA Takedown Notice")),p?a.a.createElement("div",{className:"success"},a.a.createElement("h2",null,n("Your report has been submitted. We appreciate your efforts in reporting alleged copyright infringement!")),a.a.createElement("br",null),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:I(n)}}),a.a.createElement("br",null),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:L(n)}}),a.a.createElement("br",null),a.a.createElement("p",null,n("We look forward to helping you!")),a.a.createElement("br",null),a.a.createElement("p",null,n("The Wattpad Copyright Team"))):a.a.createElement("div",{className:"form-container"},a.a.createElement("div",{className:"info"},a.a.createElement("p",{dangerouslySetInnerHTML:{__html:x(n)}}),a.a.createElement("br",null),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:A(n)}}),a.a.createElement("br",null),a.a.createElement("span",{className:"important"},n("IMPORTANT: There may be legal and financial consequences for submitting false claims. Abuse of this form may lead to your account being terminated."))),a.a.createElement("form",{noValidate:!0,onChange:M,onSubmit:(e=D,function(t){t.preventDefault();var n=t.target,r=n.checkValidity(),a=n.querySelector(":invalid");null==a||a.focus();var o={isValid:r,data:z(n)};e(o)}),className:i()("form",{submitted:h})},a.a.createElement("h2",null,n("Contact Information")),a.a.createElement(y,{id:P.FIRST_NAME,label:n("First name"),validations:k}),a.a.createElement(y,{id:P.LAST_NAME,label:n("Last name"),validations:k}),a.a.createElement(y,{id:P.USERNAME,initialValue:t.username,label:n("Wattpad username")}),a.a.createElement(y,{id:P.EMAIL,label:n("Email"),initialValue:t.email,validations:N}),a.a.createElement(y,{id:P.COMPANY,label:n("Company")}),a.a.createElement(y,{id:P.ADDRESS,label:n("Mailing address"),placeholder:n("For example: 123 Main St. is an address"),validations:k}),a.a.createElement(y,{id:P.COUNTRY,label:n("Country"),validations:k}),a.a.createElement(y,{id:P.CITY,label:n("City"),validations:k}),a.a.createElement(y,{id:P.PROVINCE,label:n("State/Province"),validations:k}),a.a.createElement(y,{id:P.POSTAL_CODE,label:n("Postal code"),validations:k}),a.a.createElement(y,{id:P.PHONE_NUMBER,label:n("Phone number"),validations:k}),a.a.createElement("h2",null,n("Description and Location of the Allegedly Infringing Work")),a.a.createElement(O,{id:P.DESC_ALLEGED,label:n("Description of the alleged infringement"),options:T(n)}),a.a.createElement(y,{id:P.ORIGINAL_WORK,label:n("URL of your original work"),placeholder:n("Paste the URL"),validations:k}),a.a.createElement(y,{id:P.WHERE_TO_FIND_ORIGINAL,label:n("Please tell us where we can find the alleged infringement within the story or account"),placeholder:n("For example: Half way down Chapter Three starting from the line ___. Or: Theyre linking to a download of my work in their About section."),inputType:f}),a.a.createElement(y,{id:P.REPORTED_URLS,inputType:f,label:n("URL(s) of the allegedly infringing work located on Wattpad"),initialValue:R,validations:k}),a.a.createElement("h2",null,n("Confirmation + Electronic Signature")),a.a.createElement(w,{id:P.IS_ACCURATE,label:n("The information in this notice is accurate.")}),a.a.createElement(w,{id:P.GOOD_FAITH,label:n("I have a good faith belief that the disputed use of the copyrighted material is not authorized by the copyright owner, its agent, or the law.")}),a.a.createElement(w,{id:P.OWNER,label:n("I state under penalty of perjury that I am the owner, or authorized to act on behalf of the owner, of the copyright or of an exclusive right under the copyright that is allegedly infringed.")}),a.a.createElement("br",null),a.a.createElement(y,{id:P.SIGNATURE,label:n("Typing your full legal name in this box acts as your electronic signature"),validations:_}),h&&!u&&a.a.createElement("div",{className:"error-message"},n("A mandatory field has been left blank."),a.a.createElement("br",null),n("Please ensure all necessary fields are filled in.")),a.a.createElement(s.Button,null,n("Submit")))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(6),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(4),c=n.n(l),u=n(2),m=n(21),d=n(19),f=function(e){var t=e.awardCategory,n=Object(u.o)().trans;return s.a.createElement("div",{className:"text"},s.a.createElement("div",{className:"success-text",dangerouslySetInnerHTML:{__html:n("Your story has been submitted in the <strong>%s</strong> category for the 2022 Watty Awards",Object(d.d)(n,t))}}),s.a.createElement("a",{className:"plain-link bold margin-top",href:m.k[parseInt(app.get("language"),10)],target:"_blank",rel:"noopener noreferrer"},n("When will winners be announced?")))};f.propTypes={awardCategory:o.a.string.isRequired};var p=f,y=function(e){var t=e.onBtnClick,n=Object(u.o)().trans;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text"},n("Congratulations! Your story is eligible for the 2022 Wattys!"),s.a.createElement("a",{className:"plain-link bold",href:"http://wattys.wattpad.com/",target:"_blank",rel:"noopener noreferrer"},n("Find out more about the Wattys"))),s.a.createElement("button",{onClick:t,className:"btn btn-white"},s.a.createElement("div",{className:"btn-text"},n("Enter this story"))))};y.propTypes={onBtnClick:o.a.func.isRequired};var b=y,g=function(){var e=Object(u.o)().trans;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("Your story is <strong>so close</strong> to being eligible for the 2022 Wattys!")}}),s.a.createElement("a",{className:"plain-link bold",href:m.i[parseInt(app.get("language"),10)],target:"_blank",rel:"noopener noreferrer"},e("What is the eligibility criteria?"))),s.a.createElement("a",{href:"https://www.wattpad.com/wattys",target:"_blank",rel:"noopener noreferrer",className:"btn btn-white"},s.a.createElement("div",{className:"btn-text"},e("2022 Wattys"))))},h=n(3),v=n(56),w=n(59),E=n(5);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(o,e);var t,n,r,a=k(o);function o(){var e;S(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(_(e=a.call.apply(a,[this].concat(n))),"onOpenModal",(function(){e.props.openContestForm(e.props.storyId),window.te.push("event","wattys","banner",null,"click",{storyid:parseInt(e.props.storyId),type:"eligible",page:"story_details"})})),T(_(e),"renderLoadingBanner",(function(){return s.a.createElement("div",{className:"text"},s.a.createElement("div",{className:"loading-spinner-banner"},s.a.createElement(v.a,{name:"/icons/spinner.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"})))})),T(_(e),"renderProperBanner",(function(){return e.props.hasSubmitted?s.a.createElement(p,{awardCategory:e.props.awardCategory}):e.props.isNearEligible?s.a.createElement(g,null):s.a.createElement(b,{onBtnClick:e.onOpenModal})})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.storyId&&(this.props.hasSubmitted&&this.props.fetchSubmittedFormBannerInfo(this.props.storyId),window.te.push("event","wattys","banner",null,"view",{storyid:parseInt(this.props.storyId),type:this.props.hasSubmitted?"confirmed_submission":this.props.isNearEligible?"near_eligible":"eligible",page:"story_details"}))}},{key:"render",value:function(){var e=this.props,t=e.hasSubmitted,n=e.isLoading,r=e.hasCheckedSubmission,a=c()({"cover-submitted-success":t,"cover-eligibility":!t});return r?s.a.createElement("div",{id:"contest-banner",className:a},n?this.renderLoadingBanner():this.renderProperBanner(),s.a.createElement(h.q,null)):null}}])&&C(t.prototype,n),r&&C(t,r),o}(i.Component);R.propTypes={openContestForm:o.a.func,storyId:o.a.string.isRequired,fetchSubmittedFormBannerInfo:o.a.func.isRequired,hasSubmitted:o.a.bool.isRequired,isLoading:o.a.bool.isRequired,isNearEligible:o.a.bool.isRequired,hasCheckedSubmission:o.a.bool.isRequired,awardCategory:o.a.string};var x=Object(r.b)((function(e){return{hasSubmitted:e.contestForm.hasSubmitted,isLoading:e.contestForm.isLoading,isNearEligible:e.contestForm.isNearEligible,hasCheckedSubmission:e.contestForm.hasCheckedSubmission,awardCategory:e.contestForm.data.contest_submission.award_category}}),{openContestForm:w.d,fetchSubmittedFormBannerInfo:w.c})(Object(E.n)(R))},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(3),c=n(86),u=n(33),m=n(5),d=n(4),f=n.n(d),p=function(e){return[e("To get the best Wattpad experience, we want to know a bit about you!"),e("So you like to write! What best describes you as a writer?")]},y=function(e){var t=e.user_type,n=e.writer_stage,r=e.finished_story;t&&window.te.push("event","onboarding","user_type",null,"complete",{type:t}),void 0!==n&&(null===n?window.te.push("event","onboarding","writer_stage",null,"skip"):window.te.push("event","onboarding","writer_stage",null,"complete",{type:n})),n&&void 0!==r&&(null===r?window.te.push("event","onboarding","finished_story",null,"skip"):window.te.push("event","onboarding","finished_story",null,"complete",{type:r}))};function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){var e=Object(s.o)().trans,t=b(Object(o.useState)(null),2),n=t[0],r=t[1],a=b(Object(o.useState)(!1),2),c=a[0],m=a[1];return c?i.a.createElement(u.a,{push:!0,to:{pathname:"/motivation",state:{user_type:n}}}):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,p(e)[0]),i.a.createElement("div",{id:"ReaderOrWriter",className:"options"},Object.entries(function(e){return{reader:{message:e("I like to read"),icon:"read"},writer:{message:e("I like to write"),icon:"write"},reader_writer:{message:e("I like both"),icon:"both"}}}(e)).map((function(e){var t=b(e,2),a=t[0],o=t[1],s=o.message,c=o.icon,u=n===a,m="".concat(c).concat(u?"_selected":"");return i.a.createElement("div",{key:a,className:f()("option",{selected:u}),onClick:function(){r(a)},onKeyDown:function(){r(a)},role:"option",tabIndex:"0","aria-selected":u},i.a.createElement(l.c,{name:"shared/".concat(m,".svg"),alt:"icon"}),i.a.createElement("div",null,s))}))),i.a.createElement("button",{className:f()("btn btn-md btn-orange",{disabled:null===n}),onClick:function(){"reader"===n?(y({user_type:n}),app.router.navigate("/start",{trigger:!0})):m(!0)}},e("Next")))};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(){var e=Object(s.o)().trans,t=Object(u.h)(),n=t.hash,r=t.state,a=n?n.substring(1):null,o=function(e,t){y({user_type:r.user_type,writer_stage:e,finished_story:t}),app.router.navigate("/start",{trigger:!0})},l=function(){return i.a.createElement("div",{className:"finished-novel"},i.a.createElement("p",null,e("Have you finished writing a novel?")),i.a.createElement("div",{className:"novel-options"},Object.entries(function(e){return{yes:e("Yes"),almost:e("Almost"),no:e("No")}}(e)).map((function(e){var t=v(e,2),n=t[0],r=t[1];return i.a.createElement("a",{className:"option",onClick:function(e){e.preventDefault(),o(a,n)},href:"/start",key:n},r)}))))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,p(e)[1]),i.a.createElement("div",{id:"WriterMotivation",className:f()("options",{"has-selection":null!==a})},Object.entries(function(e){return{fun:e("I mostly write for fun"),researching:e("I'm exploring opportunities for my work(s)"),pursuing_career:e("I'm pursuing a career as a writer"),professional:e("I am a professional writer"),none:e("Not quite any of these...")}}(e)).map((function(e){var t=v(e,2),n=t[0],s=t[1];return null!==a&&a!==n?null:"none"===n?i.a.createElement("a",{key:n,href:"/start",onClick:function(e){e.preventDefault(),o(n)},className:f()("option",{selected:a===n})},i.a.createElement("div",null,s)):i.a.createElement(c.b,{key:n,to:{pathname:null===a?"/motivation/novel":"/motivation",hash:null===a?"#".concat(n):"",state:r},className:f()("option",{selected:a===n})},i.a.createElement("div",null,s))}))),i.a.createElement(u.b,{path:"/motivation/novel"},i.a.createElement(l,null)),i.a.createElement("a",{href:"/start",className:"skip",onClick:function(e){e.preventDefault(),o(a,null)}},e("Skip")))},O=function(e){var t=e.url,n=e.username,r=Object(s.o)().trans,a=Object(m.o)()?c.a:u.d;return i.a.createElement(a,{basename:"/start/writerjourney",location:t,context:{}},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"onboardingModal modal fade in writerJourney"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-body"},i.a.createElement("div",{className:"onboarding-writer-journey"},i.a.createElement(l.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"}),i.a.createElement("h4",null,r("Hi @%s",n)),i.a.createElement(u.e,null,i.a.createElement(u.b,{exact:!0,path:"/"},i.a.createElement(h,null)),i.a.createElement(u.b,{path:"/motivation"},i.a.createElement(E,null)),i.a.createElement(u.b,{render:function(){return i.a.createElement(u.a,{to:"/"})}}))))))))))};O.propTypes={username:a.a.string,url:a.a.string};t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(131),m=n(132),d=n(3),f=n(80),p=n(95),y=n(110),b=n(34);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E(e){var t=e.info,n=e.label,o=e.options,i=e.onChange,s=e.className,l=e.labelClassName,u=e.values,m=w(e,["info","label","options","onChange","className","labelClassName","values"]),f=h(Object(r.useState)(),2),p=f[0],y=f[1],v=function(e){i(e)},E=o.map((function(e){return a.a.createElement("div",{key:e.value,className:c()(s,"checkbox")},a.a.createElement("input",g({type:"checkbox",id:e.label,value:e.value,className:c()({focus:p}),checked:u.includes(e.value),onChange:v,onFocus:function(){return y(!0)},onBlur:function(){return y(!1)}},m)),a.a.createElement("span",{className:"checkmark"},a.a.createElement(d.e,{iconName:"fa-check",height:"14",color:"wp-base-1"})),a.a.createElement("label",{id:"checkbox-label",htmlFor:e.label},e.label))}));return a.a.createElement("div",{className:"form-field checkbox-container"},Object(b.c)({label:n,labelClassName:l,tooltip:t}),a.a.createElement("div",{className:"checkbox-group"},E))}E.defaultProps={values:[],onChange:function(){}},E.propTypes={options:s.a.array.isRequired,values:s.a.array,onChange:s.a.func.isRequired,className:s.a.string,label:s.a.string,labelClassName:s.a.string,info:s.a.string};var O=E;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function N(e){var t=e.labels,n=e.range,o=e.name,i=e.value,s=e.disabledUntilClick,l=e.onChange,u=e.step,m=e.className,d=k(e,["labels","range","name","value","disabledUntilClick","onChange","step","className"]),f=C(Object(r.useState)(),2),p=f[0],y=f[1],b=C(Object(r.useState)(s),2),g=b[0],h=b[1];Object(r.useEffect)((function(){h(s)}),[s,h]);var v=function(){h(!1)};return a.a.createElement("div",{className:c()("slider-container",m)},a.a.createElement("div",{className:"left-label slider-labels"},t[0]),a.a.createElement("input",S({type:"range",min:n[0],max:n[1],step:u,value:i,name:o,onChange:function(e){v(),l(e)},onClick:v,onFocus:function(e){y(!0),h(!1),l(e)},onBlur:function(){return y(!1)},className:c()({focus:p,disabled:g})},d)),a.a.createElement("div",{className:"slider-labels"},t[1]))}N.defaultProps={range:[0,100],onChange:function(){},disabledUntilClick:!1,name:"slider",step:1},N.propTypes={labels:s.a.array.isRequired,name:s.a.string,range:s.a.array,value:s.a.number.isRequired,onChange:s.a.func.isRequired,disabledUntilClick:s.a.bool.isRequired,className:s.a.string,step:s.a.number};var _=N;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R(e){var t=e.label,n=e.options,r=e.info,o=e.onChange,i=e.values,s=e.labelClassName,l=T(e,["label","options","info","onChange","values","labelClassName"]),c=n.map((function(e,t){return a.a.createElement(_,P({labels:e.sliderLabels,key:t,name:e.id,onChange:function(e){return o(e,parseInt(e.target.value,10))},range:[-5,5],disabledUntilClick:null==i[t],value:(n=i[t],null==n?0:n)},l));var n}));return a.a.createElement("div",{className:"slider-group form-field"},Object(b.c)({label:t,labelClassName:s,tooltip:r}),a.a.createElement("div",{className:"form-slider-group"},c))}R.defaultProps={onChange:function(){},values:[]},R.propTypes={label:s.a.string,options:s.a.array.isRequired,info:s.a.string,onChange:s.a.func.isRequired,values:s.a.array.isRequired,labelClassName:s.a.string};var x=R,A=n(2);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function U(e){var t=e.suggestions,n=e.attributes,o=e.label,i=e.info,s=e.about,l=e.name,u=e.placeholder,m=e.onChange,f=e.labelClassName,p=e.className,y=e.maxNumAttributes,g=D(e,["suggestions","attributes","label","info","about","name","placeholder","onChange","labelClassName","className","maxNumAttributes"]),h=L(Object(r.useState)(null),2),v=h[0],w=h[1],E=L(Object(r.useState)(n.length<y),2),O=E[0],S=E[1],C=L(Object(r.useState)([]),2),j=C[0],k=C[1],N=L(Object(r.useState)(!0),2),_=N[0],P=N[1],T=L(Object(r.useState)(""),2),R=T[0],x=T[1],M=L(Object(r.useState)(!1),2),U=M[0],q=M[1];Object(A.a)(v,(function(){return q(!1)}));var B=function(e){return t.filter((function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1&&!n.includes(t)}))},F=function(){n.length>=y?(x(""),S(!1)):S(!0)},W=function(e){var t=e.currentTarget.innerText,r=n;r.push(t),F(),x(""),k([]),q(!1),m(l,r)},V=function(e){var t=e.currentTarget.id,r=n,a=r.indexOf(t);-1!==a&&r.splice(a,1),F(),k([]),q(!1),m(l,r)},H=function(e){return null===e||null!==e.match(/^\s*$/)},z=j.map((function(e,t){return a.a.createElement("button",{className:c()({"suggestion-active":t===O}),key:e,onClick:W,id:t},e)})),$=n.map((function(e,t){var n=e+"-"+t;if(!H(e))return a.a.createElement("div",{className:"valid-attribute",key:n},e,a.a.createElement("div",{onClick:V,id:e,className:"remove-attribute",role:"button",tabIndex:"0"},a.a.createElement(d.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})))}));return a.a.createElement("div",{className:c()("form-field",p)},Object(b.c)({label:o,labelClassName:f,tooltip:i}),Object(b.b)(s),a.a.createElement("div",{className:c()("short","autocomplete-field"),ref:function(e){return w(e)}},a.a.createElement("div",{className:"selected-attributes"},$),a.a.createElement("div",{className:"attribute-input"},O?a.a.createElement("input",I({type:"text",onFocus:function(){q(!0),P(!0)},value:R,onChange:function(e){var t=e.currentTarget.value;H(t)&&(t="");for(var n=B(t);n.length<=0&&t.length>0;)t=t.substring(0,t.length-1),n=B(t);k(n),x(t)},name:l,placeholder:u,className:c()({focus:U})},g)):a.a.createElement("input",I({type:"text",value:"",placeholder:"Up to "+y+" attributes",disabled:!0},g))),a.a.createElement("div",{className:c()("suggestions",{hidden:!_||j.length<=0||!U})},z)))}U.defaultProps={suggestions:[],attributes:[],onChange:function(){},maxNumAttributes:10},U.propTypes={suggestions:s.a.array.isRequired,label:s.a.string,info:s.a.string,about:s.a.string,name:s.a.string,attributes:s.a.array,placeholder:s.a.string,onChange:s.a.func.isRequired,labelClassName:s.a.string,className:s.a.string,textareaClassName:s.a.string,maxNumAttributes:s.a.number};var q=U,B=n(32);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t=e.isLoading,n=e.story,o=e.storyNotesData,i=e.fetchStoryNotes,s=e.postStoryNotes,l=e.updateStoryNotes,m=e.activeTab,b=F(Object(r.useState)(!1),2),g=b[0],h=b[1],v=F(Object(r.useState)(!1),2),w=v[0],E=v[1],S=Object(A.o)().trans,C=Object(B.g)(),j=Object(B.h)(),k=Object(B.i)(),N=Object(B.k)(),_=Object(B.j)();function P(){s(n.id,o)}Object(r.useEffect)((function(){i(n.id)}),[n,i]);var T,R=function(e){var t=e.target,r=t.name,a=t.value;h(!1),E(!1),l(n.id,o,{name:r,value:a})},I=function(e){var t=e.target,r=t.name,a=t.value,i=parseInt(a);h(!1),E(!1),l(n.id,o,{name:r,value:i})},L=function(e,t){var r=e.target.name;h(!1),E(!1),l(n.id,o,{name:r,value:t})},M=function(e){if(null!==e){if("string"==typeof e&&""!==e)return!0;if(Array.isArray(e)&&e.length>0)return!0;if("string"!=typeof e)return!0}return!1},D=M(o.protagonist.name)&&M(o.protagonist.other_names)&&M(o.protagonist.pronoun)&&M(o.protagonist.attributes)&&M(o.protagonist.extrovert_introvert)&&M(o.protagonist.likeable)&&M(o.protagonist.focus_past_future)&&M(o.protagonist.thinking_feeling)&&M(o.protagonist.decisive_improvise)&&M(o.protagonist.laidback_serious)&&M(o.protagonist.personality_change)&&M(o.protagonist_goal.description)&&M(o.protagonist_goal.physical_emotional)&&M(o.protagonist_goal.type)&&M(o.protagonist_goal.change_themselves_surroundings)&&M(o.protagonist_goal.explore_emotions_world)&&M(o.protagonist_goal.navigate_familiar_unfamiliar)&&M(o.protagonist_goal.recall_past)&&M(o.protagonist_goal.find_meaning)&&M(o.protagonist_goal.take_keep)&&M(o.protagonist_goal.outcome)&&M(o.protagonist_goal.succeed)&&M(o.protagonist_goal.outcome_feeling)&&M(o.opportunity.interested)&&M(o.opportunity.logline)&&M(o.opportunity.story_progress)&&M(o.opportunity.types);return t||m!==u.a.NOTES?null:a.a.createElement("div",{id:u.a.NOTES},a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"story-planner-intro"},a.a.createElement("div",{className:"story-planner-image-container"},a.a.createElement(d.c,{name:"desktop-web/undraw-personal-notebook-sobb@2x.png",id:"story-planner-image",height:"105px",width:"120px"})),a.a.createElement("div",{className:"story-planner-intro-text"},a.a.createElement("div",{className:"title"},S("Story Notes")),a.a.createElement("div",{className:"subtitle"},S("Store and track all of your story ideas in one place.")))),a.a.createElement("div",{className:"section",id:"protagonist-form"},a.a.createElement("div",{className:"section-title"},C.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,C.info),a.a.createElement("div",{className:"learn-more"},C.more," ",a.a.createElement("strong",null,a.a.createElement("a",{href:"/814442697-story-notes-who-is-your-protagonist",target:"_blank",rel:"noreferrer"},C.learnMore)))),a.a.createElement(f.a,{label:C.section1.label,name:C.section1.name,className:"top",characterLimit:C.section1.limit,placeholder:C.section1.placeholder,textareaClassName:"short",value:o.protagonist.name,onChange:R}),a.a.createElement(f.a,{label:C.section2.label,name:C.section2.name,className:"top",characterLimit:C.section2.limit,placeholder:C.section2.placeholder,textareaClassName:"short",value:o.protagonist.other_names,onChange:R}),a.a.createElement(p.a,{label:C.section3.label,dropdownOptions:C.section3.options,name:C.section3.name,labelClassName:"short",selectClassName:"short",onChange:R,selected:o.protagonist.pronoun,placeholder:C.section3.placeholder}),a.a.createElement(q,{name:C.section4.name,label:C.section4.label,info:C.section4.info,className:"short",placeholder:C.section4.placeholder,onChange:function(e,t){var r=t.join();h(!1),E(!1),l(n.id,o,{name:e,value:r})},attributes:o.protagonist.attributes?o.protagonist.attributes.split(","):[],suggestions:j.options}),a.a.createElement(x,{label:C.section5.label,options:C.section5.options,onChange:L,values:[o.protagonist.extrovert_introvert,o.protagonist.likeable,o.protagonist.focus_past_future,o.protagonist.thinking_feeling,o.protagonist.decisive_improvise,o.protagonist.laidback_serious]}),a.a.createElement(p.a,{label:C.section6.label,dropdownOptions:C.section6.options,labelClassName:"short",selectClassName:"short",onChange:I,selected:(T=o.protagonist.personality_change,null!==T?T.toString():null),name:C.section6.name,placeholder:C.section6.placeholder})),a.a.createElement("div",{className:"section",id:"story-goal-form"},a.a.createElement("div",{className:"section-title"},k.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,k.info)),a.a.createElement(f.a,{label:k.section1.label,name:k.section1.name,characterLimit:k.section1.limit,placeholder:k.section1.placeholder,value:o.protagonist_goal.description,onChange:R,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(y.a,{label:k.section2.label,name:k.section2.name,options:k.section2.options,value:o.protagonist_goal.physical_emotional,onChange:I}),(null===o.protagonist_goal.physical_emotional||0===o.protagonist_goal.physical_emotional)&&a.a.createElement("div",null,a.a.createElement(p.a,{label:k.section3.label,name:k.section3.name,dropdownOptions:k.section3.options[0],disabled:null===o.protagonist_goal.physical_emotional,onChange:R,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:k.section3.placeholder})),1===o.protagonist_goal.physical_emotional&&a.a.createElement("div",null,a.a.createElement(p.a,{label:k.section3.label,name:k.section3.name,dropdownOptions:k.section3.options[1],disabled:null===o.protagonist_goal.physical_emotional,onChange:R,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:k.section3.placeholder})),a.a.createElement(x,{label:k.section4.label,options:k.section4.options,onChange:L,values:[o.protagonist_goal.change_themselves_surroundings,o.protagonist_goal.explore_emotions_world,o.protagonist_goal.navigate_familiar_unfamiliar,o.protagonist_goal.recall_past,o.protagonist_goal.find_meaning,o.protagonist_goal.take_keep]})),a.a.createElement("div",{className:"section",id:"outcome-form"},a.a.createElement("div",{className:"section-title"},N.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,N.info)),a.a.createElement(f.a,{label:N.section1.label,name:N.section1.name,characterLimit:N.section1.limit,placeholder:N.section1.placeholder,onChange:R,value:o.protagonist_goal.outcome,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(y.a,{label:N.section2.label,name:N.section2.name,options:N.section2.options,value:o.protagonist_goal.succeed,onChange:I}),a.a.createElement(y.a,{label:N.section3.label,name:N.section3.name,options:N.section3.options,value:o.protagonist_goal.outcome_feeling,onChange:I})),a.a.createElement("div",{id:"story-planner-save-btn"},a.a.createElement("button",{onClick:function(){E(!0),P()},className:c()("btn-primary",{disabled:w}),"aria-label":"Save my story notes"},S(w?"Saved":"Save my Story Notes"))),a.a.createElement("div",{className:"section",id:"opportunities-form"},a.a.createElement("div",null,a.a.createElement("div",{className:"section-title"},_.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,_.info)),a.a.createElement(y.a,{label:_.section1.label,name:_.section1.name,options:_.section1.options,value:o.opportunity.interested,onChange:I})),a.a.createElement("div",{className:c()({"available-opportunities":1===o.opportunity.interested,hidden:1!==o.opportunity.interested})},a.a.createElement(O,{options:_.section2.options,label:_.section2.label,name:_.section2.name,onChange:function(e){var t=[];if(M(o.opportunity.types)&&(t=o.opportunity.types.split(",")),t.includes(e.target.value)){var r=t.indexOf(e.target.value);t.splice(r,1)}else t.push(e.target.value);h(!1),E(!1);var a=t.join();l(n.id,o,{name:e.target.name,value:a})},values:o.opportunity.types?o.opportunity.types.split(","):[]}),a.a.createElement(f.a,{label:_.section3.label,name:_.section3.name,characterLimit:_.section3.limit,placeholder:_.section3.placeholder,about:_.section3.about,onChange:R,value:o.opportunity.logline,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement("div",{className:"field-description"},S("Not sure how to write a logline?"),a.a.createElement("a",{href:"/814443428-story-notes-how-do-i-write-a-logline",target:"_blank",rel:"noreferrer"},S("Learn More Here"))),a.a.createElement(p.a,{label:_.section4.label,dropdownOptions:_.section4.options,name:_.section4.name,onChange:R,labelClassName:"long",selected:o.opportunity.story_progress,className:"long-field",selectClassName:"long",placeholder:_.section4.placeholder}),!g&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("button",{className:c()("btn-primary",{disabled:!D}),"aria-label":"Submit story notes to wattpad",onClick:function(){h(!0),P()}},S("Submit my private Story Notes to Wattpad")),a.a.createElement("div",{className:c()("submit-btn-info",{hidden:D})},_.notComplete)),g&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("div",{className:c()("btn-primary","disabled"),"aria-label":"Submitted"},S("Submitted")))))))}V.defaultProps={storyNotesData:{id:"",protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,type:null}}},V.propTypes={isLoading:s.a.bool.isRequired,activeTab:s.a.string.isRequired,story:s.a.object.isRequired,fetchStoryNotes:s.a.func.isRequired,postStoryNotes:s.a.func.isRequired,updateStoryNotes:s.a.func.isRequired,storyNotesData:s.a.shape({id:s.a.number,protagonist:s.a.shape({name:s.a.string,other_names:s.a.string,pronoun:s.a.string,attributes:s.a.string,extrovert_introvert:s.a.number,likeable:s.a.number,focus_past_future:s.a.number,thinking_feeling:s.a.number,decisive_improvise:s.a.number,laidback_serious:s.a.number,personality_change:s.a.number}).isRequired,protagonist_goal:s.a.shape({description:s.a.string,physical_emotional:s.a.number,type:s.a.string,change_themselves_surroundings:s.a.number,explore_emotions_world:s.a.number,navigate_familiar_unfamiliar:s.a.number,recall_past:s.a.number,find_meaning:s.a.number,take_keep:s.a.number,outcome:s.a.string,succeed:s.a.number,outcome_feeling:s.a.number}).isRequired,opportunity:s.a.shape({interested:s.a.number,logline:s.a.string,story_progress:s.a.string,types:s.a.string}).isRequired})};t.a=Object(o.b)((function(e){return{storyNotesData:e.storyNotes.data,isLoading:e.storyNotes.isLoading,activeTab:e.worksItemDetails.worksItemDetailsActiveTab}}),{fetchStoryNotes:m.a,postStoryNotes:m.b,updateStoryNotes:m.c})(V)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(8),m=n(15);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,s,"next",e)}function s(e){y(o,r,a,i,s,"throw",e)}i(void 0)}))}}var g=n(110),h=n(80),v=function(e){var t=e.className,n=e.includedFields,r=e.authorNote,o=e.chapterDescription,i=e.onFormChange,s=Object(m.a)(),l=function(e){i(e.target)};return a.a.createElement("div",{className:c()("common-paid-part-fields",t)},n.includes(m.i.DESCRIPTION)&&a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"section-title"},s.chapterDescription.title),a.a.createElement("div",{className:"section-description"},s.chapterDescription.description),a.a.createElement(h.a,{className:"long-field",textareaClassName:"long",name:s.chapterDescription.textarea.name,placeholder:s.chapterDescription.textarea.placeholder,value:o,characterLimit:250,onChange:l})),n.includes(m.i.AUTHOR_NOTE)&&a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"section-title"},s.authorNote.title),a.a.createElement("div",{className:"section-description"},s.authorNote.description),a.a.createElement(h.a,{className:"long-field",textareaClassName:"long",name:s.authorNote.textarea.name,placeholder:s.authorNote.textarea.placeholder,value:r,characterLimit:250,onChange:l})))};v.defaultProps={className:"",includedFields:[],onFormChange:function(){}},v.propTypes={className:s.a.string,authorNote:s.a.string,chapterDescription:s.a.string,includedFields:s.a.arrayOf(s.a.oneOf(Object.keys(m.i).map((function(e){return m.i[e]})))),onFormChange:s.a.func.isRequired};var w=v;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.isLoading,n=e.story,i=e.partId,s=e.authorId,l=e.paidPartData,d=e.updatePaidPartConfig,f=e.postPaidPartConfig,p=Object(o.c)(),y=Object(m.l)(),b=j(Object(r.useState)(null),2),h=b[0],v=b[1],O=j(Object(r.useState)([]),2),C=O[0],k=O[1],N=j(Object(r.useState)([]),2),_=N[0],P=N[1],T=function(){return p(Object(u.b)())};Object(r.useEffect)((function(){return window.addEventListener("popstate",T),function(){return window.removeEventListener("popstate",T)}}),[]),Object(r.useEffect)((function(){t||h?k(m.j[l.bonus_type]):v(Object.assign({},l))}),[t,h,v,l,k]);var R=function(e){var t=e.name,r=e.value;d(n.id,i,s,l,{name:t,value:r})},x=function(){var e=[];return C.forEach((function(t){switch(t){case m.i.DESCRIPTION:l.chapter_description||e.push(y.errorMessages.chapterDescription);break;case m.i.AUTHOR_NOTE:l.author_note||e.push(y.errorMessages.authorNote)}})),!e.length||(P(e),!1)},A=function(){var e=wattpad.utils.iconify("fa-check",16,"wp-neutral-5");wattpad.utils.showToast('<span class="success-icon">'.concat(e,"</span> ").concat(y.successMessage),{className:"configure-paid-part-modal-success-toast error-toast",dismissAfterDuration:2e3})};return a.a.createElement("div",{id:"configure-paid-part-modal"},a.a.createElement("div",{className:"modal-dialog modal-sm"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"section-title"},y.title),a.a.createElement("div",{className:"section-description"},y.description),a.a.createElement("div",{className:"part-type-selector"},a.a.createElement(g.a,{name:y.partTypeSelector.name,options:y.partTypeSelector.options,value:l.bonus_type,onChange:function(e){var t=e.target,n=t.name,r=t.value,a=parseInt(r);k(m.j[a]),R({name:n,value:a})}}))),a.a.createElement("div",{className:"form-container"},a.a.createElement(w,E({authorNote:l.author_note,chapterDescription:l.chapter_description},{isLoading:t,includedFields:C,onFormChange:R}))),a.a.createElement("div",{className:"error-container"},_.map((function(e,t){return a.a.createElement("div",{className:"error",key:"error-".concat(t)},e)})))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("div",{className:"action-buttons"},a.a.createElement("button",{className:c()("btn","btn-purple",{disabled:!1}),"data-dismiss":"modal",onClick:function(){x()&&(v(Object.assign({},l)),d(n.id,i,s,l,{name:"is_free_part",value:!1}),f(n.id,i,s,S(S({},l),{},{is_free_part:!1})),T(),A())}},y.saveText),!l.is_free_part&&a.a.createElement("button",{className:"btn btn-grey remove-button",onClick:function(){window.confirm(y.removeMessage)&&x()&&(d(n.id,i,s,l,{name:"is_free_part",value:!0}),f(n.id,i,s,S(S({},l),{},{is_free_part:!0})),T(),A())}},y.removeText),a.a.createElement("button",{className:"btn btn-grey discard-button",onClick:function(){d(n.id,i,s,h),T()}},y.cancelText))))))};N.defaultProps={paidPartData:m.b},N.propTypes={isLoading:s.a.bool.isRequired,story:s.a.object.isRequired,partId:s.a.number.isRequired,authorId:s.a.number.isRequired,paidPartData:m.m,updatePaidPartConfig:s.a.func.isRequired,postPaidPartConfig:s.a.func.isRequired};var _=Object(o.b)((function(e){return{paidPartData:e.paidPartConfig.data,isLoading:e.paidPartConfig.isLoading}}),{updatePaidPartConfig:function(e,t,n,r,a){var o=f(f({},r),{},{story_id:parseInt(e),part_id:t,author_id:n});if(a){var i=a.name,s=a.value;a.name&&(o[i]=s)}return function(e){e({type:m.g,data:o})}},postPaidPartConfig:function(e,t,n,r){return r.story_id=parseInt(e),r.part_id=parseInt(t),r.author_id=parseInt(n),function(){var e=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.ajax({url:"/v5/bonus-content/paywall",type:"POST",data:JSON.stringify(r),dataType:"json",headers:{"Content-Type":"application/json"}}));case 3:t({type:m.e}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),wattpad.utils.showToast(),t({type:m.c});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})(N),P=n(11),T=n(3),R=function(e){var t=e.isLoading,n=e.story,i=e.partId,s=e.authorId,l=e.paidPartData,d=e.fetchPaidPartConfig,f=Object(o.c)(),p=Object(m.k)();Object(r.useEffect)((function(){d(n.id,i)}),[n,i,d]);return a.a.createElement("div",{className:c()("configure-paid-part-modal-preview",!l.is_free_part&&"is-paid-bonus-chapter")},a.a.createElement("div",{className:"configure-paid-part-modal-button"},t&&a.a.createElement("div",{className:"configure-paid-part-loader"},a.a.createElement(T.f,null)),!t&&a.a.createElement("button",{className:"btn btn-purple",onClick:function(){t||f(Object(u.b)({hideClose:!0,disableClose:!0,disableScroll:!0,useGlobalModalContainer:!0,className:"configure-paid-part-modal-container",component:function(){return a.a.createElement(_,{story:n,partId:i,authorId:s,paidPartData:l})}}))}},l.is_free_part&&p.button.default,!l.is_free_part&&a.a.createElement(a.a.Fragment,null,p.button.text," ",l.bonus_type==P.c.EXCLUSIVE_CHAPTER&&p.display.type.exclusiveChapter,l.bonus_type==P.c.WRITER_REVEAL&&p.display.type.writerReveal,l.bonus_type==P.c.STORY_BRANCH&&p.display.type.storyBranch))))};R.defaultProps={paidPartData:m.b},R.propTypes={isLoading:s.a.bool.isRequired,story:s.a.object.isRequired,partId:s.a.number.isRequired,authorId:s.a.number.isRequired,fetchPaidPartConfig:s.a.func.isRequired,paidPartData:m.m};t.a=Object(o.b)((function(e){return{paidPartData:e.paidPartConfig.data,isLoading:e.paidPartConfig.isLoading}}),{fetchPaidPartConfig:function(e,t){var n="/v5/bonus-content/paywall/".concat(e,"/free-parts?parts=").concat(t);return function(){var r=b(regeneratorRuntime.mark((function r(a){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return",a({type:m.d,data:null}));case 2:return a({type:m.f}),r.prev=3,o=Promise.resolve($.get(n)),r.next=7,o;case 7:if(i=r.sent){r.next=10;break}return r.abrupt("return",a({type:m.d,data:{}}));case 10:a({type:m.d,data:null==i?void 0:i[0]}),r.next=16;break;case 13:return r.prev=13,r.t0=r.catch(3),r.abrupt("return",a({type:m.d,data:null}));case 16:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e){return r.apply(this,arguments)}}()}})(R)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(13),l=n(4),c=n.n(l),u=n(126),m=n(10),d=n(2),f=n(5);function p(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var y=function(e){var t=e.username,n=e.name,r=e.avatar,o=e.badges,i=void 0===o?[]:o,l=e.numStoriesPublished,y=void 0===l?0:l,b=e.numLists,g=void 0===b?0:b,h=e.numFollowers,v=void 0===h?0:h,w=e.following,E=void 0===w?null:w,O=e.index,S=e.onProfileCardClick,C=e.onFollowButtonClick,j=Object(d.o)(),k=j.ngettext,N=j.trans,_=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),n.preventDefault(),e.next=4,C(t,O);case 4:e.sent||(o=N(E?"Unfollow failed. Please try again.":"Follow failed. Please try again."),null===(r=wattpad)||void 0===r||null===(a=r.utils)||void 0===a||a.showToast(o,{type:"dismissable"}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",{className:"profile-card"},a.a.createElement("a",{href:"/user/".concat(t),onClick:function(e){e.preventDefault(),S(t,O)},className:"profile-card-data"},a.a.createElement("img",{className:"display-pic",src:r||"/img/avatar/empty.png",alt:t,"aria-hidden":!0}),a.a.createElement("div",{className:"card-content"},a.a.createElement("div",{className:"sr-only"},"".concat(n||t," @").concat(t)),a.a.createElement("div",{className:"name-and-badges","aria-hidden":!0},a.a.createElement("h5",null,n||t),a.a.createElement("div",{className:"badges"},null==i?void 0:i.map((function(e){return a.a.createElement("div",{className:"user-badge",key:e},a.a.createElement(u.a,{name:e,size:"20"}))})))),a.a.createElement("p",{className:"username","aria-hidden":!0},"@",t),a.a.createElement("div",{className:"card-meta"},a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(k("%s Story","%s Stories",y),Object(s.sprintf)("<b>%s</b>",Object(f.b)(y)))}}),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(k("%s Reading list","%s Reading lists",g),Object(s.sprintf)("<b>%s</b>",Object(f.b)(g)))}}),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(k("%s Follower","%s Followers",v),Object(s.sprintf)("<b>%s</b>",Object(f.b)(v)))}})))),null!==E&&a.a.createElement("button",{className:c()("follow","btn-load-more",{active:E}),onClick:_,"aria-label":N(E?"Following":"Follow")},a.a.createElement(m.a,{name:E?"userFollowed":"userFollow",size:"24",strokeWidth:"0",className:"follow__icon",fill:!E,"aria-hidden":!0}),a.a.createElement("span",{className:"follow__text","aria-hidden":!0},N(E?"Following":"Follow"))))};y.propTypes={name:i.a.string,username:i.a.string.isRequired,avatar:i.a.string,badges:i.a.array,numFollowers:i.a.number,numLists:i.a.number,numStoriesPublished:i.a.number,following:i.a.bool,index:i.a.number,onProfileCardClick:i.a.func.isRequired,onFollowButtonClick:i.a.func.isRequired};var b=y,g=n(63),h=function(){return a.a.createElement("div",{className:"profile-card-skeleton"},a.a.createElement(g.a,{className:"profile-avatar",animation:!0,circle:!0}),a.a.createElement("div",{className:"card-content-region"},a.a.createElement(g.a,{height:"24px",className:"title-skeleton",animation:!0}),a.a.createElement(g.a,{height:"16px",className:"subtitle-skeleton",animation:!0}),a.a.createElement("div",{className:"card-meta-region"},a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}),a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}),a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}))))};h.propTypes={coverColor:i.a.string};var v=h,w=function(e){var t=e.numSkeletonCards;return a.a.createElement("div",{className:"profile-skeleton-container hidden"},Array.from({length:t},(function(e,t){return a.a.createElement(v,{key:t})})))};w.propTypes={numSkeletonCards:i.a.number.isRequired};var E=w;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e,t){return e.following===t.following&&e.numFollowers===t.numFollowers},x=a.a.memo(b,R),A=function(e){var t=e.users,n=void 0===t?[]:t,o=e.searchTerm,i=e.isMobile,l=_(Object(r.useState)(n),2),c=l[0],u=l[1],m=_(Object(r.useState)(n.length>=(i?10:20)),2),f=m[0],p=m[1],y=_(Object(r.useState)(n.length),2),b=y[0],g=y[1],h=_(Object(r.useState)(-1),2),v=h[0],w=h[1],S=_(Object(r.useState)(0),2),j=S[0],P=S[1],T=Object(d.o)(),R=T.trans,A=T.ngettext,I=Object(r.useCallback)((function(e){e&&e.focus()}),[]),L=function(e,t){var n,r;null===(n=app)||void 0===n||null===(r=n.trigger)||void 0===r||r.call(n,"app:component:search:profile:follow:clearCache",e,t)},M=function(e,t){var n,r;window.te.push("event","search","user",null,"click",{userid:e,search:o,position:t}),null===(n=app)||void 0===n||null===(r=n.trigger)||void 0===r||r.call(n,"app:component:search:profile:click:clearCache"),app.router.navigate("/user/".concat(e),{trigger:!0})},D=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a,o,i,s,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(r=wattpad)||void 0===r||null===(a=r.utils)||void 0===a?void 0:a.currentUser().get("username"),i=c[n].following,s="/api/v3/users/".concat(o,"/following"),e.prev=3,e.next=6,$.ajax({url:s,type:!0===i?"DELETE":"POST",data:{users:t}});case 6:if(200!==e.sent.code){e.next=13;break}return l=c[n].numFollowers,m=i?l-1:l+1,u((function(e){return[].concat(N(e.slice(0,n)),[C(C({},e[n]),{},{numFollowers:m,following:!i})],N(e.slice(n+1)))})),L(t,!i),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,s,"next",e)}function s(e){k(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(E,{numSkeletonCards:i?10:20}),a.a.createElement("ul",{className:"list-group list-container"},c.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:e.username},t===v&&a.a.createElement("li",{tabIndex:-1,ref:I,className:"list-group-item"},a.a.createElement("span",{className:"sr-only"},Object(s.sprintf)(A("%s more profile","%s more profiles",j),j))),a.a.createElement("li",{className:"list-group-item new-item"},a.a.createElement(x,O({},e,{searchTerm:o,index:t,onProfileCardClick:M,onFollowButtonClick:D}))))}))),f&&a.a.createElement("button",{className:"btn-load-more load-more",onClick:function(){var e="/v4/search/users/?query="+encodeURIComponent(o.trim())+"&limit=".concat(10,"&offset=").concat(b,"&fields=").concat("username,name,avatar,description,numLists,numFollowers,numStoriesPublished,badges,following");Promise.resolve($.get(e)).then((function(e){var t=e.filter((function(e){return!c.some((function(t){return t.username===e.username}))}));w(c.length),P(e.length),u((function(e){return[].concat(N(e),N(t))})),p(e.length>=10),g((function(e){return e+10}))})).catch((function(){wattpad.utils.showToast(R("Something went wrong. Please try again"),{type:"dismissable"})}))}},R("Load more profiles")))};A.propTypes={users:i.a.array,searchTerm:i.a.string,isMobile:i.a.bool};t.a=A},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n(2),m=n(13),d=n(3),f=n(186);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.searchTags,n=e.searchTerm,o=e.handleFilterChange,i=Object(u.o)().trans,s={},c=g(Object(r.useState)(""),2),m=c[0],p=c[1],b=g(Object(r.useState)(!1),2),h=b[0],v=b[1],w=g(Object(r.useState)(!1),2),E=w[0],O=w[1];t&&(s.tags=t.map((function(e){return y(y({},e),{},{bgColor:"ds-neutral-40",color:"#121212",activeBgColor:"#121212",activeColor:"#ffffff",className:"refine-by-tag",role:"button",ariaLabel:i("filter by %s",e.name),ariaDescribedBy:"screen-reader-description"})})));var S=function(){var e;if(m.trim().indexOf(" ")>=0)v(!0);else if(v(!1),m.trim()){O(!1);var t=null===(e=m.trim())||void 0===e?void 0:e.replace(/[#\\]/g,"");t&&!n.includes("#".concat(t))?o("".concat(n," #").concat(t),"addTag"):C()}else O(!0)},C=function(){p(""),wattpad.utils.scrollToTop(),$(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden"),setTimeout((function(){$(".story-card-skeleton-container").addClass("hidden"),$(".story-card-container").removeClass("hidden")}),1e3)};return a.a.createElement("div",{className:"tag-filter-container"},a.a.createElement("div",{className:"refine-by-tag-header"},i("Refine by tag")),a.a.createElement(f.a,{tagGridTags:s,onTagClicked:function(e,t){o({evt:t,tag:e},"toggleTag")},className:"tag-cloud-container"}),a.a.createElement("div",{className:"add-tag"},a.a.createElement("div",{className:"tag-text-box"},a.a.createElement("input",{className:"tag-text-input",type:"text",value:m,placeholder:i("Add a tag to refine by"),onChange:function(e){p(e.target.value),(e.target.value.trim()||""===e.target.value)&&O(!1),e.target.value.trim().indexOf(" ")<0&&v(!1)},onKeyUp:function(e){"Enter"===e.key&&S()}})),a.a.createElement("button",{className:l()("add-tag-btn",{"disabled-btn":h||E}),onClick:S,"aria-disabled":h||E,disabled:h||E,title:i("Add tag")},a.a.createElement(d.e,{className:"add-icon",name:"add",size:"24",color:"ds-neutral-100"})),a.a.createElement("p",{className:"add-tag-error-message","aria-live":"assertive"},h&&i("Tags cannot contain spaces"),E&&i("Tags cannot be empty"))),a.a.createElement("div",{id:"screen-reader-description",className:"hidden"},i("Press enter to toggle tag")))};v.propTypes={searchTags:i.a.array,searchTerm:i.a.string,handleFilterChange:i.a.func};var w=v,E=n(174),O=n(39);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e,t){switch(t.type){case"APPLY":return delete e.error,"free"===t.value||"paid"===t.value?k(k({},e),{},N({free:!1,paid:!1},t.value,!0)):k(k({},e),{},N({},t.value,!0));case"REMOVE":return delete e.error,k(k({},e),{},N({},t.value,!1));default:return k(k({},e),{},{error:"Error in content reducer"})}},P=function(e){var t=e.isMatureUser,n=e.selectedOptions,o=e.handleFilterChange,i=Object(u.o)().trans,s=S(Object(r.useReducer)(_,k({},n)),2),l=s[0],c=s[1],m=Object(r.useRef)(!0);Object(r.useEffect)((function(){m.current?m.current=!1:o(l,"content")}),[l,o]);var d=function(e){c({type:e.currentTarget.checked?"APPLY":"REMOVE",value:e.currentTarget.value})};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},i("Content")+" "+i("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},i("Content")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},i("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(O.a,{checked:l.complete,onChange:d,value:"complete",contentId:"content1"},i("Only show completed stories")),t&&a.a.createElement(O.a,{checked:l.mature,onChange:d,value:"mature",contentId:"content2"},i("Hide mature stories")),a.a.createElement(O.a,{checked:l.free,onChange:d,value:"free",contentId:"content3"},i("Hide free stories")),a.a.createElement(O.a,{checked:l.paid,onChange:d,value:"paid",contentId:"content4"},i("Hide Paid Stories"))))};P.defaultProps={isMatureUser:!1,handleFilterChange:function(){},selectedOptions:{complete:!1,mature:!1,free:!1,paid:!1}},P.propTypes={isMatureUser:i.a.bool,handleFilterChange:i.a.func,selectedOptions:i.a.object};var T=P,R=n(187);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=["anyLength","oneToTen","tenToTwenty","twentyToFifty","moreThanFifty"],L=function(e){var t=e.selectedOptions,n=e.handleFilterChange,o=Object(u.o)().trans,i=x(Object(R.a)(I,"anyLength",t),2),s=i[0],l=i[1],c=Object(r.useRef)(!0);Object(r.useEffect)((function(){c.current?c.current=!1:n(s,"length")}),[s,n]);var m=function(e){l(e.currentTarget.checked?"APPLY":"REMOVE",e.currentTarget.value)};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},o("Length")+" "+o("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},o("Length")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},o("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(O.a,{value:"anyLength",checked:s.anyLength,onChange:m,contentId:"length1"},o("Any Length")),a.a.createElement(O.a,{value:"oneToTen",checked:s.oneToTen,onChange:m,contentId:"length2"},o("1 - 10 Parts")),a.a.createElement(O.a,{value:"tenToTwenty",checked:s.tenToTwenty,onChange:m,contentId:"length3"},o("10 - 20 Parts")),a.a.createElement(O.a,{value:"twentyToFifty",checked:s.twentyToFifty,onChange:m,contentId:"length4"},o("20 - 50 Parts")),a.a.createElement(O.a,{value:"moreThanFifty",checked:s.moreThanFifty,onChange:m,contentId:"length5"},o("50 Parts or more"))))};L.defaultProps={handleFilterChange:function(){},selectedOptions:{}},L.propTypes={handleFilterChange:i.a.func,selectedOptions:i.a.object};var M=L,D=function(e){var t=e.searchTerm,n=e.resultType,o=e.numStories,i=e.relatedTags,s=e.selectedOptionsAge,d=e.selectedOptionsLength,f=e.selectedOptionsContent,p=e.isMatureUser,y=void 0!==p&&p,b=Object(u.o)().ngettext,g=function(e,n){var r,a;if(null!=e&&e.error)console.error("Error with ".concat(n," filter"),e);else if($(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden"),"age"===n)null===(r=app)||void 0===r||null===(a=r.trigger)||void 0===a||a.call(r,"app:component:filters:updateAge",e);else if("length"===n){var o,i;null===(o=app)||void 0===o||null===(i=o.trigger)||void 0===i||i.call(o,"app:component:filters:updateLength",e)}else if("content"===n){var s,l;null===(s=app)||void 0===s||null===(l=s.trigger)||void 0===l||l.call(s,"app:component:filters:updateContent",e)}else if("addTag"===n){var c,u;null===(c=app)||void 0===c||null===(u=c.trigger)||void 0===u||u.call(c,"app:component:filters:addTag",e)}else if("toggleTag"===n){var m,d;null===(m=app)||void 0===m||null===(d=m.trigger)||void 0===d||d.call(m,"app:component:filters:toggleTag",e.evt,e.tag,t)}};Object(r.useEffect)((function(){$(".story-card-skeleton-container").addClass("hidden"),$(".story-card-container").removeClass("hidden")}),[s,f]);var h=t.split(" "),v=(h=h.filter((function(e){return!e.startsWith("#")}))).join(" ");return a.a.createElement("div",{className:l()("filters-container",{profiles:"stories"!==n})},a.a.createElement("div",{className:"search-info"},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},v),a.a.createElement("div",{"aria-hidden":!0,className:"search-term"},'"'.concat(v,'"'))),"stories"===n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},Object(m.sprintf)(b("%s result","%s results",o),parseInt(o).toLocaleString())),a.a.createElement("div",{className:"stories-count","aria-hidden":!0},Object(m.sprintf)(b("%s result","%s results",o),Object(c.b)(o))))),"stories"===n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,{selectedOptions:d,handleFilterChange:g}),a.a.createElement(E.a,{selectedOptions:s,handleFilterChange:g}),a.a.createElement(T,{isMatureUser:y,selectedOptions:f,handleFilterChange:g}),a.a.createElement(w,{searchTags:i.tags,searchTerm:t,handleFilterChange:g})))};D.defaultProps={handleFilterChange:function(){}},D.propTypes={searchTerm:i.a.string,resultType:i.a.string,numStories:i.a.number,relatedTags:i.a.object,selectedOptionsAge:i.a.object,selectedOptionsLength:i.a.object,selectedOptionsContent:i.a.object,isMatureUser:i.a.bool};t.a=D},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(10),l=n(2),c=n(4),u=n.n(c),m=n(77),d=n(89),f=n(9);function p(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=Object(l.o)().trans,n=y(Object(r.useState)(!1),2),o=n[0],i=n[1],s=y(Object(r.useState)(""),2),c=s[0],b=s[1],g=y(Object(r.useState)(""),2),h=g[0],v=g[1],w=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v(""),r.preventDefault(),$.ajax({type:"POST",url:"apiv2/updateuserpassword",data:$(".on-form-submit").serialize()}).done((function(){e.hideModal(),window.location.replace("/login?nexturl=/settings").reload()})).fail((function(n){if(467===n.responseJSON.code)v(n.responseJSON.message);else{e.hideModal();var r=t("Something went wrong, your changes were not saved. ")+(n.responseJSON.message||"");wattpad.utils.showToast(r,{type:"dismissable"})}}));case 3:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return a.a.createElement("form",{className:"on-form-submit"},a.a.createElement("input",{type:"hidden",name:"id",value:e.userId}),e.hasPassword&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"old_password"},t("Current Password")),a.a.createElement("div",{className:"password-container"},a.a.createElement(m.a,{inputType:"password",placeholder:t("Current Password"),name:"old_password",id:"old_password",alt:t("Current Password"),showVisibilityToggle:!0,onChange:function(e){var t;t=e.target.value,v(""),b(t)},addClassName:u()("password-field",{error:h.length>0})})),h.length>0&&a.a.createElement("div",{className:"error-message"},h)),a.a.createElement("div",{className:"forgot-password-link"},a.a.createElement("a",{className:"on-navigate",href:"/forgot?nextUrl=settings"},t("Forgot your password?")))),a.a.createElement(d.a,{name:e.name,username:e.username,validatePassword:function(t){i(e.hasPassword?t&&!!c:t)}}),a.a.createElement(f.Button,{fullWidth:!0,disabled:!o,variant:f.ButtonVariant.PRIMARY,onClick:w,className:"save-button"},t("Save")))};function h(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}g.propTypes={hasPassword:i.a.bool.isRequired,userId:i.a.number.isRequired,name:i.a.string,username:i.a.string,hideModal:i.a.func.isRequired};var v=function(e){var t=Object(l.o)().trans,n=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),$.ajax({type:"POST",url:"apiv2/updateusername",data:$(".on-form-submit").serialize()}).done((function(){e.hideModal(),window.location.replace("/login?nexturl=/settings").reload()})).fail((function(n){e.hideModal();var r=t("Something went wrong, your changes were not saved. ")+(n.responseJSON.message||"");wattpad.utils.showToast(r,{type:"dismissable"})}));case 2:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){h(o,r,a,i,s,"next",e)}function s(e){h(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("p",null,t("Your username is important, here are a few things you need to know before you change it:")),a.a.createElement("ol",null,a.a.createElement("li",null,t("It takes up to 24 hours for all changes to take effect. Your profile and stories may be inaccessible during this time.")),a.a.createElement("li",null,t("Your user profile and widget links will change and the old ones will no longer work.")),a.a.createElement("li",null,t("You will need to re-login using your new username."))),a.a.createElement("form",{className:"on-form-submit",onSubmit:n},a.a.createElement("input",{type:"hidden",name:"id",value:e.userId}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"username"},t("New Username")),a.a.createElement("input",{id:"username",className:"form-control input-lg enable",name:"username",type:"text",defaultValue:""})),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},t("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-lg enable",name:"password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:e.onPasswordToggle,onKeyDown:e.onPasswordToggle,role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password on-navigate",href:"/forgot?nextUrl=settings"},t("Forgot your password?")),a.a.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",value:t("Save")})))};v.propTypes={userId:i.a.number.isRequired,hideModal:i.a.func.isRequired,onPasswordToggle:i.a.func.isRequired};var w="username",E="password",O="addPassword",S=function(e){var t=Object(l.o)().trans,n=e.type===O?t("Create Password"):t("Change %s",e.type);return a.a.createElement("div",{id:"user-settings-modal"},a.a.createElement("button",{className:"close on-close",onClick:e.hideModal,"aria-label":t("Close")},a.a.createElement(s.a,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("header",{className:"panel-heading"},a.a.createElement("h3",null,n)),a.a.createElement("div",{className:"panel-body"},a.a.createElement("div",{className:"body-text"},e.type===w?a.a.createElement(v,{userId:e.userId,hideModal:e.hideModal,onPasswordToggle:e.onPasswordToggle}):a.a.createElement(g,{hasPassword:e.type===E,userId:e.userId,name:e.name,username:e.username,hideModal:e.hideModal}))))};S.propTypes={onPasswordToggle:i.a.func.isRequired,hideModal:i.a.func.isRequired,type:i.a.string.isRequired,userId:i.a.number.isRequired,name:i.a.string,username:i.a.string};t.a=S},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(119),c=n(84),u=n(118),m=n(10),d=n(2),f=function(e){var t=e.toggleModal,n=Object(d.o)().trans;return a.a.createElement("section",{className:"profile-modal",id:"userClose","aria-hidden":"true"},a.a.createElement("header",{className:"modal-header"},a.a.createElement("div",{className:"pull-right top-right close","data-dismiss":"modal"},a.a.createElement("button",{className:"close-button",onClick:t},a.a.createElement(m.a,{iconName:"fa-remove",size:"16"}))),a.a.createElement("h3",{className:"modal-title"},"Close User Account")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Select Reason:"),a.a.createElement("select",{id:"close-reason"},a.a.createElement("option",{value:"banned_explicit"},"Banned - Explicit"),a.a.createElement("option",{value:"banned_self_harm"},"Banned - Self Harm"),a.a.createElement("option",{value:"copyright"},"Copyright Infringement"),a.a.createElement("option",{value:"csem"},"CSEM found"),a.a.createElement("option",{value:"csem_image_moderation"},"CSEM found by image moderation"),a.a.createElement("option",{value:"cyberbullying_harassment"},"Cyberbullying/Harassment"),a.a.createElement("option",{value:"extremism"},"Extremism"),a.a.createElement("option",{value:"poaching"},"Poaching"),a.a.createElement("option",{value:"previous_account_closed"},"Previous account closed"),a.a.createElement("option",{value:"sexual_messaging"},"Sexual Messaging"),a.a.createElement("option",{value:"spam"},"Spam"),a.a.createElement("option",{value:"underage"},"Underage"))),a.a.createElement("footer",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange on-close-user-account"},n("Close Account"))))};f.propTypes={toggleModal:i.a.func.isRequired};var p=f,y=function(e){var t=e.toggleModal,n=Object(d.o)().trans;return a.a.createElement("section",{className:"profile-modal",id:"userTimeout","aria-hidden":"true"},a.a.createElement("header",{className:"modal-header"},a.a.createElement("div",{className:"pull-right top-right close","data-dismiss":"modal"},a.a.createElement("button",{className:"close-button",onClick:t},a.a.createElement(m.a,{iconName:"fa-remove",size:"16"}))),a.a.createElement("h3",{className:"modal-title"},"User Time-Out")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Duration:"),a.a.createElement("select",{id:"timeout-duration"},a.a.createElement("option",{value:"86400"},"1 Day"),a.a.createElement("option",{value:"172800"},"2 Days")),a.a.createElement("p",null,"Reason:"),a.a.createElement("textarea",{className:"form-control","aria-multiline":"true",id:"timeout-reason",name:"timeout-reason",rows:"10",cols:"46"})),a.a.createElement("footer",{className:"modal-footer"},a.a.createElement("button",{type:"button",className:"btn btn-orange on-timeout-user"},n("Save"))))};y.propTypes={toggleModal:i.a.func.isRequired};var b=y,g=n(3),h=n(8),v=n(45),w=n(46),E=n(120);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.profileType,n=e.username,o=e.avatar,i=e.name,s=e.backgroundUrl,m=e.highlight_colour,f=e.numFollowers,y=e.numStoriesPublished,h=e.numLists,v=e.toggleModal,S=e.toggleToast,C=e.onUnmute,j=e.onUnblock,k=e.onBlock,N=e.recentlyMuted,_=e.recentlyBlocked,P=e.isMobile,T=e.isMuted,R=e.safety,x=e.isAmbassador,A=Object(d.o)().trans,I=Object(d.e)(),L=O(Object(r.useState)(t),2),M=L[0],D=L[1],U=O(Object(r.useState)(_),2),q=U[0],B=U[1],F=O(Object(r.useState)(!1),2),W=F[0],V=F[1];Object(r.useEffect)((function(){return S(W?{className:"unblock",body:A("%s is now unblocked. You can block them at any time.",n)}:"mute"===M&&N?{className:"mute",body:A("%s is now muted. You can unmute them at any time.",n)}:{className:"block",body:A("%s is now blocked. You can unblock them at any time.",n)}),function(){S()}}),[N,A,n,S,M,_,W]);var H=function(e){var t={username:n,toggleModal:v,onUnmute:C,buttonRef:e.current},r=function(){return a.a.createElement(c.a,t)};r.displayName="UnmuteModal",v({type:"unmute",className:"unmute-modal",hideClose:!0,component:r})},z=function(e){var t={username:n,toggleModal:v,onUnblock:Y,buttonRef:e.current},r=function(){return a.a.createElement(u.a,t)};r.displayName="UnblockModal",v({type:"unblock",className:"unblock-modal",hideClose:!0,component:r})},$=function(e){R.isMuted&&(D("block"),B(!0),V(!1)),k(e)},Y=function(e){R.isMuted&&(D("mute"),V(!0)),j(e)};return a.a.createElement("div",{id:"restricted-profile",className:"profile-layout"},a.a.createElement(l.a,{username:n,avatar:o,name:i,backgroundUrl:s,highlight_colour:m,numFollowers:f,numStoriesPublished:y,numLists:h,onUnmute:H,profileType:M,blockUser:$,onUnblock:z,isMobile:P,className:"restricted-profile-header"}),I.BLOCK_MVP&&a.a.createElement("div",{id:"page-navigation",className:"sub-navigation"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"navigation-content"},a.a.createElement("nav",{className:"navigation"},a.a.createElement("ul",{className:"nav-list"},a.a.createElement("li",{className:"nav-item","data-section":"about"},a.a.createElement("button",{className:"section btn-link"},A("About"))),a.a.createElement("li",{className:"nav-item","data-section":"conversations"},a.a.createElement("button",{className:"section btn-link"},A("Conversations"))),!P&&a.a.createElement("li",{className:"nav-item","data-section":"following"},a.a.createElement("button",{className:"section btn-link"},A("Following"))))),!P&&a.a.createElement("div",{className:"actions"},a.a.createElement("div",{className:"button-group inline-block relative"},a.a.createElement(E.a,{username:n,isMuted:("mute"===M||T)&&"block"!==M,isAmbassador:x,isBlocked:"block"===M,onCloseAccount:function(){var e={toggleModal:v},t=function(){return a.a.createElement(p,e)};t.displayName="CloseAccountModal",v({type:"closeAccountModal",className:"close-account-modal",hideClose:!0,component:t})},onTimeout:function(){var e={toggleModal:v},t=function(){return a.a.createElement(b,e)};t.displayName="TimeoutModal",v({type:"timeoutModal",className:"timeout-modal",hideClose:!0,component:t})},unmuteUser:H,unblockUser:z,blockUser:$,isRestrictedProfile:!0,showModerationOptions:!0})))))),N&&a.a.createElement(w.a,null),(_||q)&&a.a.createElement(w.a,null),W&&a.a.createElement(w.a,null),a.a.createElement(g.q,null))};C.propTypes={profileType:i.a.string.isRequired,username:i.a.string.isRequired,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,toggleModal:i.a.func,toggleToast:i.a.func,onUnmute:i.a.func,onUnblock:i.a.func,onBlock:i.a.func,recentlyMuted:i.a.bool,recentlyBlocked:i.a.bool,isMobile:i.a.bool,isBlocked:i.a.bool,isMuted:i.a.bool,isAmbassador:i.a.bool,safety:i.a.object};t.a=Object(s.b)(null,{toggleModal:h.b,toggleToast:v.c})(C)},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(171),i=n(1),s=n.n(i),l=n(63);function c(e){var t=e.coverColor;return a.a.createElement("div",{className:"story-card-skeleton"},a.a.createElement("div",{className:"top-section"},a.a.createElement("div",{className:"cover-skeleton"},a.a.createElement(l.a,{width:"100%",height:"100%",animation:!0,color:t,styles:{borderRadius:"4px"}})),a.a.createElement("div",{className:"title-skeleton"},a.a.createElement(l.a,{width:"100%",height:"28px",animation:!0}))),a.a.createElement("div",{className:"bottom-section"},a.a.createElement(l.a,{width:"100%",height:"100%",animation:!0})))}function u(e){var t=e.numSkeletonCards;return a.a.createElement("div",{className:"story-card-skeleton-container hidden"},a.a.createElement("ul",{className:"list-group new-list-group"},Array.from({length:t},(function(e,t){return a.a.createElement("li",{key:t,className:"list-group-item"},a.a.createElement(c,{coverColor:"@ds-neutral-60-solid"}))}))))}c.propTypes={coverColor:s.a.string},u.propTypes={numSkeletonCards:s.a.number};var m=n(2),d=n(13),f=n(5);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.stories,n=void 0===t?[]:t,i=e.searchTerm,s=e.nextUrl,l=e.isMobile,c=e.numStories,b=e.viewedStories,h=void 0===b?[]:b,w=l?3:15,E=v(Object(r.useState)(n),2),O=E[0],S=E[1],C=c<w?O.length:w,j=v(Object(r.useState)(C),2),k=j[0],N=j[1],_=v(Object(r.useState)(s),2),P=_[0],T=_[1],R=v(Object(r.useState)(-1),2),x=R[0],A=R[1],I=v(Object(r.useState)(n.length),2),L=I[0],M=I[1],D=Object(m.o)(),U=D.trans,q=D.ngettext,B=Object(r.useCallback)((function(e){e&&e.focus()}),[]),F=!!P,W=function(e,t,n){var r,a;h.includes(e)||(window.te.push("event","story",null,null,"view",{storyid:e,page:"search",position:t,query:[i],algo_source:n}),null===(r=app)||void 0===r||null===(a=r.trigger)||void 0===a||a.call(r,"app:component:stories:view",e))};return a.a.createElement("div",{className:"feed-item-new panel new-container"},a.a.createElement("div",{className:"story-card-container"},a.a.createElement("ul",{className:"list-group new-list-group"},O.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id},t===x&&a.a.createElement("li",{tabIndex:-1,ref:B,className:"more-stories"},a.a.createElement("span",{className:"sr-only"},Object(d.sprintf)(q("%s more story","%s more stories",L),L))),a.a.createElement("li",{className:"list-group-item"},a.a.createElement(o.a,p({},e,{searchTerm:i,index:t,viewedStories:h,pushViewEvent:W}))))}))),F&&a.a.createElement("button",{className:"btn-load-more load-more",onClick:function(){var e=P;Promise.resolve($.get(e)).then((function(e){var t=e.stories.filter((function(e){return!O.some((function(t){return t.id===e.id}))})).map((function(e){return g(g({},e),{},{language:e.language.id})}));M(t.length),S((function(e){return[].concat(y(e),y(t))})),N(k+w>c?c:k+w),T(e.nextUrl),A(O.length)})).catch((function(){wattpad.utils.showToast(U("Something went wrong. Please try again"),{type:"dismissable"})}))}},U("Load more stories")),a.a.createElement("div",{className:"results",dangerouslySetInnerHTML:{__html:U("You are seeing %s of %s results","<strong>".concat(k,"</strong>"),"<strong>".concat(Object(f.b)(Math.max(c,k)),"</strong>"))}})),!l&&a.a.createElement(u,{numSkeletonCards:15}))}O.propTypes={stories:s.a.array,searchTerm:s.a.string,nextUrl:s.a.string,showMore:s.a.bool,isMobile:s.a.bool,numStories:s.a.number,viewedStories:s.a.array}},function(e,t,n){"use strict";var r=n(14),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),m=n(3),d=n(2),f=n(51);function p(e){var t,n,r=e.onPurchase,a=e.onCancelPurchase,o=e.toggleModal,i=e.currentPartIsBlocked,s=e.price,l=e.isPurchasingStory,c=Object(d.o)().trans;return l?(t=c("Unlock whole story"),n=c("You are about to use %s Coins to unlock this story",s)):i?(t=c("Unlock this part"),n=c("You are about to use %s Coins to unlock this part",s)):(t=c("Unlock next part"),n=c("You are about to use %s Coins to unlock the next part",s)),u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,n),u.a.createElement("div",{className:"purchase-options"},u.a.createElement("button",{onClick:function(){a(),o()},className:"btn btn-grey cancel"},c("Cancel")),u.a.createElement("button",{onClick:function(){o(),r()},className:"btn btn-orange confirm-unlock"},u.a.createElement(f.a,{width:"24px",height:"24px"}),u.a.createElement("span",null,t))))}p.propTypes={onPurchase:l.a.func.isRequired,onCancelPurchase:l.a.func.isRequired,toggleModal:l.a.func.isRequired,currentPartIsBlocked:l.a.bool.isRequired,price:l.a.number.isRequired,isPurchasingStory:l.a.bool.isRequired};var y=n(5),b=n(8),g=n(108),h=n(79),v=n(6),w=n(352),E=n.n(w);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,e);var t,n,r,o=k(s);function s(){var e;S(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(_(e=o.call.apply(o,[this].concat(n))),"onPurchase",(function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.props,i=o.buyPaidContent,s=o.blockedPart,l=o.fetchWalletBalance,c=o.startPaidContentPurchase,m=o.markPaidContentPurchaseSuccessful,d=o.finishPaidContentPurchase,f=o.trans,b=o.isDesktop,g=o.group,h=o.toggleModal,v=o.amount,w=o.onBuyCoins,O=o.currentPartIsBlocked,S=t<=v;if(!S)return window.te.push("event","paywall","purchase",null,"failed",{page:"reading",storyid:n,partid:r,cost:t,starting_balance:v,part_index:j}),void w();b||Object(y.v)(e.paywallRef,-25);var C=function(){return window.te.push("event","paywall","purchase",null,"cancelled",{page:"reading",storyid:n,partid:r,cost:t,part_index:j,content_type:r?"part":"story"})},j=Object(y.j)(s.id,g),k=void 0===r&&!a;k?h({component:function(a){var o=a.toggleModal;return u.a.createElement(p,{onPurchase:function(){e.onPurchase(t,n,r,!0)},onCancelPurchase:C,toggleModal:o,currentPartIsBlocked:O,isPurchasingStory:!r,price:t})},className:"purchase-confirmation",onCloseModal:C}):Promise.all([i(t,n,r,j),c(t,r)]).then((function(){return l(wattpad.user.username,!0),m()})).then(d).then((function(){var t="/".concat(s.id);window.app.router.navigate(t,{trigger:!0}),setTimeout((function(){var t=e.props.group.user,n=E.a.renderToString(u.a.createElement(A,{trans:f,user:t}));window.wattpad.utils.showToast(n,{dismissAfterDuration:6e3})}),700)})).catch((function(){d()}))})),T(_(e),"renderAuthorDetails",(function(){var t=e.props,n=t.isDesktop,r=t.group,a=t.trans,o=r.user,i=r.description,s=o.username,l=o.name,c=o.avatar;return n?u.a.createElement("div",{className:"author-info desktop"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",{className:"avatar avatar-lg center-block"},u.a.createElement(m.a,{avatar:c,username:s}))),u.a.createElement("div",{className:"info"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("span",{className:"center-block",dangerouslySetInnerHTML:{__html:a("by <strong>%s</strong>",l)}})),u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",null,"@".concat(s))),u.a.createElement("div",{className:"description"},Object(y.w)(i,70)))):u.a.createElement("div",{className:"author-info mobile"},u.a.createElement("div",{className:"avatar avatar-sm center-block"},u.a.createElement(m.a,{avatar:c,username:s})),u.a.createElement("span",{dangerouslySetInnerHTML:{__html:a('by <a href=%s class="on-navigate">%s</a>',"/user/".concat(s),s)}}))})),T(_(e),"getConditionalCopy",(function(e,t,n,r,a){var o,i=a(e?r?"Read it now":"Unlock this part":"Unlock next part");o=a(e?t?"Unlock this story part or the entire story.":"Unlock this story part.":t?"Unlock a new story part or the entire story.":"Unlock a new story part.");var s=a(t?"Either way, your Coins help writers earn money for the stories you love.":"Your Coins help writers earn money for the stories you love."),l=r?a("Unlock this part to continue reading instantly."):null;return{buyPartCopy:i,supportCtaCopy:n||l||"".concat(o," ").concat(s)}})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockedPart,n=e.amount,r=e.group;if(t){var a=Object(y.j)(t.id,r);window.te.push("event","paywall",null,null,"view",{page:"reading",storyid:r.id,partid:t.id,starting_balance:n,part_index:a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.blockedPart,r=t.currentPartIsBlocked,o=t.group,s=t.storyPrice,l=t.remainingBlockedParts,c=t.purchase,d=t.isDesktop,p=t.trans,y=t.showStoryPaywallModal,b=t.onBuyCoins,h=t.isHybeStory,v=o.user,w=o.id,E=o.completed,O=v.username,S=v.name,C=n.price,j=n.id,k=n.blockedMessage,N=n.isBonusPart,_=c.isPurchasing,P=a.a.isNumber(s),T=E&&P,R=this.getConditionalCopy(r,T,k,N,p),x=R.buyPartCopy,A=R.supportCtaCopy;return u.a.createElement("div",{className:i()("story-part-paywall",{"is-bonus-part":N}),ref:function(t){return e.paywallRef=t}},u.a.createElement("div",{className:"lock-circle"},u.a.createElement(m.e,{iconName:"fa-lock",height:"16",color:"wp-neutral-2"})),!d&&u.a.createElement(g.a,{onWalletClick:b}),u.a.createElement("div",{className:"cta"},u.a.createElement("h2",null,h&&!E?p("New parts added weekly"):p(N?"Show your support for %s and stay immersed in the story":"Show your support for %s, and continue reading this story",S)),this.renderAuthorDetails(),u.a.createElement("div",{className:"become-a-supporter"},A)),u.a.createElement("div",{className:"purchase-buttons-container"},T&&!N&&u.a.createElement("button",{onClick:function(){return e.onPurchase(s,w)},className:i()("btn btn-primary unlock unlock-story",{disabled:_})},u.a.createElement("span",{className:"cost"},u.a.createElement(f.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},s)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,p("Unlock whole story")))),u.a.createElement("button",{onClick:function(){return e.onPurchase(C,w,j)},className:i()("btn btn-primary unlock unlock-part",{disabled:_})},u.a.createElement("span",{className:"cost"},u.a.createElement(f.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},C)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,x)))),u.a.createElement("div",{className:"more-details"},T&&!N&&u.a.createElement("p",{dangerouslySetInnerHTML:{__html:p("This story has <strong>%s remaining parts</strong>",l)}}),p(N?"Your coins help writers like @%s earn money for creating the stories you love.":"See how Coins support your favorite writers like @%s.",O),u.a.createElement("button",{className:"btn-link",onClick:y},p("Learn more"))))}}])&&C(t.prototype,n),r&&C(t,r),s}(u.a.Component);T(R,"propTypes",{blockedPart:l.a.shape({price:l.a.number,id:l.a.number.isRequired,blockedMessage:l.a.string,isBonusPart:l.a.bool}),currentPartIsBlocked:l.a.bool.isRequired,storyPrice:l.a.number,isDesktop:l.a.bool.isRequired,amount:l.a.number.isRequired,group:l.a.shape({user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired}),description:l.a.string.isRequired,id:l.a.string.isRequired,completed:l.a.bool}),remainingBlockedParts:l.a.number.isRequired,buyPaidContent:l.a.func,fetchWalletBalance:l.a.func.isRequired,startPaidContentPurchase:l.a.func.isRequired,markPaidContentPurchaseSuccessful:l.a.func.isRequired,finishPaidContentPurchase:l.a.func.isRequired,purchase:l.a.shape({isPurchasing:l.a.bool.isRequired,amountSpent:l.a.number.isRequired,buyingPart:l.a.bool.isRequired}).isRequired,trans:l.a.func.isRequired,toggleModal:l.a.func.isRequired,showStoryPaywallModal:l.a.func,onBuyCoins:l.a.func,isHybeStory:l.a.bool});var x={fetchWalletBalance:h.a,startPaidContentPurchase:h.d,markPaidContentPurchaseSuccessful:h.c,finishPaidContentPurchase:h.b,toggleModal:b.b};t.a=Object(v.b)((function(e){return{purchase:e.purchase,amount:e.wallet.amount}}),x)(Object(y.n)(R));function A(e){var t=e.user,n=e.trans,r=t.name,a=t.username,o=t.avatar;return u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{className:"avatar avatar-md",style:{flexShrink:0,marginRight:12}},u.a.createElement(m.a,{avatar:o,username:a})),u.a.createElement("div",{style:{lineHeight:"normal"}},u.a.createElement("div",{style:{fontSize:17,fontWeight:600,marginBottom:5}},r),u.a.createElement("div",null,"",n("Thank you for the support! I hope you enjoy the story!"),"")))}A.propTypes={user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired,avatar:l.a.string.isRequired}),trans:l.a.func.isRequired}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(41),c=n(6),u=n(95),m=function(e){var t=e.title,n=e.mainContent,r=e.secondaryContent,o=e.link,i=e.button,s=e.closePopover,l=e.handleHelpLink;return a.a.createElement("div",{className:"react-popover-tooltip"},a.a.createElement("h3",{className:"popover-title"},t),a.a.createElement("div",{className:"popover-content"},n&&a.a.createElement("div",{className:"main-content"},n),r&&a.a.createElement("div",{className:"secondary-content"},r),a.a.createElement("div",{className:"tooltip-footer"},o&&a.a.createElement("a",{target:"blank",href:o.href,onClick:l},o.text),i&&a.a.createElement("button",{className:"btn on-okay btn-orange",onClick:function(){return s()}},i.text))))};m.defaultProps={closePopover:function(e){return e.preventDefault()},handleHelpLink:function(){}},m.propTypes={title:i.a.string,mainContent:i.a.string,secondaryContent:i.a.string,link:i.a.object,button:i.a.object,closePopover:i.a.func,handleHelpLink:i.a.func};var d=m,f=n(144);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.story,n=e.openPopover,o=e.handleUpdateCopyright,i=Object(s.o)().trans,l=Object(r.useRef)(),c=Object(f.b)(),m=Object(f.a)(),b=t&&t.copyright?t.copyright+"":"1",g=y(Object(r.useState)(b),2),v=g[0],w=g[1],E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.te.push("event","copyright","story",e,t,n)},O=function(){E(null,"learn_more",{storyid:t.id,target:"hc_copyright_faq"})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{label:i("Copyright"),dropdownOptions:m,name:"copyright",onFocus:function(){E(null,"open",{storyid:t.id})},onChange:function(e){var n=e.target.value,r=parseInt(n,10);w(n),E("license","select",{storyid:t.id,license_id:r}),o(r)},onBlur:function(){E(null,"close",{storyid:t.id})},selected:v,onClickIcon:function(e){e.preventDefault(),l.current||(l.current=e.currentTarget);n({component:function(e){var t=e.closePopover;return a.a.createElement(d,p({},c.copyright,{closePopover:t,handleHelpLink:O}))},triggerRef:l,passthroughProps:{placement:"top",showArrow:"true"}})},ariaLabel:i("Copyright options")}),a.a.createElement(h,{copyrightId:v,copyrightLicenses:m}))},h=function(e){var t=e.copyrightId,n=e.copyrightLicenses.find((function(e){return e.value.toString()===t}));return a.a.createElement("p",{className:"copyright-description"},n.summary)};h.propTypes={copyrightId:i.a.string,copyrightLicenses:i.a.array},g.defaultProps={story:{}},g.propTypes={openPopover:i.a.func.isRequired,story:i.a.object,handleUpdateCopyright:i.a.func,closePopover:i.a.func};var v=Object(c.b)(null,{openPopover:l.c})(g);t.a=v},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(18),u=n(44),m=n.n(u),d=n(10),f=n(190),p=n(2);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.adData,n=e.partId,o=e.storyId,s=e.partTitle,l=e.paragraphId,u=e.paragraphBody,b=e.storyAuthor,g=e.initialCommentId,h=e.onDrawerRef,v=e.onCloseDrawer,w=e.onUpdateCount,E=e.onCommentsChanged,O=Object(p.o)().trans,S=Object(r.useRef)(),C=y(Object(r.useState)(!1),2),j=C[0],k=C[1],N={page:"comment",storyid:parseInt(o),partid:parseInt(n),paragraph_id:l,entity_type:"comment",sentiment_type:"like"};Object(r.useEffect)((function(){return k(!0),document.body.classList.add("paragraph-comments-drawer-open"),function(){return document.body.classList.remove("paragraph-comments-drawer-open")}}),[]);var _=function(){k(!1),setTimeout(v,300)};return m.a.createPortal(a.a.createElement("div",{className:"paragraph-comments-drawer",ref:h},a.a.createElement("div",{role:"presentation",className:i()("modal-backdrop fade",{in:j}),onClick:_}),a.a.createElement("div",{ref:S,className:i()("drawer-content",{open:j})},a.a.createElement("header",{className:"drawer-header"},a.a.createElement("h1",{className:"drawer-title"},s),a.a.createElement("button",{className:"close-btn",onClick:_,"aria-label":O("Close")},a.a.createElement(d.a,{iconName:"fa-remove",height:"14",color:"wp-neutral-1"}))),a.a.createElement("div",{className:"drawer-body"},a.a.createElement("div",{className:"paragraph-content"},a.a.createElement("pre",{dangerouslySetInnerHTML:{__html:u}})),a.a.createElement(f.a,{adData:t,partId:n,paragraphId:l,storyAuthor:b,scrollableRef:S,initialComment:g&&{commentId:g},location:c.e.PARAGRAPH,sentimentEventData:N,onUpdateCount:w,onCommentsChanged:E})))),document.getElementById("story-reading"))};g.propTypes={adData:c.a,partId:l.a.number.isRequired,storyId:l.a.string.isRequired,partTitle:l.a.string.isRequired,paragraphId:l.a.string.isRequired,paragraphBody:l.a.string.isRequired,storyAuthor:l.a.string.isRequired,initialCommentId:l.a.string,onDrawerRef:l.a.func,onCloseDrawer:l.a.func.isRequired,onUpdateCount:l.a.func.isRequired,onCommentsChanged:l.a.func};var h=g,v=n(5);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.partId,n=e.storyId,o=e.partTitle,s=e.paragraphId,l=e.paragraphBody,c=e.storyAuthor,u=e.adData,m=e.initialCommentId,f=e.commentCount,y=w(Object(r.useState)(),2),b=y[0],g=y[1],E=w(Object(r.useState)(!1),2),O=E[0],S=E[1],C=w(Object(r.useState)(f),2),j=C[0],k=C[1],N=w(Object(r.useState)(m),2),_=N[0],P=N[1],T=Object(r.useRef)(),R=Object(r.useCallback)((function(e){return g(e)}),[]),x=function(e){window.te.push("event","comments",null,null,e,{page:"comment",storyid:parseInt(n),partid:parseInt(t),paragraph_id:s})},A=function(){S(!0),x("view")},I=function(){var e;S(!1),P(void 0),null===(e=T.current)||void 0===e||e.focus(),x("close")};Object(r.useEffect)((function(){m&&A()}),[m]);var L=Object(p.p)(b,T.current,I).updateTabStops;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{ref:T,onClick:A,className:i()("btn-no-background comment-marker",{"hide-marker":!j})},a.a.createElement("span",{className:"num-comment"},j?Object(v.b)(j):"+"),a.a.createElement(d.a,{iconName:"fa-comment-count",height:"28",color:"wp-neutral-2"})),O&&a.a.createElement(h,{partId:t,storyId:n,partTitle:o,paragraphId:s,paragraphBody:l,storyAuthor:c,initialCommentId:_,onDrawerRef:R,onCloseDrawer:I,onUpdateCount:function(e){k((function(t){return t+e}))},onCommentsChanged:L,adData:u}))};O.propTypes={partId:l.a.number.isRequired,storyId:l.a.string.isRequired,partTitle:l.a.string.isRequired,paragraphId:l.a.string.isRequired,paragraphBody:l.a.string.isRequired,storyAuthor:l.a.string.isRequired,commentCount:l.a.number.isRequired,adData:c.a,initialCommentId:l.a.string};t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(5);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,v,w,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=y(i);function i(){return d(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.story,r=t.trans;n.publishedPartsCount=n.parts.filter((function(e){return!e.draft})).length,n.draftPartsCount=n.parts.filter((function(e){return e.draft})).length;var o=r("%s Published part",n.publishedPartsCount);n.publishedPartsCount>1&&(o=r("%s Published parts",n.publishedPartsCount));var i=r("%s - draft",n.draftPartsCount);return n.draftPartsCount>1&&(i=r("%s - drafts",n.draftPartsCount)),a.a.createElement("div",{className:l()("story-list-item",this.props.className),key:n.id,onClick:function(){return e.props.onSelectStory(n)},onKeyDown:function(){return e.props.onSelectStory(n)},role:"row",tabIndex:"0"},a.a.createElement("img",{className:"story-cover",src:n.cover,alt:"".concat(n," cover")}),a.a.createElement("div",{className:"story-item-details"},a.a.createElement("h4",{className:"story-title"},n.title),a.a.createElement("div",null,n.publishedPartsCount?a.a.createElement("span",{className:"publish-count"},o):"",n.draftPartsCount?a.a.createElement("span",{className:"draft-count"},"",i):""),a.a.createElement("div",{className:"updated-date"},r("Updated %s",Object(u.e)(n.modifyDate))),a.a.createElement("div",{className:"meta-wrapper"},a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-view",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.readCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-vote",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.voteCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-comment",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.commentCount).toString()))))}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.Component);h=E,v="propTypes",w={story:i.a.object.isRequired,className:i.a.string,trans:i.a.func.isRequired,onSelectStory:i.a.func},v in h?Object.defineProperty(h,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):h[v]=w;var O=Object(u.n)(E);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var a=T(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=N(i);function i(){var e;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(P(e=o.call.apply(o,[this].concat(n))),"state",{done:!1,selectedStory:e.props.selectedStoryId,uploading:!1}),R(P(e),"selectStory",(function(t){e.setState({selectedStory:t.id})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=window.wattpad.utils.currentUser().toJSON().username;this.setState({newCover:document.getElementById("newCover").getAttribute("src")}),$.get("/api/v3/users/".concat(t,"/stories")).then((function(t){e.setState({works:t.stories.sort((function(t,n){return e.state.selectedStory&&t.id==e.state.selectedStory?-1:e.state.selectedStory&&n.id==e.state.selectedStory?1:0}))})}))}},{key:"detectCanvasSupport",value:function(){return!!document.createElement("canvas").getContext}},{key:"captureCover",value:function(e){if(this.detectCanvasSupport())return new Promise((function(t){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e=document.createElement("canvas");e.width=512,e.height=800,e.getContext("2d").drawImage(n,0,0,512,800),t(e.toDataURL())},n.src=e}))}},{key:"uploadCover",value:function(e){var t=this;this.captureCover(this.state.newCover).then((function(n){if(n)return t.setState({uploading:!0}),Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:{id:e,image:n.match(/;base64,(.+)$/)[1]}})).then((function(){t.setState({done:!0}),window.te.push("event","writer","cover",null,"add",{storyid:e,source:"canva"})}))}))}},{key:"render",value:function(){var e=this,t=this.props.trans,n=this.state.works?this.state.works:this.props.works?this.props.works:[],r=(this.state.newCover?this.state:this.props).newCover,o=this.state,i=o.done,s=o.uploading;return a.a.createElement("div",{id:"creation-works-listing",className:"container"},i&&a.a.createElement("div",{className:l()("cover-finished")},a.a.createElement("span",{className:"success-message",dangerouslySetInnerHTML:{__html:t("Cover uploaded to <strong>'%s'</strong>",this.state.works.find((function(t){return t.id==e.state.selectedStory})).title)}}),a.a.createElement("a",{href:"/myworks/".concat(this.state.selectedStory),className:"btn btn-md btn-orange"},t("Go to story"))),a.a.createElement("div",{className:"import-cover"},!i&&a.a.createElement("div",{className:"new-cover-block"},a.a.createElement("img",{width:"256",id:"newCover",src:r,alt:"new cover"})),!i&&a.a.createElement("div",{className:"user-story-list"},a.a.createElement("h3",null,t("Add cover to selected story")),s&&a.a.createElement(c.c,{name:"/icons/spinner-black.svg",className:"progress-spinner fa-spin",alt:t("Spinner"),height:"48",width:"48"}),!s&&n.map((function(t){var n=!1;return e.state.selectedStory&&e.state.selectedStory==t.id&&(n=!0),a.a.createElement(O,{key:t.id,story:t,className:l()({selected:n}),onSelectStory:e.selectStory})})))),!i&&a.a.createElement("div",{className:l()("continue-nav",{hidden:i})},a.a.createElement("button",{onClick:this.uploadCover.bind(this,this.state.selectedStory),className:l()("btn btn-md btn-orange",{disabled:!this.state.selectedStory})},t("Next"))))}}])&&j(t.prototype,n),r&&j(t,r),i}(a.a.Component);R(x,"propTypes",{works:i.a.array,coverUri:i.a.string,selectedStoryId:i.a.string,trans:i.a.func.isRequired});t.a=Object(u.n)(x)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(128),l={id:1,title:"The Ugly Barnacle",description:"A story about an ugly barnacle",cover:"https://img.wattpad.com/cover/197712604-512-k40d0e0.jpg",isPaid:!0,tags:["shortstory","sad","tragedy"],sources:["a","b","c"],width:200,index:1,numParts:10,completed:!0,mature:!1,firstPartId:123},c=Array(10).fill(l);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,s,"next",e)}function s(e){m(o,r,a,i,s,"throw",e)}i(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y="stories(id,title,tags,cover)",b={sectionType:"swimlane",index:0,setPosition:function(){},windowWidth:1920,wasSeen:!1},g=function(e){var t=f(Object(r.useState)([]),2),n=t[0],o=t[1];Object(r.useEffect)((function(){function t(){return(t=d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!n.length&&e.rootTopic&&$.get("/v4/paid_stories/tags/".concat(e.rootTopic.get("name"),"?fields=").concat(y)).then((function(e){return e.stories.map((function(e){return e.isPaid=!0,e}))})).then((function(e){return o(e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.rootTopic,n.length]);var i=!(!n.length||!e.rootTopic);return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement(s.a,u({},b,{page:"tags",wasSeen:!0,sectionType:"tags_paid_carousel",heading:"Hottest Paid Stories",subheading:"Read the stories we love",stories:n.length?n:c.slice(0,7),isPromoted:!1,storiesToShow:7,storyWidth:112})))};g.propTypes={rootTopic:i.a.object};t.a=g},,,,,function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var r=function(e){return Promise.resolve($.ajax({type:"GET",url:e}))};e.exports=function(){return new Promise(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r("https://www.wattpad.com/v5/password-strength/policies").then((function(e){return t(e)})).catch((function(e){return n(e)}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,l,"next",e)}function l(e){n(i,a,o,s,l,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}},function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var r=function(e,t){return Promise.resolve($.ajax({type:"post",url:e,data:t,contentType:"application/json; charset=utf-8",dataType:"json"}))};e.exports=function(e,t,a,o){if(!o)throw new Error("Must provide a password!");return new Promise(function(){var i,s=(i=regeneratorRuntime.mark((function n(i,s){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={password:o,requester:{username:a,firstName:e,lastName:t}},n.next=4,r("https://www.wattpad.com/v5/password-strength/check",JSON.stringify(l)).then((function(e){return i(e)})).catch((function(e){return s(e)}));case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=i.apply(e,t);function s(e){n(o,r,a,s,l,"next",e)}function l(e){n(o,r,a,s,l,"throw",e)}s(void 0)}))});return function(e,t){return s.apply(this,arguments)}}())}},,,function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(2),c=n(3),u=n(88),m=n(191),d=n(185);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=y||e,b=function(e){var t=e.user,n=(t=void 0===t?{}:t).username,o=t.avatar,i=e.cover,p=e.draft,b=e.isLoggedInUser,g=e.isPaid,h=e.isPaidPreview,v=e.firstPartId,w=e.statsItems,E=e.title,O=void 0===E?"Placeholder title TBD":E,S=e.storyId,C=e.readingLists,j=e.storiesCollections,k=e.sources,N=e.writerPreviewHasBannedCover,_=f(Object(r.useState)(y.innerWidth),2),P=_[0],T=_[1],R=f(Object(r.useState)(.3*P),2),x=R[0],A=R[1],I=Object(l.o)().trans,L=36,M=36;Object(l.d)("resize",(function(){T(y.innerWidth),A(P>650?195:.3*P)})),P<=575&&(L=22,M=16);var D=Object(s.t)(i,x);return a.a.createElement("div",{className:"story-header"},a.a.createElement("div",{className:"story-cover"},D?a.a.createElement("img",{src:D,alt:""}):a.a.createElement("img",{src:i,alt:""}),N&&a.a.createElement("div",{className:"banned-overlay"},a.a.createElement(c.e,{name:"warning-triangle",size:"68",color:"wp-warning-01",viewBox:"24",className:"warning-icon"}))),a.a.createElement("div",{className:"story-info"},g&&a.a.createElement("div",{className:"paid-indicator"},a.a.createElement(c.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-80",strokeWidth:"0",fill:!0}),a.a.createElement("span",null,I("Paid story"))),a.a.createElement("span",{className:"sr-only"},O),a.a.createElement("div",{"aria-hidden":"true",className:"story-info__title"},Object(s.w)(O,L,!1)),n&&a.a.createElement(d.a,{username:n,avatar:o,authorCharLimit:M}),a.a.createElement(u.a,{statsItems:w,className:"hidden-xxs",showTooltip:!0}),a.a.createElement(m.a,{className:"hidden-xxs",draft:p,isLoggedInUser:b,isPaid:g,isPaidPreview:h,firstPartId:v,storyId:S,readingLists:C,sources:k,storiesCollections:j})))};b.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired}),cover:i.a.string.isRequired,draft:i.a.bool,firstPartId:i.a.number,isLoggedInUser:i.a.bool,isPaid:i.a.bool,isPaidPreview:i.a.bool,statsItems:i.a.arrayOf(i.a.object),title:i.a.string,storyId:i.a.number,readingLists:i.a.array,storiesCollections:i.a.object,sources:i.a.array,writerPreviewHasBannedCover:i.a.bool},t.a=b}).call(this,n(36))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(184),l=n(109),c=n(166),u=n(76),m=n(90),d=n.n(m),f=n(2);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=b||e,g=function(e){var t=e.stories,n=e.userLang,o=e.page,i=p(Object(r.useState)(!1),2),m=i[0],y=i[1],g=Object(r.useRef)(),h=Object(u.a)()&&b.innerWidth<575,v=Object(f.o)().trans,w=d()(n);return Object(r.useEffect)((function(){if(!m&&h){var e=_.throttle((function(){if(g.current){var e=g.current.getBoundingClientRect(),t=e.top,n=e.bottom;t>=0&&n<=b.innerHeight&&y(!0)}}),300);return b.addEventListener("scroll",e),function(){b.removeEventListener("scroll",e)}}}),[m,y,g,h]),a.a.createElement("div",{className:"story-list"},a.a.createElement("div",{className:"story-list__container"},a.a.createElement("div",{className:"story-list__DW_title"},v("You may also like")),t&&t.map((function(e,t){return a.a.createElement("div",{key:t,className:"story-list__item"},a.a.createElement(c.a,{id:e.id,cover:e.cover,title:e.title,user:e.user,description:e.description,url:e.url,descCharLimit:100,isPaywalled:e.isPaywalled,isCompleted:e.completed,isMature:e.mature,numParts:e.numParts,isFeatureFlagged:!0,isMobile:h}))}))),a.a.createElement("div",{ref:g,className:"story-list__MW_title"},v("You may also like")),w?a.a.createElement(l.a,{stories:t,sectionType:"similar_stories",windowWidth:b.innerWidth,wasSeen:m&&h,page:o}):a.a.createElement(s.a,{stories:t,sectionType:"similar_stories",windowWidth:b.innerWidth,userLang:n,page:o,wasSeen:m&&h}))};g.propTypes={stories:i.a.array,userLang:i.a.number,page:i.a.string},t.a=g}).call(this,n(36))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(6),i=n(122),s=n(1),l=n.n(s),c=n(2),u=n(128);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=f||e;function p(e){var t=e.loadPaidStoriesList,n=e.paidStoriesListByTag,o=m(Object(r.useState)(f.innerWidth),2),i=o[0],s=o[1];Object(c.d)("resize",(function(){s(f.innerWidth)})),Object(c.l)({direction:"down",threshold:200,onThreshold:function(){t()}}),Object(r.useEffect)((function(){t()}),[t]);var l=Object(c.o)().trans,d={ongoingstories:l("Ongoing Stories"),featuredpicks:l("Featured Picks"),onsale:l("On Sale"),teenfiction:l("Contemporary Teen Fiction"),romance:l("Adult Romance"),lgbt:l("LGBTQIAP+"),newadult:l("New Adult Romance"),fantasy:l("High Fantasy"),featuredstories:l("Featured Stories"),newreleases:l("New Releases"),werewolf:l("Werewolf"),diverselit:l("Diverse Lit"),wattpadbooks:l("Wattpad Books"),lessthan74coins:l("Deals: Stories for 74 coins or less"),urbanfantasy:l("Urban Fantasy"),genreyoungadult:l("Genre Young Adult"),historicalfiction:l("Historical Fiction"),paranormal:l("Paranormal"),sciencefiction:l("Science Fiction"),vampire:l("Vampire"),series:l("Series"),chicklit:l("ChickLit"),sexyandsteamy:l("Sexy and Steamy"),emotionalanduplifting:l("Emotional and Uplifting"),darkanddisturbing:l("Dark and Disturbing"),mystery:l("Mystery"),horror:l("Horror"),thriller:l("Thriller"),adventure:l("Adventure"),action:l("Action"),humor:l("Humor")};return Object(c.m)(l("Catalog")+" - "+l("Paid Stories")),a.a.createElement("div",{className:"catalog-content"},Object.keys(n).map((function(e){var t=d[e]||e;return a.a.createElement(u.a,{key:e,windowWidth:i,index:0,setPosition:function(){},page:"catalog",wasSeen:!0,sectionType:"paid_view_all_carousel",title:t,heading:t,stories:n[e],isPromoted:!1,withDivider:!1})})))}p.propTypes={loadPaidStoriesList:l.a.func,paidStoriesListByTag:l.a.object};var y=Object(o.b)((function(e){return{paidStoriesListByTag:e.catalog.paidStoriesListByTag}}),{loadPaidStoriesList:i.c})(p)}).call(this,n(36))},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(93),a=n(60);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={modalProps:null};var c=n(41),u=n(16);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n(140),y=n(59),b=n(122),g=n(123),h=n(78),v=n(87),w=n(12);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=n(20),j=n(45),k=n(124),N=n(32);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={isLoading:!0,hasNotesBeenVisible:!1,data:{id:null,protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,types:null}}};var x=n(125),A=n(15);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return{story_id:q(e,"story_id"),part_id:q(e,"part_id"),author_id:q(e,"author_id"),author_note:U(e,"author_note"),chapter_description:U(e,"chapter_description"),paid_model:U(e,"paid_model"),bonus_type:q(e,"bonus_type"),is_free_part:U(e,"is_free_part")}}function U(e,t){var n;return(null===(n=e.data)||void 0===n?void 0:n[t])||A.b.data[t]}function q(e,t){var n;return parseInt(null===(n=e.data)||void 0===n?void 0:n[t])||A.b.data[t]}var B=Object(r.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},appData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},deviceData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{amount:0,animationStep:u.l.DEFAULT,id:u.d,fetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.i:return d(d({},e),{},{amount:t.amount,fetched:!0});case u.k:return d(d({},e),{},{animationStep:t.step});case u.a:return d(d({},e),{},{animationStep:u.l.DEFAULT});default:return e}},purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPurchasing:!1,amountSpent:0,buyingPart:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.b:return d(d({},e),{},{amountSpent:t.price,isPurchasing:!0,buyingPart:!!t.partId});case u.a:return d(d({},e),{},{isPurchasing:!1,amountSpent:0});default:return e}},threads:g.a,conversation:h.a,paidMetadata:p.b,modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.c:return i(i({},e),{},{modalProps:e.modalProps?null:t.modalProps});case a.b:return i(i({},e),{},{modalProps:t.modalProps});case a.a:return i(i({},e),{},{modalProps:null});default:return e}},popover:c.b,contestForm:y.a,storyTags:v.b,homeSections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sections:[],sectionBounds:{},error:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:return O(O({},e),{},{sections:t.sections});case w.i:return O(O({},e),{},{homeLoading:!0});case w.j:return O(O({},e),{},{homeLoading:!1});case w.t:return O(O({},e),{},{showLoader:!0});case w.f:return O(O({},e),{},{showLoader:!1});case w.p:return O(O({},e),{},{sectionBounds:O(O({},e.sectionBounds),{},S({},t.info.index,t.info))});case w.n:return O(O({},e),{},{contentSettings:t.settings});case w.m:return O(O({},e),{},{message:"no change"});case w.g:return O(O({},e),{},{contentSettingsLoading:!0});case w.h:return O(O({},e),{},{contentSettingsLoading:!1});case w.s:return O(O({},e),{},{sectionBounds:O(O({},e.sectionBounds),{},S({},t.index,O(O({},e.sectionBounds[t.index]),{},{viewed:!0})))});case w.o:return O(O({},e),{},{readingLists:t.lists,readingListsLoading:!1});case w.k:return O(O({},e),{},{readingListsLoading:!0});case w.q:return O(O({},e),{},{storiesCollections:O(O({},e.storiesCollections),t.collections),storiesCollectionsLoading:!1});case w.l:return O(O({},e),{},{storiesCollectionsLoading:!0});case w.a:return O(O({},e),{},{storiesCollections:O(O({},e.storiesCollections),{},S({},t.storyId,O(O({},e.storiesCollections[t.storyId]),{},S({},t.collectionId,!0))))});case w.r:return O(O({},e),{},{storiesCollections:O(O({},e.storiesCollections),{},S({},t.storyId,O(O({},e.storiesCollections[t.storyId]),{},S({},t.collectionId,!1))))});case w.d:return O(O({},e),{},{error:t.error});case w.c:return O(O({},e),{},{error:null});default:return e}},profileData:C.d,toast:j.b,catalog:b.a,quests:k.a,storyNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case N.d:return P(P({},e),{},{isLoading:!0});case N.b:var n,r,a,o;return P(P({},e),{},{isLoading:!1,data:{id:parseInt(null===(n=t.data)||void 0===n?void 0:n.id)||R.data.id,protagonist:(null===(r=t.data)||void 0===r?void 0:r.protagonist)||R.data.protagonist,protagonist_goal:(null===(a=t.data)||void 0===a?void 0:a.protagonist_goal)||R.data.protagonist_goal,opportunity:(null===(o=t.data)||void 0===o?void 0:o.opportunity)||R.data.opportunity}});case N.c:return P(P(P({},e),e.data),{},{isLoading:!1});case N.a:return P(P({},e),{},{isLoading:!1});case N.e:return P(P({},e),{},{data:{id:parseInt(t.data.id)||R.data.id,protagonist:t.data.protagonist||R.data.protagonist,protagonist_goal:t.data.protagonist_goal||R.data.protagonist_goal,opportunity:t.data.opportunity||R.data.opportunity}});case N.f:return P(P({},e),{},{hasNotesBeenVisible:!0});default:return e}},worksItemDetails:x.a,paidPartConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case A.f:return L(L({},e),{},{isLoading:!0});case A.d:return L(L({},e),{},{isLoading:!1,data:D(t)});case A.e:return L(L(L({},e),e.data),{},{isLoading:!1});case A.c:return L(L({},e),{},{isLoading:!1});case A.g:return L(L({},e),{},{data:D(t)});case A.h:return L(L({},e),{},{isFormVisible:!0});default:return e}}});t.a=B}])}));
//# sourceMappingURL=react-bundle.components.858bfe44.js.map